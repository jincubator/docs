<!doctype html>
<html lang="en" data-vocs>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="/initializeTheme.iife.js"></script>&lt;script src=&quot;/zoom-mermaid.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;<link rel="preload" as="image" href="/images/jincubator.png"/><link rel="preload" as="image" href="https://hackmd.io/_uploads/BJGsMEVDxg.png"/><link rel="preload" as="image" href="https://hackmd.io/_uploads/SyGiGVNDgl.png"/><link rel="preload" as="image" href="https://hackmd.io/_uploads/HJzjzN4Dxl.png"/><link rel="preload" as="image" href="https://hackmd.io/_uploads/r1GsM44vxl.png"/><link rel="preload" as="image" href="https://hackmd.io/_uploads/HkMofEVvel.png"/><title>TAP-4 Atomic Arbitrage : Application Proposal – Jincubator</title><link rel="icon" href="/images/jincubator.png" type="image/png"/><meta property="og:type" content="website"/><meta property="og:title" content="TAP-4 Atomic Arbitrage : Application Proposal"/><meta property="og:url" content="/"/><meta property="og:image" content="https://vocs.dev/api/og?logo=//images/jincubator.png&title=TAP-4 Atomic Arbitrage : Application Proposal&description="/><meta name="twitter:card" content="summary_large_image"/><meta property="twitter:image" content="https://vocs.dev/api/og?logo=//images/jincubator.png&title=TAP-4%20Atomic%20Arbitrage%20%3A%20Application%20Proposal&description=undefined"/>
    <script type="module" crossorigin src="/assets/index-BZW_0xgh.js"></script>
    <link rel="stylesheet" crossorigin href="/assets/style-CgUDpFKq.css">
  </head>
  <body>
    <div id="app"><base href="/"/><div class="vocs_DocsLayout" data-layout="docs"><a class="vocs_SkipLink vocs_utils_visuallyHidden" href="/proposals/atomic-arbitrage#vocs-content">Skip to content</a><div class="vocs_DocsLayout_gutterLeft"><aside class="vocs_Sidebar vocs_DocsLayout_sidebar"><div><div class="vocs_Sidebar_logoWrapper"><div class="vocs_Sidebar_logo"><a style="align-items:center;display:flex;height:100%" href="/" data-discover="true"><img alt="Logo" class="vocs_NavLogo_logoImage vocs_Logo" src="/images/jincubator.png"/></a></div><div class="vocs_Sidebar_divider"></div></div><nav class="vocs_Sidebar_navigation"><div class="vocs_Sidebar_group"><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Grant Proposals</div></div><div class="vocs_Sidebar_items"><a data-active="true" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/proposals/atomic-arbitrage" variant="styleless" data-discover="true">Tycho Atomic Arbitrage (2025)</a><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/proposals/sunrise" variant="styleless" data-discover="true">Sunrise Protocol (2020)</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Coding Events</div></div><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/proposals/Unite" variant="styleless" data-discover="true">Unite Defi (2025)</a><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/proposals/UHI5" variant="styleless" data-discover="true">Uniswap Hook Incubator 5 (2025)</a><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/proposals/Harmony" variant="styleless" data-discover="true">Harmony Hackathon 2021</a></div></section></div></nav></div><div class="vocs_Sidebar_footer"><div class="vocs_Sidebar_footerCurtain"></div><div class="vocs_Sidebar_footerContent"><div class="vocs_Socials"><a class="vocs_Socials_button" href="https://github.com/jincubator" target="_blank" rel="noopener noreferrer"><div aria-label="GitHub" class="vocs_Icon vocs_Socials_icon" role="img" style="--vocs_Icon_size:17px"><svg width="100%" height="100%" viewBox="0 0 98 96" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path fill-rule="evenodd" clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill="currentColor"></path></svg></div></a><div style="width:1px;margin-top:var(--vocs-space_4);margin-bottom:var(--vocs-space_4);background-color:var(--vocs-color_border)"></div><a class="vocs_Socials_button" href="https://twitter.com/jincubatorX" target="_blank" rel="noopener noreferrer"><div aria-label="X (Twitter)" class="vocs_Icon vocs_Socials_icon" role="img" style="--vocs_Icon_size:16px"><svg width="100%" height="100%" viewBox="0 0 1200 1227" fill="none" xmlns="http://www.w3.org/2000/svg"><title>X</title><path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z" fill="currentColor"></path></svg></div></a><div style="width:1px;margin-top:var(--vocs-space_4);margin-bottom:var(--vocs-space_4);background-color:var(--vocs-color_border)"></div><a class="vocs_Socials_button" href="https://t.me/jincubator" target="_blank" rel="noopener noreferrer"><div aria-label="Telegram" class="vocs_Icon vocs_Socials_icon" role="img" style="--vocs_Icon_size:17px"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 50 50"><title>Telegram</title><path d="M25 2c12.703 0 23 10.297 23 23S37.703 48 25 48 2 37.703 2 25 12.297 2 25 2zm7.934 32.375c.423-1.298 2.405-14.234 2.65-16.783.074-.772-.17-1.285-.648-1.514-.578-.278-1.434-.139-2.427.219-1.362.491-18.774 7.884-19.78 8.312-.954.405-1.856.847-1.856 1.487 0 .45.267.703 1.003.966.766.273 2.695.858 3.834 1.172 1.097.303 2.346.04 3.046-.395.742-.461 9.305-6.191 9.92-6.693.614-.502 1.104.141.602.644-.502.502-6.38 6.207-7.155 6.997-.941.959-.273 1.953.358 2.351.721.454 5.906 3.932 6.687 4.49.781.558 1.573.811 2.298.811.725 0 1.107-.955 1.468-2.064z" fill="currentColor"></path></svg></div></a></div></div></div></aside></div><div class="vocs_DocsLayout_gutterTop vocs_DocsLayout_gutterTop_offsetLeftGutter"><div class="vocs_DesktopTopNav"><button class="vocs_DesktopSearch_search" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-«Rlj»" data-state="closed"><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-top:2px"><path d="M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159C8.53901 10.6318 7.56251 11 6.5 11C4.01472 11 2 8.98528 2 6.5C2 4.01472 4.01472 2 6.5 2C8.98528 2 11 4.01472 11 6.5C11 7.56251 10.6318 8.53901 10.0159 9.30884L12.8536 12.1464C13.0488 12.3417 13.0488 12.6583 12.8536 12.8536C12.6583 13.0488 12.3417 13.0488 12.1464 12.8536L9.30884 10.0159Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg>Search...<div class="vocs_DesktopSearch_searchCommand"><div style="background:currentColor;transform:rotate(45deg);width:1.5px;border-radius:2px;height:100%"></div></div></button><div class="vocs_DesktopTopNav_logoWrapper"><div class="vocs_DesktopTopNav_logo"><a style="align-items:center;display:flex;height:56px;margin-top:4px" href="/" data-discover="true"><img alt="Logo" class="vocs_NavLogo_logoImage vocs_Logo" src="/images/jincubator.png"/></a></div></div><div class="vocs_DesktopTopNav_section"></div><div class="vocs_DesktopTopNav_section"><div class="vocs_DesktopTopNav_group"><nav aria-label="Main" data-orientation="horizontal" dir="ltr" class="vocs_NavigationMenu"><div style="position:relative"><ul data-orientation="horizontal" class="vocs_NavigationMenu_list" dir="ltr"><a data-active="false" class="vocs_DesktopTopNav_item vocs_NavigationMenu_link vocs_Link vocs_Link_styleless" href="/research/intro" variant="styleless" data-radix-collection-item="" data-discover="true">Research</a><a data-active="false" class="vocs_DesktopTopNav_item vocs_NavigationMenu_link vocs_Link vocs_Link_styleless" href="/proposals/intro" variant="styleless" data-radix-collection-item="" data-discover="true">Proposals</a><a data-active="false" class="vocs_DesktopTopNav_item vocs_NavigationMenu_link vocs_Link vocs_Link_styleless" href="/product/intro" variant="styleless" data-radix-collection-item="" data-discover="true">Product</a><a data-active="false" class="vocs_DesktopTopNav_item vocs_NavigationMenu_link vocs_Link vocs_Link_styleless" href="/partnerships/intro" variant="styleless" data-radix-collection-item="" data-discover="true">Partnerships</a></ul></div></nav></div></div></div><div class="vocs_MobileTopNav"><div class="vocs_MobileTopNav_section"><div class="vocs_MobileTopNav_group"><div class="vocs_MobileTopNav_logo"><a style="align-items:center;display:flex;height:100%" href="/" data-discover="true"><img alt="Logo" class="vocs_NavLogo_logoImage vocs_Logo" src="/images/jincubator.png"/></a></div></div><div class="vocs_MobileTopNav_group"><nav aria-label="Main" data-orientation="horizontal" dir="ltr" class="vocs_MobileTopNav_navigation vocs_NavigationMenu"><div style="position:relative"><ul data-orientation="horizontal" class="vocs_NavigationMenu_list" dir="ltr"><a data-active="false" class="vocs_NavigationMenu_link vocs_Link vocs_Link_styleless" href="/research/intro" variant="styleless" data-radix-collection-item="" data-discover="true">Research</a><a data-active="false" class="vocs_NavigationMenu_link vocs_Link vocs_Link_styleless" href="/proposals/intro" variant="styleless" data-radix-collection-item="" data-discover="true">Proposals</a><a data-active="false" class="vocs_NavigationMenu_link vocs_Link vocs_Link_styleless" href="/product/intro" variant="styleless" data-radix-collection-item="" data-discover="true">Product</a><a data-active="false" class="vocs_NavigationMenu_link vocs_Link vocs_Link_styleless" href="/partnerships/intro" variant="styleless" data-radix-collection-item="" data-discover="true">Partnerships</a></ul></div></nav><div class="vocs_MobileTopNav_navigation vocs_MobileTopNav_navigation_compact"><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-«Rkpj»" data-state="closed" class="vocs_MobileTopNav_menuTrigger vocs_MobileTopNav_navigationItem">Menu<div aria-label="Menu" class="vocs_Icon" role="img" style="--vocs_Icon_size:16px"><svg width="100%" height="100%" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Down</title><path d="M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></div></button></div></div></div><div class="vocs_MobileTopNav_section"><div class="vocs_MobileTopNav_group" style="margin-right:-8px"><button class="vocs_MobileSearch_searchButton" type="button" aria-label="Search" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-«R19j»" data-state="closed"><svg width="21" height="21" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159C8.53901 10.6318 7.56251 11 6.5 11C4.01472 11 2 8.98528 2 6.5C2 4.01472 4.01472 2 6.5 2C8.98528 2 11 4.01472 11 6.5C11 7.56251 10.6318 8.53901 10.0159 9.30884L12.8536 12.1464C13.0488 12.3417 13.0488 12.6583 12.8536 12.8536C12.6583 13.0488 12.3417 13.0488 12.1464 12.8536L9.30884 10.0159Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></button></div></div></div></div><div class="vocs_DocsLayout_gutterTopCurtain vocs_DocsLayout_gutterTopCurtain_withSidebar"><div class="vocs_DesktopTopNav_curtain"></div><div class="vocs_MobileTopNav_curtain"><div class="vocs_MobileTopNav_curtainGroup"><div class="vocs_MobileTopNav_curtainItem"><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-«Rqj»" data-state="closed" class="vocs_MobileTopNav_menuTrigger"><div aria-label="Menu" class="vocs_Icon" role="img" style="--vocs_Icon_size:13px"><svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 79 48" fill="none"><title>Menu</title><path fill="currentColor" d="M19.528 47.232h40.87c1.952 0 3.515-1.562 3.515-3.564a3.5 3.5 0 0 0-3.516-3.516H19.528a3.501 3.501 0 0 0-3.515 3.516c0 2.002 1.562 3.564 3.515 3.564ZM12.057 27.262h55.81a3.501 3.501 0 0 0 3.516-3.516 3.501 3.501 0 0 0-3.515-3.515h-55.81a3.501 3.501 0 0 0-3.516 3.515 3.501 3.501 0 0 0 3.515 3.516ZM4.391 7.34H75.29c2.002 0 3.515-1.563 3.515-3.516 0-2.002-1.513-3.564-3.515-3.564H4.39C2.438.26.876 1.822.876 3.824A3.501 3.501 0 0 0 4.39 7.34Z"></path></svg></div><div class="vocs_MobileTopNav_menuTitle">Tycho Atomic Arbitrage (2025)</div></button></div></div><div class="vocs_MobileTopNav_curtainGroup"><div class="vocs_MobileTopNav_curtainItem"><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-«R5aj»" data-state="closed" class="vocs_MobileTopNav_outlineTrigger">On this page<div aria-label="On this page" class="vocs_Icon" role="img" style="--vocs_Icon_size:16px"><svg width="100%" height="100%" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></div></button></div></div></div></div><div class="vocs_DocsLayout_gutterRight vocs_DocsLayout_gutterRight_withSidebar"></div><div id="vocs-content" class="vocs_DocsLayout_content vocs_DocsLayout_content_withSidebar vocs_DocsLayout_content_withTopNav"><article class="vocs_Content"><header class="vocs_Header"><h1 class="vocs_H1 vocs_Heading"><div id="tap-4-atomic-arbitrage--application-proposal" class="vocs_Heading_slugTarget"></div>TAP-4 Atomic Arbitrage : Application Proposal<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/proposals/atomic-arbitrage#tap-4-atomic-arbitrage--application-proposal" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h1></header>
<p class="vocs_Paragraph">Submitted by: <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://johnwhitton.com" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">John Whitton</a> and <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://jincubator.com" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Jincbator</a>: <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="mailto:john@johnwhitton.com">john@johnwhitton.com</a></p>
<h2 class="vocs_H2 vocs_Heading"><div id="overview" class="vocs_Heading_slugTarget"></div>Overview<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/proposals/atomic-arbitrage#overview" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">An arbitrage bot built on Tycho&#x27;s indexing simulation and execution modules. It uses a variation of the <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://en.wikipedia.org/wiki/Bellman%E2%80%93Ford_algorithm" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Bellman Ford Algorithm</a> to find revenue positive arbitrage cycles.</p>
<p class="vocs_Paragraph">I spent a weekend doing initial design and coding up a prototype which can be found <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/jincubator/atomic-arbitrage" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">here</a> this was rapid prototyping and as such was done using a CLI as an example rather than a productionn ready service. It is currently a private repository please reach out if you&#x27;d like to review.</p>
<h2 class="vocs_H2 vocs_Heading"><div id="implementation-plan" class="vocs_Heading_slugTarget"></div>Implementation Plan<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/proposals/atomic-arbitrage#implementation-plan" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">Following is a full implementation plan, open for discussion</p>
<h3 class="vocs_H3 vocs_Heading"><div id="phase-1-this-bounty---essential-requirements" class="vocs_Heading_slugTarget"></div>Phase 1 (this bounty) - Essential Requirements<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/proposals/atomic-arbitrage#phase-1-this-bounty---essential-requirements" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem"><strong class="vocs_Strong">Pre-calculate cycles</strong>: Build a cycle file of the most relevant arbitrage cycles for a given set of start tokens.<!-- -->
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem"><strong class="vocs_Strong">Market Graph</strong>: Turn all pools and tokens into a graph, with pools as edges and nodes as tokens.</li>
<li class="vocs_ListItem"><strong class="vocs_Strong">Graph search for cycles:</strong> Given a set of start tokens, enumerate all possible cycles of up to length N through the graph, from one of the start tokens. A cycle is a trade path that starts and ends in the same token. Use each pool at max once in a cycle.<!-- -->
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem"><strong class="vocs_Strong">Limiting the search (Optional)</strong>: Find good heuristics to limit the number of possible cycles in case there are too many. E.g. limit the set of possible bridge tokens to the most liquid N tokens.</li>
</ul>
</li>
</ul>
</li>
<li class="vocs_ListItem"><strong class="vocs_Strong">Find optimal trades</strong>: Given a cycle, find the trade amount that optimises the amount out (e.g. with binary search over the range (0, pool trade limit)).</li>
<li class="vocs_ListItem"><strong class="vocs_Strong">Check Cycles every block</strong>: For all cycles that have a spot price better than 1 (i.e. all cycles where the spot price indicates that you get more than 1 token out for token in at the margin) – calculate the optimal trade.</li>
<li class="vocs_ListItem"><strong class="vocs_Strong">Profitable net gas</strong>: Calculate gas in terms of out-token and consider a trade only as profitable if it is profitable net gas.</li>
<li class="vocs_ListItem"><strong class="vocs_Strong">Profitability threshold</strong>: Only execute trades that are profitable by at least X % (in BPS). (useful also for testing, you set it to slightly negative to find and test trade execution.)</li>
<li class="vocs_ListItem"><strong class="vocs_Strong">Execute</strong>: Execute the most profitable trade you found.</li>
</ul>
<h4 class="vocs_H4 vocs_Heading"><div id="future-phases" class="vocs_Heading_slugTarget"></div>Future Phases<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/proposals/atomic-arbitrage#future-phases" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<h4 class="vocs_H4 vocs_Heading"><div id="important-requirements" class="vocs_Heading_slugTarget"></div>Important Requirements<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/proposals/atomic-arbitrage#important-requirements" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem"><strong class="vocs_Strong">CLI Dashboard</strong>: Implement a command line UI (or other UI component) to follow the searchers progress. Track at least: Number of cycles we monitor, current block, real-time counter for checked cycles this block, list of found arbitrage opportunities in current block, list of pending trades, list of succeeded arbitrage trades, profit in current run, user settings (start tokens, slippage setting (in BPS), bribe % (in BPS), chain, tracked protocols (&quot;Uniswap v4, Balancer v2, etc.&quot;))</li>
<li class="vocs_ListItem"><strong class="vocs_Strong">Recheck cycles only when a pool updates</strong>: Calculate the cycle spot prices and optimal trade amounts once at the beginning. Then only recalculate a cycle spot price and optimal trade amount if one of the pools in the cycle had an update in the last block update.</li>
<li class="vocs_ListItem"><strong class="vocs_Strong">Add slippage</strong>: Add a slippage parameter (in basis points): Reduce the expected amount from both trades by the slippage when encoding the swaps. Only send trades that are also profitable <em>after</em> slippage.</li>
<li class="vocs_ListItem"><strong class="vocs_Strong">Monitor trade execution</strong>: Record and monitor pending trades. Block the pools involved in a trade from further trading until the previous trade either succeeded or failed. Record trade outcome (failed/succeeded, sell amount, buy amount, expected buy amount, gas cost, expected gas cost, token in, token out, profit net gas in out token).</li>
<li class="vocs_ListItem"><strong class="vocs_Strong">Execution Options</strong>: Give the user the option to pick one of several default execution options: Public mempool, <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://buildernet.org/docs/api" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">BuilderNet</a> through <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://docs.flashbots.net/flashbots-protect/overview" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Flashbots Protect</a> via TEE builder, <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://cow.fi/mev-blocker" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">MEVBlocker</a>. Pick a protected option by default.</li>
<li class="vocs_ListItem"><strong class="vocs_Strong">Dynamic Bribe</strong>: Bid a % of expected profit in gas (on chains where it&#x27;s applicable).</li>
<li class="vocs_ListItem"><strong class="vocs_Strong">Gas Safeguard</strong>: Limit the amount of gas the searcher is allowed to use per e.g. hour – so that in case it bugs and sends non-profitable transactions you don&#x27;t burn through your gas all at once.</li>
</ul>
<h4 class="vocs_H4 vocs_Heading"><div id="nice-to-have-requirements" class="vocs_Heading_slugTarget"></div>Nice-to-have requirements<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/proposals/atomic-arbitrage#nice-to-have-requirements" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem"><strong class="vocs_Strong">Target Block</strong>: Make trades only valid for a particular target block – so that you can consider trades that don&#x27;t settle in the next block as failed.</li>
<li class="vocs_ListItem"><strong class="vocs_Strong">Gas warning</strong>: Notify when you&#x27;re running out of gas.</li>
</ul>
<h4 class="vocs_H4 vocs_Heading"><div id="not-included" class="vocs_Heading_slugTarget"></div>NOT included<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/proposals/atomic-arbitrage#not-included" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem"><strong class="vocs_Strong">Inventory Management</strong>: Sell tokens automatically for gas to refill gas. Sell tokens automatically to treasure token (e.g. ETH or USDC).</li>
</ul>
<h3 class="vocs_H3 vocs_Heading"><div id="core-logic" class="vocs_Heading_slugTarget"></div>Core Logic<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/proposals/atomic-arbitrage#core-logic" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<h4 class="vocs_H4 vocs_Heading"><div id="cli-implementation" class="vocs_Heading_slugTarget"></div>ClI Implementation<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/proposals/atomic-arbitrage#cli-implementation" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<h4 class="vocs_H4 vocs_Heading"><div id="fn-extract_all_tokens_from_pools-leverages-tycho-simulation-utilsload_all_tokens" class="vocs_Heading_slugTarget"></div><code class="vocs_Code">fn extract_all_tokens_from_pools</code> leverages tycho-simulation <code class="vocs_Code">utils::load_all_tokens</code><a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/proposals/atomic-arbitrage#fn-extract_all_tokens_from_pools-leverages-tycho-simulation-utilsload_all_tokens" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7" tabindex="0" class="shiki shiki-themes github-light github-dark-dimmed vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H7V13H3.5C3.22386 13 3 12.7761 3 12.5V2.5C3 2.22386 3.22386 2 3.5 2H4V2.25C4 2.66421 4.33579 3 4.75 3H10.25C10.6642 3 11 2.66421 11 2.25V2H11.5C11.7761 2 12 2.22386 12 2.5V7H13V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM9 8.5C9 8.77614 8.77614 9 8.5 9C8.22386 9 8 8.77614 8 8.5C8 8.22386 8.22386 8 8.5 8C8.77614 8 9 8.22386 9 8.5ZM10.5 9C10.7761 9 11 8.77614 11 8.5C11 8.22386 10.7761 8 10.5 8C10.2239 8 10 8.22386 10 8.5C10 8.77614 10.2239 9 10.5 9ZM13 8.5C13 8.77614 12.7761 9 12.5 9C12.2239 9 12 8.77614 12 8.5C12 8.22386 12.2239 8 12.5 8C12.7761 8 13 8.22386 13 8.5ZM14.5 9C14.7761 9 15 8.77614 15 8.5C15 8.22386 14.7761 8 14.5 8C14.2239 8 14 8.22386 14 8.5C14 8.77614 14.2239 9 14.5 9ZM15 10.5C15 10.7761 14.7761 11 14.5 11C14.2239 11 14 10.7761 14 10.5C14 10.2239 14.2239 10 14.5 10C14.7761 10 15 10.2239 15 10.5ZM14.5 13C14.7761 13 15 12.7761 15 12.5C15 12.2239 14.7761 12 14.5 12C14.2239 12 14 12.2239 14 12.5C14 12.7761 14.2239 13 14.5 13ZM14.5 15C14.7761 15 15 14.7761 15 14.5C15 14.2239 14.7761 14 14.5 14C14.2239 14 14 14.2239 14 14.5C14 14.7761 14.2239 15 14.5 15ZM8.5 11C8.77614 11 9 10.7761 9 10.5C9 10.2239 8.77614 10 8.5 10C8.22386 10 8 10.2239 8 10.5C8 10.7761 8.22386 11 8.5 11ZM9 12.5C9 12.7761 8.77614 13 8.5 13C8.22386 13 8 12.7761 8 12.5C8 12.2239 8.22386 12 8.5 12C8.77614 12 9 12.2239 9 12.5ZM8.5 15C8.77614 15 9 14.7761 9 14.5C9 14.2239 8.77614 14 8.5 14C8.22386 14 8 14.2239 8 14.5C8 14.7761 8.22386 15 8.5 15ZM11 14.5C11 14.7761 10.7761 15 10.5 15C10.2239 15 10 14.7761 10 14.5C10 14.2239 10.2239 14 10.5 14C10.7761 14 11 14.2239 11 14.5ZM12.5 15C12.7761 15 13 14.7761 13 14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5C12 14.7761 12.2239 15 12.5 15Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">async</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> fn</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span"> load_tokens_for_chain</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">(</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    chain</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">:</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> &amp;</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">Chain</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    tycho_url</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">:</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> &amp;</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">str</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    tycho_api_key</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">:</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> &amp;</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">str</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">) </span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">-&gt;</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span"> HashMap</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">&lt;</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">Bytes</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">,</span></span></code></pre></div></div>
<h4 class="vocs_H4 vocs_Heading"><div id="collect-all-pool-data" class="vocs_Heading_slugTarget"></div>Collect all pool data<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/proposals/atomic-arbitrage#collect-all-pool-data" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7" tabindex="0" class="shiki shiki-themes github-light github-dark-dimmed vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H7V13H3.5C3.22386 13 3 12.7761 3 12.5V2.5C3 2.22386 3.22386 2 3.5 2H4V2.25C4 2.66421 4.33579 3 4.75 3H10.25C10.6642 3 11 2.66421 11 2.25V2H11.5C11.7761 2 12 2.22386 12 2.5V7H13V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM9 8.5C9 8.77614 8.77614 9 8.5 9C8.22386 9 8 8.77614 8 8.5C8 8.22386 8.22386 8 8.5 8C8.77614 8 9 8.22386 9 8.5ZM10.5 9C10.7761 9 11 8.77614 11 8.5C11 8.22386 10.7761 8 10.5 8C10.2239 8 10 8.22386 10 8.5C10 8.77614 10.2239 9 10.5 9ZM13 8.5C13 8.77614 12.7761 9 12.5 9C12.2239 9 12 8.77614 12 8.5C12 8.22386 12.2239 8 12.5 8C12.7761 8 13 8.22386 13 8.5ZM14.5 9C14.7761 9 15 8.77614 15 8.5C15 8.22386 14.7761 8 14.5 8C14.2239 8 14 8.22386 14 8.5C14 8.77614 14.2239 9 14.5 9ZM15 10.5C15 10.7761 14.7761 11 14.5 11C14.2239 11 14 10.7761 14 10.5C14 10.2239 14.2239 10 14.5 10C14.7761 10 15 10.2239 15 10.5ZM14.5 13C14.7761 13 15 12.7761 15 12.5C15 12.2239 14.7761 12 14.5 12C14.2239 12 14 12.2239 14 12.5C14 12.7761 14.2239 13 14.5 13ZM14.5 15C14.7761 15 15 14.7761 15 14.5C15 14.2239 14.7761 14 14.5 14C14.2239 14 14 14.2239 14 14.5C14 14.7761 14.2239 15 14.5 15ZM8.5 11C8.77614 11 9 10.7761 9 10.5C9 10.2239 8.77614 10 8.5 10C8.22386 10 8 10.2239 8 10.5C8 10.7761 8.22386 11 8.5 11ZM9 12.5C9 12.7761 8.77614 13 8.5 13C8.22386 13 8 12.7761 8 12.5C8 12.2239 8.22386 12 8.5 12C8.77614 12 9 12.2239 9 12.5ZM8.5 15C8.77614 15 9 14.7761 9 14.5C9 14.2239 8.77614 14 8.5 14C8.22386 14 8 14.2239 8 14.5C8 14.7761 8.22386 15 8.5 15ZM11 14.5C11 14.7761 10.7761 15 10.5 15C10.2239 15 10 14.7761 10 14.5C10 14.2239 10.2239 14 10.5 14C10.7761 14 11 14.2239 11 14.5ZM12.5 15C12.7761 15 13 14.7761 13 14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5C12 14.7761 12.2239 15 12.5 15Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">async</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> fn</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span"> collect_pool_data</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">(</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    chain</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">:</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> &amp;</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">Chain</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    tycho_url</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">:</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> &amp;</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">str</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    tycho_api_key</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">:</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> &amp;</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">str</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    all_tokens</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">:</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> &amp;</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">HashMap</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">&lt;</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">Bytes</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">, </span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">Token</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">&gt;,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    tvl_threshold</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">:</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span"> f64</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    real_time</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">:</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span"> bool</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    collect_all_pairs</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">:</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span"> bool</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    max_blocks</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">:</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span"> usize</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    start_tokens</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">:</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> &amp;</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">[</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">String</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">],</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    max_hops</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">:</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span"> usize</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    min_profit_bps</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">:</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span"> u64</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    evaluation_callback</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">:</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span"> Option</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">&lt;</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">        Box</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">&lt;</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">            dyn</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span"> Fn</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">(</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">                &amp;</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">HashMap</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">&lt;</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">String</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">, </span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">ProtocolComponent</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">&gt;,</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">                &amp;</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">[(</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">String</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">, </span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">String</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">, </span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">f64</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">, </span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">String</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">, </span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">String</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">)],</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">                &amp;</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">HashMap</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">&lt;</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">String</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">, </span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">Box</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">&lt;</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">dyn</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span"> ProtocolSim</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">&gt;&gt;,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">            ) </span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">-&gt;</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> (),</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">        &gt;,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    &gt;,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    warm_up_blocks</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">:</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span"> usize</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">) </span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">-&gt;</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> (</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">    HashMap</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">&lt;</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">String</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">, </span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">ProtocolComponent</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">&gt;,</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">    Vec</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">&lt;(</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">String</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">, </span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">String</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">, </span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">f64</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">, </span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">String</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">, </span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">String</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">)&gt;,</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">    HashMap</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">&lt;</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">String</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">, </span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">Box</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">&lt;</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">dyn</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span"> ProtocolSim</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">&gt;&gt;,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    (</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">usize</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">, </span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">usize</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">, </span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">usize</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">), </span><span style="color:#6A737D;--shiki-dark:#768390" class="vocs_Span">// (pools_read, pools_ignored_tvl, token_pools_skipped)</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">) {</span></span></code></pre></div></div>
<h4 class="vocs_H4 vocs_Heading"><div id="fn-build_arbitrage_graph" class="vocs_Heading_slugTarget"></div>fn build_arbitrage_graph<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/proposals/atomic-arbitrage#fn-build_arbitrage_graph" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7" tabindex="0" class="shiki shiki-themes github-light github-dark-dimmed vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H7V13H3.5C3.22386 13 3 12.7761 3 12.5V2.5C3 2.22386 3.22386 2 3.5 2H4V2.25C4 2.66421 4.33579 3 4.75 3H10.25C10.6642 3 11 2.66421 11 2.25V2H11.5C11.7761 2 12 2.22386 12 2.5V7H13V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM9 8.5C9 8.77614 8.77614 9 8.5 9C8.22386 9 8 8.77614 8 8.5C8 8.22386 8.22386 8 8.5 8C8.77614 8 9 8.22386 9 8.5ZM10.5 9C10.7761 9 11 8.77614 11 8.5C11 8.22386 10.7761 8 10.5 8C10.2239 8 10 8.22386 10 8.5C10 8.77614 10.2239 9 10.5 9ZM13 8.5C13 8.77614 12.7761 9 12.5 9C12.2239 9 12 8.77614 12 8.5C12 8.22386 12.2239 8 12.5 8C12.7761 8 13 8.22386 13 8.5ZM14.5 9C14.7761 9 15 8.77614 15 8.5C15 8.22386 14.7761 8 14.5 8C14.2239 8 14 8.22386 14 8.5C14 8.77614 14.2239 9 14.5 9ZM15 10.5C15 10.7761 14.7761 11 14.5 11C14.2239 11 14 10.7761 14 10.5C14 10.2239 14.2239 10 14.5 10C14.7761 10 15 10.2239 15 10.5ZM14.5 13C14.7761 13 15 12.7761 15 12.5C15 12.2239 14.7761 12 14.5 12C14.2239 12 14 12.2239 14 12.5C14 12.7761 14.2239 13 14.5 13ZM14.5 15C14.7761 15 15 14.7761 15 14.5C15 14.2239 14.7761 14 14.5 14C14.2239 14 14 14.2239 14 14.5C14 14.7761 14.2239 15 14.5 15ZM8.5 11C8.77614 11 9 10.7761 9 10.5C9 10.2239 8.77614 10 8.5 10C8.22386 10 8 10.2239 8 10.5C8 10.7761 8.22386 11 8.5 11ZM9 12.5C9 12.7761 8.77614 13 8.5 13C8.22386 13 8 12.7761 8 12.5C8 12.2239 8.22386 12 8.5 12C8.77614 12 9 12.2239 9 12.5ZM8.5 15C8.77614 15 9 14.7761 9 14.5C9 14.2239 8.77614 14 8.5 14C8.22386 14 8 14.2239 8 14.5C8 14.7761 8.22386 15 8.5 15ZM11 14.5C11 14.7761 10.7761 15 10.5 15C10.2239 15 10 14.7761 10 14.5C10 14.2239 10.2239 14 10.5 14C10.7761 14 11 14.2239 11 14.5ZM12.5 15C12.7761 15 13 14.7761 13 14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5C12 14.7761 12.2239 15 12.5 15Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">  fn</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span"> build_arbitrage_graph</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">(</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    pairs</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">:</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> &amp;</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">[(</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">String</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">, </span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">String</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">, </span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">f64</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">, </span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">String</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">, </span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">String</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">)],</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    pool_states</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">:</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> &amp;</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">HashMap</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">&lt;</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">String</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">, </span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">ProtocolComponent</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">&gt;,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">) </span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">-&gt;</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span"> Graph</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> {</span></span></code></pre></div></div>
<h4 class="vocs_H4 vocs_Heading"><div id="find_arbitrage_cycles--runs-bellman-ford-to-find-negative-cycles-profitable-arbitrage" class="vocs_Heading_slugTarget"></div>find_arbitrage_cycles: /// Runs Bellman-Ford to find negative cycles (profitable arbitrage)<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/proposals/atomic-arbitrage#find_arbitrage_cycles--runs-bellman-ford-to-find-negative-cycles-profitable-arbitrage" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7" tabindex="0" class="shiki shiki-themes github-light github-dark-dimmed vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H7V13H3.5C3.22386 13 3 12.7761 3 12.5V2.5C3 2.22386 3.22386 2 3.5 2H4V2.25C4 2.66421 4.33579 3 4.75 3H10.25C10.6642 3 11 2.66421 11 2.25V2H11.5C11.7761 2 12 2.22386 12 2.5V7H13V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM9 8.5C9 8.77614 8.77614 9 8.5 9C8.22386 9 8 8.77614 8 8.5C8 8.22386 8.22386 8 8.5 8C8.77614 8 9 8.22386 9 8.5ZM10.5 9C10.7761 9 11 8.77614 11 8.5C11 8.22386 10.7761 8 10.5 8C10.2239 8 10 8.22386 10 8.5C10 8.77614 10.2239 9 10.5 9ZM13 8.5C13 8.77614 12.7761 9 12.5 9C12.2239 9 12 8.77614 12 8.5C12 8.22386 12.2239 8 12.5 8C12.7761 8 13 8.22386 13 8.5ZM14.5 9C14.7761 9 15 8.77614 15 8.5C15 8.22386 14.7761 8 14.5 8C14.2239 8 14 8.22386 14 8.5C14 8.77614 14.2239 9 14.5 9ZM15 10.5C15 10.7761 14.7761 11 14.5 11C14.2239 11 14 10.7761 14 10.5C14 10.2239 14.2239 10 14.5 10C14.7761 10 15 10.2239 15 10.5ZM14.5 13C14.7761 13 15 12.7761 15 12.5C15 12.2239 14.7761 12 14.5 12C14.2239 12 14 12.2239 14 12.5C14 12.7761 14.2239 13 14.5 13ZM14.5 15C14.7761 15 15 14.7761 15 14.5C15 14.2239 14.7761 14 14.5 14C14.2239 14 14 14.2239 14 14.5C14 14.7761 14.2239 15 14.5 15ZM8.5 11C8.77614 11 9 10.7761 9 10.5C9 10.2239 8.77614 10 8.5 10C8.22386 10 8 10.2239 8 10.5C8 10.7761 8.22386 11 8.5 11ZM9 12.5C9 12.7761 8.77614 13 8.5 13C8.22386 13 8 12.7761 8 12.5C8 12.2239 8.22386 12 8.5 12C8.77614 12 9 12.2239 9 12.5ZM8.5 15C8.77614 15 9 14.7761 9 14.5C9 14.2239 8.77614 14 8.5 14C8.22386 14 8 14.2239 8 14.5C8 14.7761 8.22386 15 8.5 15ZM11 14.5C11 14.7761 10.7761 15 10.5 15C10.2239 15 10 14.7761 10 14.5C10 14.2239 10.2239 14 10.5 14C10.7761 14 11 14.2239 11 14.5ZM12.5 15C12.7761 15 13 14.7761 13 14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5C12 14.7761 12.2239 15 12.5 15Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">fn</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span"> find_arbitrage_cycles</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">(</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    graph</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">:</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> &amp;</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">Graph</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    start_token</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">:</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> &amp;</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">str</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    max_hops</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">:</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span"> usize</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    pool_states</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">:</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> &amp;</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">HashMap</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">&lt;</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">String</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">, </span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">ProtocolComponent</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">&gt;,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    pool_states_with_state</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">:</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> &amp;</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">HashMap</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">&lt;</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">String</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">, </span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">Box</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">&lt;</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">dyn</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span"> ProtocolSim</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">&gt;&gt;,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    start_token_info</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">:</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> &amp;</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">Token</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">) </span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">-&gt;</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span"> Vec</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">&lt;</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">ArbitrageCycle</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">&gt; {</span></span></code></pre></div></div>
<h4 class="vocs_H4 vocs_Heading"><div id="execute-swap-transaction" class="vocs_Heading_slugTarget"></div>Execute Swap Transaction<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/proposals/atomic-arbitrage#execute-swap-transaction" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7" tabindex="0" class="shiki shiki-themes github-light github-dark-dimmed vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H7V13H3.5C3.22386 13 3 12.7761 3 12.5V2.5C3 2.22386 3.22386 2 3.5 2H4V2.25C4 2.66421 4.33579 3 4.75 3H10.25C10.6642 3 11 2.66421 11 2.25V2H11.5C11.7761 2 12 2.22386 12 2.5V7H13V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM9 8.5C9 8.77614 8.77614 9 8.5 9C8.22386 9 8 8.77614 8 8.5C8 8.22386 8.22386 8 8.5 8C8.77614 8 9 8.22386 9 8.5ZM10.5 9C10.7761 9 11 8.77614 11 8.5C11 8.22386 10.7761 8 10.5 8C10.2239 8 10 8.22386 10 8.5C10 8.77614 10.2239 9 10.5 9ZM13 8.5C13 8.77614 12.7761 9 12.5 9C12.2239 9 12 8.77614 12 8.5C12 8.22386 12.2239 8 12.5 8C12.7761 8 13 8.22386 13 8.5ZM14.5 9C14.7761 9 15 8.77614 15 8.5C15 8.22386 14.7761 8 14.5 8C14.2239 8 14 8.22386 14 8.5C14 8.77614 14.2239 9 14.5 9ZM15 10.5C15 10.7761 14.7761 11 14.5 11C14.2239 11 14 10.7761 14 10.5C14 10.2239 14.2239 10 14.5 10C14.7761 10 15 10.2239 15 10.5ZM14.5 13C14.7761 13 15 12.7761 15 12.5C15 12.2239 14.7761 12 14.5 12C14.2239 12 14 12.2239 14 12.5C14 12.7761 14.2239 13 14.5 13ZM14.5 15C14.7761 15 15 14.7761 15 14.5C15 14.2239 14.7761 14 14.5 14C14.2239 14 14 14.2239 14 14.5C14 14.7761 14.2239 15 14.5 15ZM8.5 11C8.77614 11 9 10.7761 9 10.5C9 10.2239 8.77614 10 8.5 10C8.22386 10 8 10.2239 8 10.5C8 10.7761 8.22386 11 8.5 11ZM9 12.5C9 12.7761 8.77614 13 8.5 13C8.22386 13 8 12.7761 8 12.5C8 12.2239 8.22386 12 8.5 12C8.77614 12 9 12.2239 9 12.5ZM8.5 15C8.77614 15 9 14.7761 9 14.5C9 14.2239 8.77614 14 8.5 14C8.22386 14 8 14.2239 8 14.5C8 14.7761 8.22386 15 8.5 15ZM11 14.5C11 14.7761 10.7761 15 10.5 15C10.2239 15 10 14.7761 10 14.5C10 14.2239 10.2239 14 10.5 14C10.7761 14 11 14.2239 11 14.5ZM12.5 15C12.7761 15 13 14.7761 13 14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5C12 14.7761 12.2239 15 12.5 15Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">async</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> fn</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span"> execute_swap_transaction</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">(</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    provider</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">:</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span"> FillProvider</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">&lt;</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">        JoinFill</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">&lt;</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">Identity</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">, </span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">WalletFiller</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">&lt;</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">EthereumWallet</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">&gt;&gt;,</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">        RootProvider</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">&lt;</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">Ethereum</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">&gt;,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    &gt;,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    amount_in</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">:</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> &amp;</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">BigUint</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    wallet_address</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">:</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span"> Address</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    sell_token_address</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">:</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> &amp;</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">Bytes</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    tx</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">:</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span"> tycho_execution</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">::</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">encoding</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">::</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">models</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">::</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">Transaction</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    chain_id</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">:</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span"> u64</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">) </span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">-&gt;</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span"> Result</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">&lt;(), </span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">Box</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">&lt;</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">dyn</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> std</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">::</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">error</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">::</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">Error</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">&gt;&gt; {</span></span></code></pre></div></div>
<h3 class="vocs_H3 vocs_Heading"><div id="tycho-integrations" class="vocs_Heading_slugTarget"></div>Tycho Integrations<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/proposals/atomic-arbitrage#tycho-integrations" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem"><a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/propeller-heads/tycho-execution" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Tycho Indexer</a> via <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://tycho-beta.propellerheads.xyz/docs/" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">The Tycho Indexer RPC</a></li>
<li class="vocs_ListItem"><a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://docs.propellerheads.xyz/tycho/for-solvers/execution" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Tycho Execution</a></li>
</ul>
<h3 class="vocs_H3 vocs_Heading"><div id="weekly-milestones" class="vocs_Heading_slugTarget"></div>Weekly Milestones<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/proposals/atomic-arbitrage#weekly-milestones" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">The following assumes 1 Engineer working 20 hours per week on this Bounty.
Timelines can be reduced by allocating additional resources and is open for discussion when agreeing on the bounty.
Ideally the Bounty would be payable weekly as milestones are met.</p>
<p class="vocs_Paragraph">This Bounty</p>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem">Week 1: Working CLI identifying arbitrage opportunities<!-- -->
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem">CLI Implemented</li>
<li class="vocs_ListItem">Loading of All Tokens and Pool Information</li>
<li class="vocs_ListItem">Creation of Hash Graphs</li>
<li class="vocs_ListItem">Evaluation of Arbitrage Cycles</li>
</ul>
</li>
<li class="vocs_ListItem">Week 2: Working CLI Swap Execution for Positive Arbitrage Opportunities<!-- -->
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem">Introduce Swap Execution</li>
<li class="vocs_ListItem">End to End Tests of Flow</li>
</ul>
</li>
<li class="vocs_ListItem">Week 3 Service Development<!-- -->
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem">Migrate from CLI to background service monitoring each block for arbitrage opportunities</li>
</ul>
</li>
<li class="vocs_ListItem">Week 4 Documentation and Gas Analysis<!-- -->
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem">Creation of a documentation website using <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://vocs.dev/" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">vocs</a></li>
<li class="vocs_ListItem">Publishing a <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="http://deepwiki.com/" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">deepwik</a> for the repository</li>
<li class="vocs_ListItem">Gas analysis approach</li>
</ul>
</li>
<li class="vocs_ListItem">Week 5 TroubleShooting and Testing<!-- -->
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem">Increase testing coverage</li>
<li class="vocs_ListItem">Troubleshoot any oustanding issues</li>
</ul>
</li>
</ul>
<h3 class="vocs_H3 vocs_Heading"><div id="technical-architecture" class="vocs_Heading_slugTarget"></div>Technical Architecture<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/proposals/atomic-arbitrage#technical-architecture" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">Following are some diagrams generated from the codebase protoyped over the weekend using <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://app.devin.ai/" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">devin.ai</a></p>
<h4 class="vocs_H4 vocs_Heading"><div id="system-capabilities" class="vocs_Heading_slugTarget"></div>System Capabilities<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/proposals/atomic-arbitrage#system-capabilities" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph"><img src="https://hackmd.io/_uploads/BJGsMEVDxg.png" alt="SystemCapabilities"/></p>
<h4 class="vocs_H4 vocs_Heading"><div id="architecture-components" class="vocs_Heading_slugTarget"></div>Architecture Components<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/proposals/atomic-arbitrage#architecture-components" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph"><img src="https://hackmd.io/_uploads/SyGiGVNDgl.png" alt="ArchitectureComponents"/></p>
<h4 class="vocs_H4 vocs_Heading"><div id="graph-overview" class="vocs_Heading_slugTarget"></div>Graph Overview<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/proposals/atomic-arbitrage#graph-overview" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph"><img src="https://hackmd.io/_uploads/HJzjzN4Dxl.png" alt="GraphOverview"/></p>
<h4 class="vocs_H4 vocs_Heading"><div id="arbitrage-opportunities-bellman-ford-algorithm" class="vocs_Heading_slugTarget"></div>Arbitrage Opportunities (Bellman Ford Algorithm)<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/proposals/atomic-arbitrage#arbitrage-opportunities-bellman-ford-algorithm" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph"><img src="https://hackmd.io/_uploads/r1GsM44vxl.png" alt="BellmanFord"/></p>
<h4 class="vocs_H4 vocs_Heading"><div id="process-flow" class="vocs_Heading_slugTarget"></div>Process Flow<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/proposals/atomic-arbitrage#process-flow" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph"><img src="https://hackmd.io/_uploads/HkMofEVvel.png" alt="ProcessFlow"/></p>
<h3 class="vocs_H3 vocs_Heading"><div id="uiux-approach" class="vocs_Heading_slugTarget"></div>UI/UX Approach<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/proposals/atomic-arbitrage#uiux-approach" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">Initial version will be cli based here is the help for the cli</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7" tabindex="0" class="shiki shiki-themes github-light github-dark-dimmed vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H7V13H3.5C3.22386 13 3 12.7761 3 12.5V2.5C3 2.22386 3.22386 2 3.5 2H4V2.25C4 2.66421 4.33579 3 4.75 3H10.25C10.6642 3 11 2.66421 11 2.25V2H11.5C11.7761 2 12 2.22386 12 2.5V7H13V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM9 8.5C9 8.77614 8.77614 9 8.5 9C8.22386 9 8 8.77614 8 8.5C8 8.22386 8.22386 8 8.5 8C8.77614 8 9 8.22386 9 8.5ZM10.5 9C10.7761 9 11 8.77614 11 8.5C11 8.22386 10.7761 8 10.5 8C10.2239 8 10 8.22386 10 8.5C10 8.77614 10.2239 9 10.5 9ZM13 8.5C13 8.77614 12.7761 9 12.5 9C12.2239 9 12 8.77614 12 8.5C12 8.22386 12.2239 8 12.5 8C12.7761 8 13 8.22386 13 8.5ZM14.5 9C14.7761 9 15 8.77614 15 8.5C15 8.22386 14.7761 8 14.5 8C14.2239 8 14 8.22386 14 8.5C14 8.77614 14.2239 9 14.5 9ZM15 10.5C15 10.7761 14.7761 11 14.5 11C14.2239 11 14 10.7761 14 10.5C14 10.2239 14.2239 10 14.5 10C14.7761 10 15 10.2239 15 10.5ZM14.5 13C14.7761 13 15 12.7761 15 12.5C15 12.2239 14.7761 12 14.5 12C14.2239 12 14 12.2239 14 12.5C14 12.7761 14.2239 13 14.5 13ZM14.5 15C14.7761 15 15 14.7761 15 14.5C15 14.2239 14.7761 14 14.5 14C14.2239 14 14 14.2239 14 14.5C14 14.7761 14.2239 15 14.5 15ZM8.5 11C8.77614 11 9 10.7761 9 10.5C9 10.2239 8.77614 10 8.5 10C8.22386 10 8 10.2239 8 10.5C8 10.7761 8.22386 11 8.5 11ZM9 12.5C9 12.7761 8.77614 13 8.5 13C8.22386 13 8 12.7761 8 12.5C8 12.2239 8.22386 12 8.5 12C8.77614 12 9 12.2239 9 12.5ZM8.5 15C8.77614 15 9 14.7761 9 14.5C9 14.2239 8.77614 14 8.5 14C8.22386 14 8 14.2239 8 14.5C8 14.7761 8.22386 15 8.5 15ZM11 14.5C11 14.7761 10.7761 15 10.5 15C10.2239 15 10 14.7761 10 14.5C10 14.2239 10.2239 14 10.5 14C10.7761 14 11 14.2239 11 14.5ZM12.5 15C12.7761 15 13 14.7761 13 14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5C12 14.7761 12.2239 15 12.5 15Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">cargo</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> run</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> --release</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> --example</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> arbitrage</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> --</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> --help</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">Usage:</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> arbitrage</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> [OPTIONS]</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">Options:</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">      --start-tokens</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> &lt;</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span">START_TOKEN</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">S</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">&gt;</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">      --max-hops</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> &lt;</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span">MAX_HOP</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">S</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">&gt;</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">                            [default: </span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span">3]</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">      --min-profit-bps</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> &lt;</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span">MIN_PROFIT_BP</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">S</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">&gt;</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">                [default: </span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span">50]</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">      --tvl-threshold</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> &lt;</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span">TVL_THRESHOL</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">D</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">&gt;</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">                  [default: </span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span">380000]</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">      --swapper-pk</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> &lt;</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span">SWAPPER_P</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">K</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">&gt;</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">                        [default: </span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span">0x123456789abcdef123456789abcdef123456789abcdef123456789abcdef1234]</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">      --chain</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> &lt;</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span">CHAI</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">N</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">&gt;</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">                                  [default: </span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span">ethereum]</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">      --test-all-chains</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">      --real-time</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">      --collect-all-pairs</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">      --max-blocks</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> &lt;</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span">MAX_BLOCK</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">S</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">&gt;</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">                        [default: </span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span">1]</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">      --continuous</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">      --verbose</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">      --all-tokens</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">      --warm-up-blocks</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> &lt;</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span">WARM_UP_BLOCK</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">S</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">&gt;</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">                [default: </span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span">10]</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">      --pool-loading-strategy</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> &lt;</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span">POOL_LOADING_STRATEG</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">Y</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">&gt;</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">  [default: </span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span">warmup]</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">  -h,</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> --help</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span">                                           Print</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> help</span></span></code></pre></div></div>
<p class="vocs_Paragraph">Below is sample output</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7" tabindex="0" class="shiki shiki-themes github-light github-dark-dimmed vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H7V13H3.5C3.22386 13 3 12.7761 3 12.5V2.5C3 2.22386 3.22386 2 3.5 2H4V2.25C4 2.66421 4.33579 3 4.75 3H10.25C10.6642 3 11 2.66421 11 2.25V2H11.5C11.7761 2 12 2.22386 12 2.5V7H13V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM9 8.5C9 8.77614 8.77614 9 8.5 9C8.22386 9 8 8.77614 8 8.5C8 8.22386 8.22386 8 8.5 8C8.77614 8 9 8.22386 9 8.5ZM10.5 9C10.7761 9 11 8.77614 11 8.5C11 8.22386 10.7761 8 10.5 8C10.2239 8 10 8.22386 10 8.5C10 8.77614 10.2239 9 10.5 9ZM13 8.5C13 8.77614 12.7761 9 12.5 9C12.2239 9 12 8.77614 12 8.5C12 8.22386 12.2239 8 12.5 8C12.7761 8 13 8.22386 13 8.5ZM14.5 9C14.7761 9 15 8.77614 15 8.5C15 8.22386 14.7761 8 14.5 8C14.2239 8 14 8.22386 14 8.5C14 8.77614 14.2239 9 14.5 9ZM15 10.5C15 10.7761 14.7761 11 14.5 11C14.2239 11 14 10.7761 14 10.5C14 10.2239 14.2239 10 14.5 10C14.7761 10 15 10.2239 15 10.5ZM14.5 13C14.7761 13 15 12.7761 15 12.5C15 12.2239 14.7761 12 14.5 12C14.2239 12 14 12.2239 14 12.5C14 12.7761 14.2239 13 14.5 13ZM14.5 15C14.7761 15 15 14.7761 15 14.5C15 14.2239 14.7761 14 14.5 14C14.2239 14 14 14.2239 14 14.5C14 14.7761 14.2239 15 14.5 15ZM8.5 11C8.77614 11 9 10.7761 9 10.5C9 10.2239 8.77614 10 8.5 10C8.22386 10 8 10.2239 8 10.5C8 10.7761 8.22386 11 8.5 11ZM9 12.5C9 12.7761 8.77614 13 8.5 13C8.22386 13 8 12.7761 8 12.5C8 12.2239 8.22386 12 8.5 12C8.77614 12 9 12.2239 9 12.5ZM8.5 15C8.77614 15 9 14.7761 9 14.5C9 14.2239 8.77614 14 8.5 14C8.22386 14 8 14.2239 8 14.5C8 14.7761 8.22386 15 8.5 15ZM11 14.5C11 14.7761 10.7761 15 10.5 15C10.2239 15 10 14.7761 10 14.5C10 14.2239 10.2239 14 10.5 14C10.7761 14 11 14.2239 11 14.5ZM12.5 15C12.7761 15 13 14.7761 13 14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5C12 14.7761 12.2239 15 12.5 15Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">Run</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> for</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> uniswap</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> only</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> (before </span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span">adding</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> vm:ambient,</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> vm:balancer,</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> sushiswap_v2</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">)</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">cargo</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> run</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> --release</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> --example</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> arbitrage</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> --</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> --chain</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> ethereum</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> --max-blocks</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> 1</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> --max-hops</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> 2</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> --tvl-threshold</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> 100.0</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> --all-tokens</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span">============================================================</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">📊</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> ARBITRAGE</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> ANALYSIS</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> SUMMARY</span></span>
<span class="line vocs_Span"><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span">============================================================</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">Number</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> of</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> Tokens</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> Read:</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> 34883</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">Number</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> of</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> Pools</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">(</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">Edges</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">) </span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span">Read:</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> 872</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">Number</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> of</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> Pools</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">(</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">Edges</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">) </span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span">Evaluated:</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> 872</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">Number</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> of</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> Pools</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> Ignored</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> due</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> to</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> TVL:</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> 0</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">Number</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> of</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> Token</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> Pools</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">(</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">Edges</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">) </span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span">Skipped:</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> 14</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">Number</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> of</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> Edges</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> (Trading </span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span">Pairs</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">): 1716</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">Number</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> of</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> Tokens</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> Evaluated</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> (Nodes): 654</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">Building</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> graph</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> from</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> 654</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> Nodes</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> and</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> 1716</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> Edges</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">Number</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> of</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> Arbitrage</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> Cycles</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> Found:</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> 0</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">Verification:</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> 654</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> Nodes</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> connected</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> by</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> 1716</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> Edges</span></span>
<span class="line vocs_Span"><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span">============================================================</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">Fuller</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> run</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> for</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> ethereum</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> (after </span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span">adding</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> vm:ambient,</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> vm:balancer,</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> sushiswap_v2</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">)</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">cargo</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> run</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> --release</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> --example</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> arbitrage</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> --</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> --chain</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> ethereum</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> --max-blocks</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> 10</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> --max-hops</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> 5</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> --tvl-threshold</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> 100.0</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> --all-tokens</span></span></code></pre></div></div>
<h3 class="vocs_H3 vocs_Heading"><div id="about-me" class="vocs_Heading_slugTarget"></div>About Me<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/proposals/atomic-arbitrage#about-me" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<h3 class="vocs_H3 vocs_Heading"><div id="tap-relevant-experience" class="vocs_Heading_slugTarget"></div>TAP Relevant Experience<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/proposals/atomic-arbitrage#tap-relevant-experience" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">What makes you succeed in this TAP (+relevant experience).</p>
<p class="vocs_Paragraph">I work on Solving, Arbitrage and Indexing using <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://docs.propellerheads.xyz/tycho/overview" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Tycho</a>, Intents using <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://www.erc7683.org/spec" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">ERC-7683</a>, <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://eips.ethereum.org/EIPS/eip-712" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">EIP-712</a>, <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/uniswap/compactx" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Compactx</a> and <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://docs.uniswap.org/contracts/v4/overview" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Uniswap V4 Hooks</a>. Development can be found in the github organization <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/jincubator" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">jincubator</a>.</p>
<h3 class="vocs_H3 vocs_Heading"><div id="john-overview" class="vocs_Heading_slugTarget"></div>John Overview<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/proposals/atomic-arbitrage#john-overview" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">I&#x27;m a Research/engineer, technical leader, and entrepreneur working at the intersection of blockchain infrastructure (Solving, Market Making, Arbitrage) and Decentralized protocols (Intents, Liquidity Management, Settlement). I have a track record of driving projects from conception to completion, identifying research gaps, and providing solutions. Finally, I love leading engineering teams and have the ability to drive collaboration across the organization and the entire ecosystem. For more see <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://johnwhitton.com" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">https://johnwhitton.com</a></p>
<h3 class="vocs_H3 vocs_Heading"><div id="socials" class="vocs_Heading_slugTarget"></div>Socials<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/proposals/atomic-arbitrage#socials" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem">email: <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="mailto:john@johnwhitton.com">john@johnwhitton.com</a></li>
<li class="vocs_ListItem">telegram: @john_whitton</li>
<li class="vocs_ListItem">x: @john_a_whitton</li>
<li class="vocs_ListItem">github: <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/johnwhitton" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">https://github.com/johnwhitton</a></li>
<li class="vocs_ListItem">website: <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://johnwhitton.com" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">johnwhitton.com</a></li>
</ul>
<h3 class="vocs_H3 vocs_Heading"><div id="research" class="vocs_Heading_slugTarget"></div>Research<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/proposals/atomic-arbitrage#research" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem">github: <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/jincubator" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">https://github.com/jincubator</a></li>
<li class="vocs_ListItem">website: <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://joincubator.com" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">jincubator.com</a></li>
</ul>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7" tabindex="0" class="shiki shiki-themes github-light github-dark-dimmed vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H7V13H3.5C3.22386 13 3 12.7761 3 12.5V2.5C3 2.22386 3.22386 2 3.5 2H4V2.25C4 2.66421 4.33579 3 4.75 3H10.25C10.6642 3 11 2.66421 11 2.25V2H11.5C11.7761 2 12 2.22386 12 2.5V7H13V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM9 8.5C9 8.77614 8.77614 9 8.5 9C8.22386 9 8 8.77614 8 8.5C8 8.22386 8.22386 8 8.5 8C8.77614 8 9 8.22386 9 8.5ZM10.5 9C10.7761 9 11 8.77614 11 8.5C11 8.22386 10.7761 8 10.5 8C10.2239 8 10 8.22386 10 8.5C10 8.77614 10.2239 9 10.5 9ZM13 8.5C13 8.77614 12.7761 9 12.5 9C12.2239 9 12 8.77614 12 8.5C12 8.22386 12.2239 8 12.5 8C12.7761 8 13 8.22386 13 8.5ZM14.5 9C14.7761 9 15 8.77614 15 8.5C15 8.22386 14.7761 8 14.5 8C14.2239 8 14 8.22386 14 8.5C14 8.77614 14.2239 9 14.5 9ZM15 10.5C15 10.7761 14.7761 11 14.5 11C14.2239 11 14 10.7761 14 10.5C14 10.2239 14.2239 10 14.5 10C14.7761 10 15 10.2239 15 10.5ZM14.5 13C14.7761 13 15 12.7761 15 12.5C15 12.2239 14.7761 12 14.5 12C14.2239 12 14 12.2239 14 12.5C14 12.7761 14.2239 13 14.5 13ZM14.5 15C14.7761 15 15 14.7761 15 14.5C15 14.2239 14.7761 14 14.5 14C14.2239 14 14 14.2239 14 14.5C14 14.7761 14.2239 15 14.5 15ZM8.5 11C8.77614 11 9 10.7761 9 10.5C9 10.2239 8.77614 10 8.5 10C8.22386 10 8 10.2239 8 10.5C8 10.7761 8.22386 11 8.5 11ZM9 12.5C9 12.7761 8.77614 13 8.5 13C8.22386 13 8 12.7761 8 12.5C8 12.2239 8.22386 12 8.5 12C8.77614 12 9 12.2239 9 12.5ZM8.5 15C8.77614 15 9 14.7761 9 14.5C9 14.2239 8.77614 14 8.5 14C8.22386 14 8 14.2239 8 14.5C8 14.7761 8.22386 15 8.5 15ZM11 14.5C11 14.7761 10.7761 15 10.5 15C10.2239 15 10 14.7761 10 14.5C10 14.2239 10.2239 14 10.5 14C10.7761 14 11 14.2239 11 14.5ZM12.5 15C12.7761 15 13 14.7761 13 14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5C12 14.7761 12.2239 15 12.5 15Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span" data-empty-line="true"> </span></code></pre></div></div></article><footer class="vocs_Footer" data-layout="docs"><div class="vocs_Footer_container"></div></footer></div><div data-bottom-observer="true"></div></div></div>
  </body>
</html>
