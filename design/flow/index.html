<!doctype html>
<html lang="en" data-vocs>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="/initializeTheme.iife.js"></script><link rel="preload" as="image" href="/images/jincubator.png"/><title>IntentSwap – Jincubator</title><link rel="icon" href="/images/jincubator.png" type="image/png"/><meta property="og:type" content="website"/><meta property="og:title" content="IntentSwap"/><meta property="og:image" content="https://vocs.dev/api/og?logo=/images/jincubator.png&title=IntentSwap&description="/><meta name="twitter:card" content="summary_large_image"/><meta property="twitter:image" content="https://vocs.dev/api/og?logo=/images/jincubator.png&title=IntentSwap&description=undefined"/>
    <script type="module" crossorigin src="/assets/index-BOriQ2vj.js"></script>
    <link rel="stylesheet" crossorigin href="/assets/style-CgUDpFKq.css">
  </head>
  <body>
    <div id="app"><div class="vocs_DocsLayout" data-layout="docs"><a class="vocs_SkipLink vocs_utils_visuallyHidden" href="/design/flow#vocs-content">Skip to content</a><div class="vocs_DocsLayout_gutterLeft"><aside class="vocs_Sidebar vocs_DocsLayout_sidebar"><div><div class="vocs_Sidebar_logoWrapper"><div class="vocs_Sidebar_logo"><a style="align-items:center;display:flex;height:100%" href="/" data-discover="true"><img alt="Logo" class="vocs_NavLogo_logoImage vocs_Logo" src="/images/jincubator.png"/></a></div><div class="vocs_Sidebar_divider"></div></div><nav class="vocs_Sidebar_navigation"><div class="vocs_Sidebar_group"><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/overview" variant="styleless" data-discover="true">Overview</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_sectionTitle">Design</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse" role="img" style="--vocs_Icon_size:16px"><svg width="100%" height="100%" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></div></div></div><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/design/intro" variant="styleless" data-discover="true">Design Intro</a><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/design/architecture" variant="styleless" data-discover="true">Architecture</a><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/design/protocol" variant="styleless" data-discover="true">Protocol</a><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/design/resources" variant="styleless" data-discover="true">Resource Management</a><a data-active="true" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/design/flow" variant="styleless" data-discover="true">IntentSwap Flow</a><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/design/hooks" variant="styleless" data-discover="true">Hook Design - WIP</a></div></section></div></nav></div><div class="vocs_Sidebar_footer"><div class="vocs_Sidebar_footerCurtain"></div><div class="vocs_Sidebar_footerContent"></div></div></aside></div><div class="vocs_DocsLayout_gutterTop vocs_DocsLayout_gutterTop_offsetLeftGutter"><div class="vocs_DesktopTopNav"><button class="vocs_DesktopSearch_search" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-«Rlj»" data-state="closed"><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-top:2px"><path d="M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159C8.53901 10.6318 7.56251 11 6.5 11C4.01472 11 2 8.98528 2 6.5C2 4.01472 4.01472 2 6.5 2C8.98528 2 11 4.01472 11 6.5C11 7.56251 10.6318 8.53901 10.0159 9.30884L12.8536 12.1464C13.0488 12.3417 13.0488 12.6583 12.8536 12.8536C12.6583 13.0488 12.3417 13.0488 12.1464 12.8536L9.30884 10.0159Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg>Search...<div class="vocs_DesktopSearch_searchCommand"><div style="background:currentColor;transform:rotate(45deg);width:1.5px;border-radius:2px;height:100%"></div></div></button><div class="vocs_DesktopTopNav_logoWrapper"><div class="vocs_DesktopTopNav_logo"><a style="align-items:center;display:flex;height:56px;margin-top:4px" href="/" data-discover="true"><img alt="Logo" class="vocs_NavLogo_logoImage vocs_Logo" src="/images/jincubator.png"/></a></div></div><div class="vocs_DesktopTopNav_section"></div><div class="vocs_DesktopTopNav_section"></div></div><div class="vocs_MobileTopNav"><div class="vocs_MobileTopNav_section"><div class="vocs_MobileTopNav_group"><div class="vocs_MobileTopNav_logo"><a style="align-items:center;display:flex;height:100%" href="/" data-discover="true"><img alt="Logo" class="vocs_NavLogo_logoImage vocs_Logo" src="/images/jincubator.png"/></a></div></div><div class="vocs_MobileTopNav_group"><nav aria-label="Main" data-orientation="horizontal" dir="ltr" class="vocs_MobileTopNav_navigation vocs_NavigationMenu"><div style="position:relative"><ul data-orientation="horizontal" class="vocs_NavigationMenu_list" dir="ltr"></ul></div></nav><div class="vocs_MobileTopNav_navigation vocs_MobileTopNav_navigation_compact"><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-«Rkpj»" data-state="closed" class="vocs_MobileTopNav_menuTrigger vocs_MobileTopNav_navigationItem">Menu<div aria-label="Menu" class="vocs_Icon" role="img" style="--vocs_Icon_size:16px"><svg width="100%" height="100%" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Down</title><path d="M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></div></button></div></div></div><div class="vocs_MobileTopNav_section"><div class="vocs_MobileTopNav_group" style="margin-right:-8px"><button class="vocs_MobileSearch_searchButton" type="button" aria-label="Search" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-«R19j»" data-state="closed"><svg width="21" height="21" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159C8.53901 10.6318 7.56251 11 6.5 11C4.01472 11 2 8.98528 2 6.5C2 4.01472 4.01472 2 6.5 2C8.98528 2 11 4.01472 11 6.5C11 7.56251 10.6318 8.53901 10.0159 9.30884L12.8536 12.1464C13.0488 12.3417 13.0488 12.6583 12.8536 12.8536C12.6583 13.0488 12.3417 13.0488 12.1464 12.8536L9.30884 10.0159Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></button></div></div></div></div><div class="vocs_DocsLayout_gutterTopCurtain vocs_DocsLayout_gutterTopCurtain_withSidebar"><div class="vocs_DesktopTopNav_curtain"></div><div class="vocs_MobileTopNav_curtain"><div class="vocs_MobileTopNav_curtainGroup"><div class="vocs_MobileTopNav_curtainItem"><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-«Rqj»" data-state="closed" class="vocs_MobileTopNav_menuTrigger"><div aria-label="Menu" class="vocs_Icon" role="img" style="--vocs_Icon_size:13px"><svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 79 48" fill="none"><title>Menu</title><path fill="currentColor" d="M19.528 47.232h40.87c1.952 0 3.515-1.562 3.515-3.564a3.5 3.5 0 0 0-3.516-3.516H19.528a3.501 3.501 0 0 0-3.515 3.516c0 2.002 1.562 3.564 3.515 3.564ZM12.057 27.262h55.81a3.501 3.501 0 0 0 3.516-3.516 3.501 3.501 0 0 0-3.515-3.515h-55.81a3.501 3.501 0 0 0-3.516 3.515 3.501 3.501 0 0 0 3.515 3.516ZM4.391 7.34H75.29c2.002 0 3.515-1.563 3.515-3.516 0-2.002-1.513-3.564-3.515-3.564H4.39C2.438.26.876 1.822.876 3.824A3.501 3.501 0 0 0 4.39 7.34Z"></path></svg></div><div class="vocs_MobileTopNav_menuTitle">IntentSwap Flow</div></button></div></div><div class="vocs_MobileTopNav_curtainGroup"><div class="vocs_MobileTopNav_curtainItem"><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-«R5aj»" data-state="closed" class="vocs_MobileTopNav_outlineTrigger">On this page<div aria-label="On this page" class="vocs_Icon" role="img" style="--vocs_Icon_size:16px"><svg width="100%" height="100%" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></div></button></div></div></div></div><div class="vocs_DocsLayout_gutterRight vocs_DocsLayout_gutterRight_withSidebar"></div><div id="vocs-content" class="vocs_DocsLayout_content vocs_DocsLayout_content_withSidebar vocs_DocsLayout_content_withTopNav"><article class="vocs_Content"><header class="vocs_Header"><h1 class="vocs_H1 vocs_Heading"><div id="intentswap" class="vocs_Heading_slugTarget"></div>IntentSwap<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/design/flow#intentswap" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h1></header>
<h3 class="vocs_H3 vocs_Heading"><div id="intentswap-flow" class="vocs_Heading_slugTarget"></div>IntentSwap Flow<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/design/flow#intentswap-flow" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<ol class="vocs_List vocs_List_ordered">
<li class="vocs_ListItem">Swapper(via CompactX) calls Quoter (Callibrator, SmartOrderRouter)</li>
<li class="vocs_ListItem">Quoter returns Output Tokens for Swap</li>
<li class="vocs_ListItem">Swapper Agrees on Swap and
a. Calls Disseminator which stores all Compact Information and Creates IntentSwapHash
b. calls Intent Manager to create SwapIntent (more callData and would use EventData to publish to Solvers)</li>
<li class="vocs_ListItem">Intent Manager(Sponsor) formats Compact, Mandate data and Signature</li>
<li class="vocs_ListItem">IntentManager(Sponsor) calls Allocator to create a compact</li>
<li class="vocs_ListItem">Allocator creates a compact locking the funds</li>
<li class="vocs_ListItem">Allocator creates a claim emitting an event that can be processed by Solvers</li>
<li class="vocs_ListItem">Solver determines the optimal route (using Tycho Simulation)</li>
<li class="vocs_ListItem">Solver creates a SolverPayload containing the callData for the Transactions to be executed</li>
<li class="vocs_ListItem">Solver calls the Arbiter to Execute the Payload and Unlock the Funds</li>
<li class="vocs_ListItem">Arbiter receives the IntentSwapSolve</li>
<li class="vocs_ListItem">Aribiter request approval to use the IntentSwaps InputTokens for the-compact via the Allocator</li>
<li class="vocs_ListItem">Arbiter executes the Solve on behalf of the Solver
a. using the SolverPayload
b. Executing via the dispatcher
c. Using the allocated input tokens</li>
<li class="vocs_ListItem">Arbiter then checks if the Amount of Output Tokens satisfies the mandate</li>
<li class="vocs_ListItem">If the Output Tokens are less than the mandate then reverts STOP</li>
<li class="vocs_ListItem">Arbiter sends a signed message to the Allocator to close the compact
a. Any unused input tokens are returned to the Sponsor.
b. Output Tokens are returned to the Solver</li>
</ol>
<h2 class="vocs_H2 vocs_Heading"><div id="usage-flows-by-actor" class="vocs_Heading_slugTarget"></div>Usage (Flows by Actor)<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/design/flow#usage-flows-by-actor" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">The Compact V1 facilitates interactions between several key actors. Here&#x27;s how typical participants might use the system.</p>
<h3 class="vocs_H3 vocs_Heading"><div id="sponsors-depositors" class="vocs_Heading_slugTarget"></div>Sponsors (Depositors)<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/design/flow#sponsors-depositors" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">Sponsors own the underlying assets and create resource locks to make them available under specific conditions.</p>
<p class="vocs_Paragraph"><strong class="vocs_Strong">1. Create a Resource Lock (Deposit Tokens):</strong> - A sponsor starts by depositing assets (native tokens or ERC20s) into The Compact. This action creates ERC6909 tokens representing ownership of the resource lock. - During deposit, the sponsor defines the lock&#x27;s properties: the <strong class="vocs_Strong">allocator</strong> (who must be registered first, see <a class="vocs_Anchor" href="/design/flow#allocators-infrastructure">Allocators (Infrastructure)</a>, the <strong class="vocs_Strong">scope</strong> (single-chain or multichain), and the <strong class="vocs_Strong">reset period</strong> (for forced withdrawals and emissary replacements). These are packed into a <code class="vocs_Code">bytes12 lockTag</code>. A resource lock&#x27;s ID is a combination of its lock tag and the underlying token&#x27;s address. - Deposit methods: - Native tokens: <code class="vocs_Code">depositNative</code> - ERC20 tokens (requires direct approval): <code class="vocs_Code">depositERC20</code>- Batch deposits (native + ERC20): <code class="vocs_Code">batchDeposit</code> - Via Permit2 (optionally gasless): <code class="vocs_Code">depositERC20ViaPermit2</code>, <code class="vocs_Code">batchDepositViaPermit2</code></p>
<p class="vocs_Paragraph"><strong class="vocs_Strong">2. Create a Compact:</strong> - To make locked funds available for claiming, a sponsor creates a compact, defining terms and designating an <strong class="vocs_Strong">arbiter</strong>.</p>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem"><strong class="vocs_Strong">Option A: Signing an EIP-712 Payload:</strong> The sponsor signs a <code class="vocs_Code">Compact</code>, <code class="vocs_Code">BatchCompact</code>, or <code class="vocs_Code">MultichainCompact</code> payload. This signed payload is given to the arbiter.</li>
<li class="vocs_ListItem"><strong class="vocs_Strong">Option B: Registering the Compact:</strong> The sponsor (or a third party with an existing sponsor signature) registers the <em>hash</em> of the intended compact details using <code class="vocs_Code">register</code> or combined deposit-and-register functions. It is also possible to deposit tokens on behalf of a sponsor and register a compact using only the deposited tokens without the sponsor&#x27;s signature using the <code class="vocs_Code">depositAndRegisterFor</code> (or the batch and permit2 variants).</li>
</ul>
<p class="vocs_Paragraph"><strong class="vocs_Strong">3. (Optional) Transfer Resource Lock Ownership:</strong> - Sponsors can transfer their ERC6909 tokens, provided they have authorization from the allocator. - Standard ERC6909 transfers require allocator <code class="vocs_Code">attest</code>. - Alternatively, use <code class="vocs_Code">allocatedTransfer</code> or <code class="vocs_Code">allocatedBatchTransfer</code> with explicit <code class="vocs_Code">allocatorData</code>.</p>
<p class="vocs_Paragraph"><strong class="vocs_Strong">4. (Optional) Assign an Emissary:</strong> - Designate an <code class="vocs_Code">IEmissary</code> using <code class="vocs_Code">assignEmissary</code> as a fallback authorizer.</p>
<p class="vocs_Paragraph"><strong class="vocs_Strong">5. (Optional) Initiate Forced Withdrawal:</strong> - If an allocator is unresponsive, use <code class="vocs_Code">enableForcedWithdrawal</code>, wait <code class="vocs_Code">resetPeriod</code>, then <code class="vocs_Code">forcedWithdrawal</code>.</p>
<h3 class="vocs_H3 vocs_Heading"><div id="arbiters--claimants-eg-fillers" class="vocs_Heading_slugTarget"></div>Arbiters &amp; Claimants (e.g. Fillers)<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/design/flow#arbiters--claimants-eg-fillers" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">Arbiters verify conditions and process claims. Claimants are the recipients.</p>
<p class="vocs_Paragraph"><strong class="vocs_Strong">1. Receive Compact Details:</strong> - Obtain compact details (signed payload or registered compact info).</p>
<p class="vocs_Paragraph"><strong class="vocs_Strong">2. Fulfill Compact Conditions:</strong> - Perform the action defined by the compact (often off-chain).</p>
<p class="vocs_Paragraph"><strong class="vocs_Strong">3. Obtain Allocator Authorization:</strong> - This relies on the allocator&#x27;s on-chain <code class="vocs_Code">authorizeClaim</code> logic. Note that the arbiter may submit <code class="vocs_Code">allocatorData</code> (i.e., an allocator&#x27;s signature or other proof the allocator understands) which the allocator can evaluate as part of its authorization flow.</p>
<p class="vocs_Paragraph"><strong class="vocs_Strong">4. Submit the Claim:</strong> - Call the appropriate claim function on <code class="vocs_Code">ITheCompactClaims</code> with the claim payload (e.g., <code class="vocs_Code">Claim</code>, <code class="vocs_Code">BatchClaim</code>). - The payload includes <code class="vocs_Code">allocatorData</code>, <code class="vocs_Code">sponsorSignature</code> (if not registered), lock details, and <code class="vocs_Code">claimants</code> array. Successful execution emits a <code class="vocs_Code">Claim</code> event and consumes the nonce.</p>
<h3 class="vocs_H3 vocs_Heading"><div id="relayers" class="vocs_Heading_slugTarget"></div>Relayers<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/design/flow#relayers" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">Relayers can perform certain interactions on behalf of sponsors and/or claimants.</p>
<p class="vocs_Paragraph"><strong class="vocs_Strong">1. Relaying Permit2 Interactions:</strong> - Submit user-signed Permit2 messages for deposits/registrations (e.g., <code class="vocs_Code">depositERC20ViaPermit2</code>, <code class="vocs_Code">depositERC20AndRegisterViaPermit2</code>, or the batch variants). For the register variants, this role is called the <code class="vocs_Code">Activator</code> and the registration is authorized by the sponsor as part of the Permit2 witness data.</p>
<p class="vocs_Paragraph"><strong class="vocs_Strong">2. Relaying Registrations-for-Sponsor:</strong> - Submit sponsor-signed registration details using <code class="vocs_Code">registerFor</code> functions.</p>
<p class="vocs_Paragraph"><strong class="vocs_Strong">3. Relaying Claims:</strong> - Submit authorized claims on behalf of a claimant using the standard <code class="vocs_Code">claim</code> functions. This would generally be performed by the arbiter of the claim being relayed.</p>
<h3 class="vocs_H3 vocs_Heading"><div id="allocators-infrastructure" class="vocs_Heading_slugTarget"></div>Allocators (Infrastructure)<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/design/flow#allocators-infrastructure" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">Allocators are crucial infrastructure for ensuring resource lock integrity.</p>
<p class="vocs_Paragraph"><strong class="vocs_Strong">1. Registration:</strong> - Register via <code class="vocs_Code">__registerAllocator</code> to get an <code class="vocs_Code">allocatorId</code>. This is a required step that must be performed before the allocator may be assigned to a resource lock. Anyone can register an allocator if one of three conditions is met: the caller is the allocator address being registered; the allocator address contains code; or a proof is supplied representing valid create2 deployment parameters.</p>
<p class="vocs_Paragraph"><strong class="vocs_Strong">Create2 Proof Format</strong>: When registering an allocator that doesn&#x27;t yet exist but will be deployed via create2, provide an 85-byte proof containing: <code class="vocs_Code">0xff ++ factory ++ salt ++ initcode hash</code>. This allows pre-registration of deterministic addresses.</p>
<p class="vocs_Paragraph"><strong class="vocs_Strong">2. Implement <code class="vocs_Code">IAllocator</code> Interface:</strong> - Deploy a contract implementing <code class="vocs_Code">IAllocator</code>. - <code class="vocs_Code">attest</code>: Called during ERC6909 transfers. Must verify safety and return <code class="vocs_Code">IAllocator.attest.selector</code>. - <code class="vocs_Code">authorizeClaim</code> / <code class="vocs_Code">isClaimAuthorized</code>: Core logic to validate claims against sponsor balances and nonces. <code class="vocs_Code">authorizeClaim</code> returns <code class="vocs_Code">IAllocator.authorizeClaim.selector</code> for on-chain validation.</p>
<p class="vocs_Paragraph"><strong class="vocs_Strong">3. (Optional) Off-chain Logic / <code class="vocs_Code">allocatorData</code> Generation:</strong> - Allocators may have off-chain systems that track balances, validate requests, generate <code class="vocs_Code">allocatorData</code> (e.g., signatures), and/or manage nonces. - The Compact is unopinionated about the particulars of allocator implementations. - Two basic sample implementations have been provided: <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/uniswap/smallocator" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Smallocator</a> and <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/uniswap/autocator" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Autocator</a>.</p>
<p class="vocs_Paragraph"><strong class="vocs_Strong">4. (Optional) Consuming Nonces:</strong> - Proactively invalidate compacts using <code class="vocs_Code">consume</code> on The Compact contract.</p></article><footer class="vocs_Footer" data-layout="docs"><div class="vocs_Footer_container"></div></footer></div><div data-bottom-observer="true"></div></div></div>
  </body>
</html>
