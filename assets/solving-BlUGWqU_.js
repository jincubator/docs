import{f as n,j as s}from"./index-DFo0gy5F.js";const t={title:"Solving, Arbitrage & Market Making",description:"undefined"};function r(i){const e={a:"a",blockquote:"blockquote",br:"br",circle:"circle",code:"code",defs:"defs",div:"div",foreignObject:"foreignObject",g:"g",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",hr:"hr",li:"li",line:"line",marker:"marker","mjx-container":"mjx-container",ol:"ol",p:"p",path:"path",pre:"pre",rect:"rect",span:"span",strong:"strong",style:"style",svg:"svg",symbol:"symbol",table:"table",tbody:"tbody",td:"td",text:"text",th:"th",thead:"thead",tr:"tr",tspan:"tspan",ul:"ul",use:"use",...n(),...i.components},l=e["mjx-container"];return s.jsxs(s.Fragment,{children:[s.jsx(e.header,{children:s.jsxs(e.h1,{id:"solving-arbitrage--market-making",children:["Solving, Arbitrage & Market Making",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#solving-arbitrage--market-making",children:s.jsx(e.div,{"data-autolink-icon":!0})})]})}),`
`,s.jsx("script",{dangerouslySetInnerHTML:{__html:`
    // Load zoom script
    if (!document.querySelector('script[src="/zoom-mermaid.js"]')) {
      const script = document.createElement('script');
      script.src = '/zoom-mermaid.js';
      script.defer = true;
      document.head.appendChild(script);
    }
  `}}),`
`,s.jsxs(e.h2,{id:"evaluating-over-1000-routes-per-second-and-arbitraging-them-with-no-upfront-capital",children:["Evaluating over 1000 Routes Per Second and arbitraging them with no upfront capital.",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#evaluating-over-1000-routes-per-second-and-arbitraging-them-with-no-upfront-capital",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"In this article I discuss my personal Journey for 2025. Give an example of a cyclical arbitrage built on the latest high performant solving and market making infrastructure. Discuss how this infrastructure can be applied to Intent Based Solving Sytems (think UniswapX, CowSwap, 1inch) and give a full breakdown of the mathematics and technical implementation of a generic solving infrastructure service that I have been developing."}),`
`,s.jsxs(e.p,{children:["If you are an ",s.jsx(e.strong,{children:"investor"}),", ",s.jsx(e.strong,{children:"protocol"}),", or ",s.jsx(e.strong,{children:"market maker"}),", let’s connect to:"]}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Investors"}),": Please help with introductions to portfolio companies and liquidity providers in the space. Also reach out if this technology can be utilized in startups you are currently evaluating."]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Protocols"}),": Please reach out if this technology (or I personally) can help you drive more order flow to your protocol."]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Market Makers (and liquidity providers)"})," please reach out if you want to develop advanced trading strategies and liquicity management functionality using this infrastructure."]}),`
`]}),`
`,s.jsxs(e.p,{children:["This reserach is also availabe on ",s.jsx(e.a,{href:"https://hackmd.io/@jincubator/arbitrage",children:"hackmd.io"})]}),`
`,s.jsxs(e.blockquote,{children:[`
`,s.jsxs(e.p,{children:[s.jsx(e.strong,{children:"Disclaimer:"})," This blog post covers an overview of a high performant solving, arbitrage and market making infrastructure. The example of a cyclical arbitrage is a simple one but useful for demonstration purposes. I really wanted to show the foundation for how to build and think about the foundational layers of collectors, strategies and execution. The codebase is private and at the time of writing has already been enhanced, but the concepts remain solid."]}),`
`]}),`
`,s.jsx(e.hr,{}),`
`,s.jsxs(e.h2,{id:"2025--a-year-of-research-and-growth",children:["2025 – A Year of Research and Growth",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#2025--a-year-of-research-and-growth",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.h3,{id:"personal-journey",children:["Personal Journey",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#personal-journey",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"This year I decided to spend my time coming up to speed on the latest innovations and technologies in crypto. My focus area is real-time market making and solving for intent-based protocols such as UniswapX, 1inch, and Cowswap. I’ve explored breakthroughs in real-time indexing, simulation, and execution pioneered by Tycho."}),`
`,s.jsx(e.p,{children:"This journey included:"}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsxs(e.li,{children:["Attending the ",s.jsx(e.strong,{children:s.jsx(e.a,{href:"https://atrium.academy/",children:"Atrium Uniswap V4 Hook Academy"})})]}),`
`,s.jsxs(e.li,{children:["Hacking on ",s.jsx(e.strong,{children:"1inch Limit Order Protocol"})," ",s.jsx(e.a,{href:"https://hackmd.io/@jincubator/1nchTychoNoLiquiditySwap",children:"article here"})]}),`
`,s.jsxs(e.li,{children:["Prototyping ",s.jsx(e.a,{href:"https://docs.uniswap.org/contracts/uniswapx/overviews",children:"UniswapX"})," Fillers and ",s.jsx(e.a,{href:"https://docs.cow.fi/cow-protocol/tutorials/solvers",children:"CowSwap"})," Solvers"]}),`
`,s.jsxs(e.li,{children:["Researching cross-chain intents and advanced resource locking using the ",s.jsx(e.strong,{children:s.jsx(e.a,{href:"https://docs.uniswap.org/contracts/the-compact/overview",children:"the-compact"})})," (an ERC6909 vault with a robust ecosystem of sponsors, allocators, fillers, arbiters, and relayers)"]}),`
`]}),`
`,s.jsxs(e.p,{children:["I continually refined my understanding of high-performance solving and market-making using ",s.jsx(e.strong,{children:s.jsx(e.a,{href:"https://alloy.rs/",children:"Alloy"})}),", ",s.jsx(e.strong,{children:"Rust"}),", and ",s.jsx(e.strong,{children:s.jsx(e.a,{href:"https://docs.propellerheads.xyz/tycho/overview",children:"Tycho’s architecture"})}),", which leverages ",s.jsx(e.strong,{children:s.jsx(e.a,{href:"https://substreams.dev/",children:"substreams"})}),", advanced ",s.jsx(e.strong,{children:"router"}),", ",s.jsx(e.strong,{children:"dispatcher"}),", and ",s.jsx(e.strong,{children:"executor technologies"}),". These abstractions allow seamless interaction with protocols such as Uniswap, Balancer, SushiSwap, and more."]}),`
`,s.jsx(e.p,{children:"There's no better way to come up to speed with the technology used in high performance, market making, solving and arbitrage then to build it. So this is what I set out to do and start with a simple goal."}),`
`,s.jsxs(e.p,{children:[s.jsx(e.strong,{children:"Goal:"})," Build an arbitrage bot capable of generating profit with ",s.jsx(e.strong,{children:"no upfront capital"}),"."]}),`
`,s.jsxs(e.h3,{id:"result",children:["Result",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#result",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.p,{children:["Below are the details of the first positive (albeit for dust) cyclical arbitrage execeuted on Base ",s.jsx(e.a,{href:"https://basescan.org/tx/0xde470c186d89aa02e6be2c066b99e7f4e39faebbca9ded80be766f64e28eacfa",children:"View on BaseScan"}),"."]}),`
`,s.jsx(s.Fragment,{children:s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsxs(e.code,{children:[s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"🌐"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" BASE"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:"  2025-09-13"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" 09:51:39"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"💰"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" Profitable"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" route"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" found:"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" 0x452c93c6f3cc3a10e11571e96bc7c88de3a33ea91a3c28a0d703a04b3bcd309c"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" with"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" profit:"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" 959"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" (0.1568333333333405%)"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"🏆"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" Route:"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" Profit"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" 0.000941"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" USDC"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" (0.156833%) Input Amount: 0.6 [USDC -"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:">"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" WETH -"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:">"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" MOJO -"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:">"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" USDC]"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"🔄"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" Route:"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" [USDC -"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:">"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" WETH"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" -"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:">"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" MOJO"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" -"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:">"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" USDC]"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" Route"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" ID:"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" 0x452c93c6f3cc3a10e11571e96bc7c88de3a33ea91a3c28a0d703a04b3bcd309c"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"⚙️"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" Protocols:"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" [uniswap_v3 -"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:">"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" uniswap_v2"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" -"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:">"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" uniswap_v2]"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"⛓️"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" Tokens:"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" 0x833589fcd6edb6e08f4c7c32d4f71b54bda02913:0x4200000000000000000000000000000000000006:0x6dba065721435cfca05caa508f3316b637861373:0x833589fcd6edb6e08f4c7c32d4f71b54bda02913"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"🪙"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" Start"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" token:"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" USDC"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" 0x833589fcd6edb6e08f4c7c32d4f71b54bda02913"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" decimals:6"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"💎"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" Input"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" amounts:"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" 0.600000"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" -"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:">"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" 0.000129"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" -"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:">"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" 30728417.014588"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"⭐"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" Eval"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" Raw"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" amounts:"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" 600000"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" -"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:">"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" 129458828870424"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" -"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:">"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" 30728417014587798013457008"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" ="}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" 600959"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"🔁"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" Pools:"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" 0xd0b53d9277642d899df5c87a3966a349a798f224"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" :"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" 0x7ef7a6e5b577a1c630e42291c25bca791d402493"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" :"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" 0xfc49208c1222c8037d4be05890b841ad25ceec60"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"🔁"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" Flash"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" pool:"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" pool:0x021235b92a4f52c789f43a1b01453c237c265861"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" token:"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" 2c8c89c442436cc6c0a77943e09c8daf49da3161"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" borrowToken0:"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"false"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" fee:0.01%"})]})]})})}),`
`,s.jsxs(e.h3,{id:"some-statistics",children:["Some Statistics",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#some-statistics",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.h4,{id:"performance-statistics",children:["Performance Statistics",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#performance-statistics",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"Below show route evaluation (and execution) capabilities of over 1000 routes per second, run on small relatively slow mini pc. This is a summary of several runs executed on mulitple chains over a total of 51 and a half minutes."}),`
`,s.jsxs(e.table,{children:[s.jsx(e.thead,{children:s.jsxs(e.tr,{children:[s.jsx(e.th,{children:"📊 Statistic"}),s.jsx(e.th,{children:"Value"})]})}),s.jsxs(e.tbody,{children:[s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"Total Routes Evaluated"}),s.jsx(e.td,{children:"182,746"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"Peak Routes/sec"}),s.jsx(e.td,{children:"1,146"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"Current Routes/sec (last run)"}),s.jsx(e.td,{children:"1,069"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"Average Route Eval Time (µs)"}),s.jsx(e.td,{children:"424"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"DB Throughput (ops/sec)"}),s.jsx(e.td,{children:"0"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"Memory Usage (MB)"}),s.jsx(e.td,{children:"657"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"Batch Size (last run)"}),s.jsx(e.td,{children:"1"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"Execution Success Rate (%)"}),s.jsx(e.td,{children:"100"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"Metrics Capture Duration (s)"}),s.jsx(e.td,{children:"3,090"})]})]})]}),`
`,s.jsxs(e.h4,{id:"chain-stats",children:["Chain Stats",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#chain-stats",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"Following are the chains we used for our evaluation, testing multiple chains, hop sizes and protocols to give a well balanced analysis."}),`
`,s.jsxs(e.table,{children:[s.jsx(e.thead,{children:s.jsxs(e.tr,{children:[s.jsx(e.th,{children:"📊 Statistic"}),s.jsx(e.th,{children:"Base"}),s.jsx(e.th,{children:"Ethereum"}),s.jsx(e.th,{children:"Unichain"})]})}),s.jsxs(e.tbody,{children:[s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"Routes Total"}),s.jsx(e.td,{children:"85,986"}),s.jsx(e.td,{children:"33,226"}),s.jsx(e.td,{children:"24,600"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"Graph Edges (Pools)"}),s.jsx(e.td,{children:"5,338"}),s.jsx(e.td,{children:"4,276"}),s.jsx(e.td,{children:"114"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"Graph Nodes (Tokens)"}),s.jsx(e.td,{children:"2,477"}),s.jsx(e.td,{children:"1,593"}),s.jsx(e.td,{children:"33"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"Total Tokens"}),s.jsx(e.td,{children:"26,061"}),s.jsx(e.td,{children:"11,824"}),s.jsx(e.td,{children:"15,300"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"TVL"}),s.jsx(e.td,{children:"1"}),s.jsx(e.td,{children:"50"}),s.jsx(e.td,{children:"1"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"Hops"}),s.jsx(e.td,{children:"4"}),s.jsx(e.td,{children:"3"}),s.jsx(e.td,{children:"5"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"Protocols"}),s.jsx(e.td,{children:"2"}),s.jsx(e.td,{children:"7"}),s.jsx(e.td,{children:"3"})]})]})]}),`
`,s.jsxs(e.blockquote,{children:[`
`,s.jsxs(e.p,{children:[`Note run on Sep 26th 2025
`,s.jsx(e.strong,{children:"Routes"}),`: Represent how many cyclical routes we created (e.g. A -> B -> C -> A)
`,s.jsx(e.strong,{children:"Graph Edges (Pools)"}),` the number of pools we are selecting based on TVL and protocol filtering
`,s.jsx(e.strong,{children:"Graph Nodes (Tokens)"}),` the number of tokens associated with the selected pools
`,s.jsx(e.strong,{children:"TVL"}),` is in ETH and indicates the minimum TVL for the pools we selected
`,s.jsx(e.strong,{children:"Hops"}),` how many hops in the route we create, currently we support 2 to 5 hop routes. For prototyping we used different hops for experimentation all chains support up to 5 hops.
`,s.jsx(e.strong,{children:"Protocols"})," the number of protocols we extracted see ",s.jsx(e.a,{href:"https://docs.propellerheads.xyz/tycho/for-solvers/supported-protocols",children:"Tycho Supported Protocols"})]}),`
`]}),`
`,s.jsxs(e.blockquote,{children:[`
`,s.jsx(e.p,{children:"Note this was run on a Small Computer Linux, AMD Ryzen 7 5700u (8C/16T,up to 4.3 GHz), Mini PC Gamer 64GB DDR4 RAM 2TB PCIe SSD, Mini Desktop Supports 4K@60Hz/Triple Display/WiFi/BT5.0/HDMI+DP+Type C/Home/Office"}),`
`]}),`
`,s.jsxs(e.h2,{id:"an-overview-of-intent-based-protocols-and-solving",children:["An Overview of Intent-Based Protocols and Solving",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#an-overview-of-intent-based-protocols-and-solving",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.h3,{id:"resource-management-and-capital-efficient-liquidity",children:["Resource Management and Capital-Efficient Liquidity",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#resource-management-and-capital-efficient-liquidity",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.p,{children:["The key to building a high-performance system lies in efficient resource allocation. Pools themselves can act as liquidity sources, and flash-loans allow trades to execute ",s.jsx(e.strong,{children:"capital-efficient arbitrage"})," without requiring upfront capital. With the advances in DeFi protocols such as ",s.jsx(e.a,{href:"https://docs.uniswap.org/contracts/v4/overview",children:"Uniswap 4"})," with ",s.jsx(e.a,{href:"https://docs.uniswap.org/contracts/v4/quickstart/hooks/setup",children:"hook capabilities"})," this allowed me to build custom execution logic on top of large liquidity reserves giving endless opportunities."]}),`
`,s.jsx(e.p,{children:"I started out with a goal of building an intent based hook, which would record the intent (e.g. swap 1 ETH for 4500 USDC) and create an intent which I could solve, if I could solve that intent giving the swapper a better return, than I could keep the profit. For example if the pool offered a swap of 1 ETH for 4500 USDC, but I had a better route that could swap 1 ETH for 4600 USDC, I could solve the intent giving the swapper, say, 4550 USDC take the ETH and then perform the swap netting 50 USDC profit. Whilst this was an interesting idea, I soon came to realize that with V4's pool manager settlement functionality, it was better to build the intent outside the protocol (at the router level) rather than as a hook. Or better still build a hook which integrates with an Executor such Tycho with perhaps some Flash Loan functionality, more to come on this."}),`
`,s.jsxs(e.h3,{id:"streaming-simulation-and-execution",children:["Streaming, Simulation, and Execution",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#streaming-simulation-and-execution",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.p,{children:["The architecture follows the principle: ",s.jsx(e.strong,{children:"Collectors → Strategies → Execution"})]}),`
`,s.jsxs(e.h4,{id:"collectors-continuously-stream-on-chain-data",children:["Collectors: Continuously stream on-chain data",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#collectors-continuously-stream-on-chain-data",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.p,{children:["The bedrock of the collection architecture is the ",s.jsx(e.a,{href:"https://docs.propellerheads.xyz/tycho/for-solvers/indexer",children:"Tycho Indexer"})," built on ",s.jsx(e.a,{href:"https://docs.substreams.dev/",children:"substreams"}),". It provides real time state updates for multiple protocols filtered by TVL values for those protocols."]}),`
`,s.jsx(e.p,{children:"On top of this we build a graph manager and a route manager using Depth First Search of the graph to create the routes with a little flash_loan_manager to determine the optimal flash loan available. This includes choosing the flash loan with the lowest fee which does not have any locking conflicts with the route."}),`
`,s.jsx(e.p,{children:"The key point for collection, once again enabled by Tycho streaming technology, is that on a state change to any of the protocols which I am monitoring. I trigger route evaluations for all routes that contain that pool. Evaluating whether a positive arbitrage cycle exists or not. I must admit its tireless work for the route evaluate and its queue manager, evaluating hundreds or even thousands of routes per block, but occasionally, just occasionally an opportunity will be found, which makes it all worthwhile."}),`
`,s.jsxs(e.h4,{id:"strategies-analyze-and-simulate-opportunities",children:["Strategies: Analyze and simulate opportunities",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#strategies-analyze-and-simulate-opportunities",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"The first (and only thus far) strategy implemented thus far is a cyclical arbitrage. Starting and ending with the same token traversing throough routes we simulate each input and output amount for the route and evaluate if a positve aribtrage exists. If so a Solution for the route with an input amount is Signalled. This will be received by the execution layer."}),`
`,s.jsx(e.p,{children:"Below is the profitability calculation"}),`
`,s.jsxs(e.h4,{id:"execution-executing-the-transactions",children:["Execution: Executing the transactions",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#execution-executing-the-transactions",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"The exeuction layer receives a Solution including input amount and the route to execute. It performs additional aumentation and encoding."}),`
`,s.jsx(e.p,{children:"For example in the reference cylical aribtrage the executor maps both the flash loan parameters and swap parameters. It encodes the solution and using alloy binding for flashExecutor creates the calldata for the transaction."}),`
`,s.jsx(e.p,{children:"The executor itself has pre-flight validation which will capture any identified routes which may no longer be profitabile or error because of other upstream analysis issues. This saves wasting gas on transactions that will revert."}),`
`,s.jsxs(e.h2,{id:"profitability-calculation",children:["Profitability Calculation",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#profitability-calculation",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.p,{children:["Let ",s.jsx(e.code,{children:"A0"})," be amount_in (start token), ",s.jsx(e.code,{children:"Ak"})," be amount_out (end token), ",s.jsx(e.code,{children:"fee_hundredths_bip"})," the flash fee in 1e-6 units."]}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsx(e.li,{children:"swap_profit_percentage = ((Ak − A0) / A0) × 100"}),`
`,s.jsx(e.li,{children:"flash_fee_pct = fee_hundredths_bip / 10_000 (as percent)"}),`
`,s.jsx(e.li,{children:"net_profit_percentage = swap_profit_percentage − flash_fee_pct"}),`
`,s.jsx(e.li,{children:"net_profit_token = Ak − A0 − floor(A0 × fee_hundredths_bip / 1_000_000)"}),`
`]}),`
`,s.jsxs(e.p,{children:["Threshold gating uses ",s.jsx(e.code,{children:"net_profit_percentage >= profit_threshold"})," (default 0.0%)."]}),`
`,s.jsx(e.p,{children:`At this time we then need to optimize the input amount for the route.
This is done using a binary doubling and halving algorithm until the optimal amount is found.`}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Execution"}),": Optimistically execute profitable paths"]}),`
`]}),`
`,s.jsx(e.hr,{}),`
`,s.jsxs(e.h2,{id:"building-a-liquidity-mapping-layer",children:["Building a Liquidity Mapping Layer",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#building-a-liquidity-mapping-layer",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"Conceptually this was farly straight forward, create a graph with Tokens as Nodes, Pools as edges and then create routes for that graph. With the protocol abstraction offered by tycho's component and state model. A pool is a pool is a pool regardles of what the underlying protocol is. This simplified the implementation considerably"}),`
`,s.jsx(e.hr,{}),`
`,s.jsxs(e.h2,{id:"my-first-strategy-cyclical-arbitrage",children:["My First Strategy: Cyclical Arbitrage",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-first-strategy-cyclical-arbitrage",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.h3,{id:"hello-bellman-ford",children:["(Hello Bellman-Ford)",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#hello-bellman-ford",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsx(e.li,{children:"Analytical optimization for multi-hop routes"}),`
`,s.jsxs(e.li,{children:["Supports ",s.jsx(e.strong,{children:"2–5 hop cycles"})]}),`
`,s.jsxs(e.li,{children:["Prioritizes ",s.jsx(e.strong,{children:"profitability and performance"})," (~1000 routes/sec)"]}),`
`]}),`
`,s.jsxs(e.blockquote,{children:[`
`,s.jsx(e.p,{children:"An open strategy framework is under development with the Cyclica Arbitrage (CARB) implemented and a TOKEN (token based arbitrage which groups all the routes for the input token and selects the route with the highest profitability) currently being tested in production."}),`
`]}),`
`,s.jsx(e.hr,{}),`
`,s.jsxs(e.h2,{id:"the-execution-layer--making-it-happen",children:["The Execution Layer – Making It Happen",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#the-execution-layer--making-it-happen",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.h3,{id:"some-flash-loan-magic",children:["Some Flash Loan Magic",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#some-flash-loan-magic",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsx(e.li,{children:"Borrow liquidity directly from pools for capital-efficient trades"}),`
`,s.jsx(e.li,{children:"Near-zero fees, instant execution"}),`
`]}),`
`,s.jsxs(e.h3,{id:"the-beauty-of-routes-single-and-sequential-swaps",children:["The Beauty of Routes: Single and Sequential Swaps",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#the-beauty-of-routes-single-and-sequential-swaps",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Atomic Execution"}),": Trades revert if not profitable"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Optimistic Recursive Execution"}),": Capture secondary opportunities generated by large trades"]}),`
`]}),`
`,s.jsx(e.hr,{}),`
`,s.jsxs(e.h3,{id:"summary-of-features",children:["Summary of Features",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#summary-of-features",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsx(e.li,{children:"Multi-chain, multi-protocol route evaluation"}),`
`,s.jsx(e.li,{children:"Multi-hop arbitrage support"}),`
`,s.jsx(e.li,{children:"Flash-loan enabled trades"}),`
`,s.jsx(e.li,{children:"Persistent storage for faster startup"}),`
`,s.jsx(e.li,{children:"Modular queues for streaming, graph, route management, evaluation, and execution"}),`
`]}),`
`,s.jsx(e.hr,{}),`
`,s.jsxs(e.h3,{id:"key-milestones",children:["Key Milestones",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#key-milestones",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"First Working Transaction:"})," ",s.jsx(e.a,{href:"https://basescan.org/tx/0xde470c186d89aa02e6be2c066b99e7f4e39faebbca9ded80be766f64e28eacfa",children:"View on BaseScan"})]}),`
`,s.jsxs(e.li,{children:["Support for ",s.jsx(e.strong,{children:"2–5 hop routes"})]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Standalone persistence"})," for tokens, graphs, and routes"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Multi-protocol support"}),":",`
`,s.jsxs(e.ul,{children:[`
`,s.jsx(e.li,{children:"Ethereum: Uniswap v2/v3/v4, Balancer v2, Curve, Sushiswap v2, Pancakeswap v2/v3, Ekubo v2"}),`
`,s.jsx(e.li,{children:"Base: Uniswap v2/v3"}),`
`,s.jsx(e.li,{children:"Unichain Uniswap v2/v3/v4"}),`
`]}),`
`]}),`
`,s.jsx(e.li,{children:"SingleSwap Support takes advantage of complex routes using Uniswap V4 advanced Execution"}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Performance"}),": ~1000 route evaluations per second"]}),`
`,s.jsxs(e.li,{children:["Prototype ",s.jsx(e.strong,{children:"v4 Flash Loans"})," (near-zero fees)"]}),`
`]}),`
`,s.jsx(e.hr,{}),`
`,s.jsxs(e.h3,{id:"still-to-come",children:["Still to Come",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#still-to-come",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"At time of writing these features are being evaluated and/or implemented"}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsx(e.li,{children:"Gas manager"}),`
`,s.jsx(e.li,{children:"MEV bundling"}),`
`,s.jsx(e.li,{children:"Token based evaluation (grouping of all routes for a token to ensure the most profitable arbitrage)"}),`
`,s.jsx(e.li,{children:"Additional protocol integrations"}),`
`,s.jsx(e.li,{children:"Further performance optimizations"}),`
`,s.jsx(e.li,{children:"Uniswap V4 Flash Hook (Access to V4 Liquidity integrated with complex routing and exeuction strategies)"}),`
`,s.jsxs(e.li,{children:["Liquidity Management (ERC-6909 based liquidity manageer build on ",s.jsx(e.a,{href:"https://docs.uniswap.org/contracts/the-compact/overview",children:"the-compact"})," from Uniswap)"]}),`
`]}),`
`,s.jsx(e.hr,{}),`
`,s.jsxs(e.h2,{id:"whats-next--opportunities--integrations",children:["What’s Next – Opportunities & Integrations",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#whats-next--opportunities--integrations",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.h3,{id:"filling-strategies",children:["Filling Strategies",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#filling-strategies",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"Multi protocol solver integrations including"}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsxs(e.li,{children:[`
`,s.jsx(e.strong,{children:"UniswapX Solving"}),`
`]}),`
`,s.jsxs(e.li,{children:[`
`,s.jsx(e.strong,{children:"1inch Limit Order Solver Integration"}),`
`]}),`
`,s.jsxs(e.li,{children:[`
`,s.jsx(e.strong,{children:"Cowswap Solving"}),`
`]}),`
`]}),`
`,s.jsxs(e.h3,{id:"flash-liquidity",children:["Flash Liquidity",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#flash-liquidity",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsxs(e.li,{children:[`
`,s.jsx(e.strong,{children:"Uniswap / Tycho Limit Order Hook Integration"}),`
`]}),`
`]}),`
`,s.jsxs(e.h3,{id:"protocol-order-flow",children:["Protocol Order Flow",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#protocol-order-flow",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"Adding additional protocols to the simulation and execution framework to drive order flow."}),`
`,s.jsxs(e.h3,{id:"liquidity-management",children:["Liquidity Management",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#liquidity-management",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.p,{children:["Introducing an advanced liquidity management infrastructure with real time settlement, JIT liqidity provioning and support for advanced trading strategies. (ERC-6909 based liquidity manageer build on ",s.jsx(e.a,{href:"https://docs.uniswap.org/contracts/the-compact/overview",children:"the-compact"})," from Uniswap)"]}),`
`,s.jsxs(e.h3,{id:"miscellaneous",children:["Miscellaneous",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#miscellaneous",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsx(e.li,{children:"Hosted services for Market Makers and Solvers"}),`
`,s.jsx(e.li,{children:"Collaboration and Consulting for Protocols looking to attract more order flow."}),`
`,s.jsx(e.li,{children:"Strategy development for Solving, Market Making and Liquidation Engines."}),`
`]}),`
`,s.jsx(e.header,{children:s.jsxs(e.h1,{id:"appendices",children:["Appendices",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#appendices",children:s.jsx(e.div,{"data-autolink-icon":!0})})]})}),`
`,s.jsxs(e.h2,{id:"appendix-a-mathematics",children:["Appendix A: Mathematics",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#appendix-a-mathematics",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.h3,{id:"route-manager",children:["Route Manager",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#route-manager",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"The Route Manager enumerates all possible multi-hop routes through the liquidity graph. We use a modified Depth-First Search (DFS) traversal to explore potential sequences of swaps, iterating through multiple nodes while avoiding revisiting tokens in the same route."}),`
`,s.jsxs(e.p,{children:["Mathematically, for a graph ",s.jsx(l,{className:"MathJax",jax:"SVG",children:s.jsxs(e.svg,{style:{verticalAlign:"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"11.03ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 4875.2 1000",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[s.jsxs(e.defs,{children:[s.jsx(e.path,{id:"MJX-1-TEX-I-1D43A",d:"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z"}),s.jsx(e.path,{id:"MJX-1-TEX-N-3D",d:"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"}),s.jsx(e.path,{id:"MJX-1-TEX-N-28",d:"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"}),s.jsx(e.path,{id:"MJX-1-TEX-I-1D449",d:"M52 648Q52 670 65 683H76Q118 680 181 680Q299 680 320 683H330Q336 677 336 674T334 656Q329 641 325 637H304Q282 635 274 635Q245 630 242 620Q242 618 271 369T301 118L374 235Q447 352 520 471T595 594Q599 601 599 609Q599 633 555 637Q537 637 537 648Q537 649 539 661Q542 675 545 679T558 683Q560 683 570 683T604 682T668 681Q737 681 755 683H762Q769 676 769 672Q769 655 760 640Q757 637 743 637Q730 636 719 635T698 630T682 623T670 615T660 608T652 599T645 592L452 282Q272 -9 266 -16Q263 -18 259 -21L241 -22H234Q216 -22 216 -15Q213 -9 177 305Q139 623 138 626Q133 637 76 637H59Q52 642 52 648Z"}),s.jsx(e.path,{id:"MJX-1-TEX-N-2C",d:"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"}),s.jsx(e.path,{id:"MJX-1-TEX-I-1D438",d:"M492 213Q472 213 472 226Q472 230 477 250T482 285Q482 316 461 323T364 330H312Q311 328 277 192T243 52Q243 48 254 48T334 46Q428 46 458 48T518 61Q567 77 599 117T670 248Q680 270 683 272Q690 274 698 274Q718 274 718 261Q613 7 608 2Q605 0 322 0H133Q31 0 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H757Q764 676 764 669Q764 664 751 557T737 447Q735 440 717 440H705Q698 445 698 453L701 476Q704 500 704 528Q704 558 697 578T678 609T643 625T596 632T532 634H485Q397 633 392 631Q388 629 386 622Q385 619 355 499T324 377Q347 376 372 376H398Q464 376 489 391T534 472Q538 488 540 490T557 493Q562 493 565 493T570 492T572 491T574 487T577 483L544 351Q511 218 508 216Q505 213 492 213Z"}),s.jsx(e.path,{id:"MJX-1-TEX-N-29",d:"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"})]}),s.jsx(e.g,{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",transform:"scale(1,-1)",children:s.jsxs(e.g,{"data-mml-node":"math",children:[s.jsx(e.g,{"data-mml-node":"mi",children:s.jsx(e.use,{"data-c":"1D43A",xlinkHref:"#MJX-1-TEX-I-1D43A"})}),s.jsx(e.g,{"data-mml-node":"mo",transform:"translate(1063.8,0)",children:s.jsx(e.use,{"data-c":"3D",xlinkHref:"#MJX-1-TEX-N-3D"})}),s.jsx(e.g,{"data-mml-node":"mo",transform:"translate(2119.6,0)",children:s.jsx(e.use,{"data-c":"28",xlinkHref:"#MJX-1-TEX-N-28"})}),s.jsx(e.g,{"data-mml-node":"mi",transform:"translate(2508.6,0)",children:s.jsx(e.use,{"data-c":"1D449",xlinkHref:"#MJX-1-TEX-I-1D449"})}),s.jsx(e.g,{"data-mml-node":"mo",transform:"translate(3277.6,0)",children:s.jsx(e.use,{"data-c":"2C",xlinkHref:"#MJX-1-TEX-N-2C"})}),s.jsx(e.g,{"data-mml-node":"mi",transform:"translate(3722.2,0)",children:s.jsx(e.use,{"data-c":"1D438",xlinkHref:"#MJX-1-TEX-I-1D438"})}),s.jsx(e.g,{"data-mml-node":"mo",transform:"translate(4486.2,0)",children:s.jsx(e.use,{"data-c":"29",xlinkHref:"#MJX-1-TEX-N-29"})})]})})]})})," with vertices ",s.jsx(l,{className:"MathJax",jax:"SVG",children:s.jsxs(e.svg,{style:{verticalAlign:"-0.05ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.74ex",height:"1.595ex",role:"img",focusable:"false",viewBox:"0 -683 769 705",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[s.jsx(e.defs,{children:s.jsx(e.path,{id:"MJX-2-TEX-I-1D449",d:"M52 648Q52 670 65 683H76Q118 680 181 680Q299 680 320 683H330Q336 677 336 674T334 656Q329 641 325 637H304Q282 635 274 635Q245 630 242 620Q242 618 271 369T301 118L374 235Q447 352 520 471T595 594Q599 601 599 609Q599 633 555 637Q537 637 537 648Q537 649 539 661Q542 675 545 679T558 683Q560 683 570 683T604 682T668 681Q737 681 755 683H762Q769 676 769 672Q769 655 760 640Q757 637 743 637Q730 636 719 635T698 630T682 623T670 615T660 608T652 599T645 592L452 282Q272 -9 266 -16Q263 -18 259 -21L241 -22H234Q216 -22 216 -15Q213 -9 177 305Q139 623 138 626Q133 637 76 637H59Q52 642 52 648Z"})}),s.jsx(e.g,{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",transform:"scale(1,-1)",children:s.jsx(e.g,{"data-mml-node":"math",children:s.jsx(e.g,{"data-mml-node":"mi",children:s.jsx(e.use,{"data-c":"1D449",xlinkHref:"#MJX-2-TEX-I-1D449"})})})})]})})," representing tokens and edges ",s.jsx(l,{className:"MathJax",jax:"SVG",children:s.jsxs(e.svg,{style:{verticalAlign:"0"},xmlns:"http://www.w3.org/2000/svg",width:"1.729ex",height:"1.538ex",role:"img",focusable:"false",viewBox:"0 -680 764 680",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[s.jsx(e.defs,{children:s.jsx(e.path,{id:"MJX-3-TEX-I-1D438",d:"M492 213Q472 213 472 226Q472 230 477 250T482 285Q482 316 461 323T364 330H312Q311 328 277 192T243 52Q243 48 254 48T334 46Q428 46 458 48T518 61Q567 77 599 117T670 248Q680 270 683 272Q690 274 698 274Q718 274 718 261Q613 7 608 2Q605 0 322 0H133Q31 0 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H757Q764 676 764 669Q764 664 751 557T737 447Q735 440 717 440H705Q698 445 698 453L701 476Q704 500 704 528Q704 558 697 578T678 609T643 625T596 632T532 634H485Q397 633 392 631Q388 629 386 622Q385 619 355 499T324 377Q347 376 372 376H398Q464 376 489 391T534 472Q538 488 540 490T557 493Q562 493 565 493T570 492T572 491T574 487T577 483L544 351Q511 218 508 216Q505 213 492 213Z"})}),s.jsx(e.g,{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",transform:"scale(1,-1)",children:s.jsx(e.g,{"data-mml-node":"math",children:s.jsx(e.g,{"data-mml-node":"mi",children:s.jsx(e.use,{"data-c":"1D438",xlinkHref:"#MJX-3-TEX-I-1D438"})})})})]})})," representing liquidity pools, DFS can be described recursively as:"]}),`
`,s.jsx(e.p,{children:"DFS(v) = visit all neighbors of v recursively without revisiting nodes in the current path"}),`
`,s.jsx(e.p,{children:"Our implementation supports two main modes:"}),`
`,s.jsxs(e.ol,{children:[`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Full Graph Rebuild:"})," Clears all existing graph data and rebuilds from scratch, adding pools in bulk or individually depending on dataset size. V4 eligibility of tokens is processed for all pools."]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Incremental Updates:"})," Adds new pools to the existing graph without clearing prior data. Optimized for ",s.jsx(l,{className:"MathJax",jax:"SVG",children:s.jsxs(e.svg,{style:{verticalAlign:"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.844ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2141 1000",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[s.jsxs(e.defs,{children:[s.jsx(e.path,{id:"MJX-4-TEX-I-1D442",d:"M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z"}),s.jsx(e.path,{id:"MJX-4-TEX-N-28",d:"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"}),s.jsx(e.path,{id:"MJX-4-TEX-I-1D45B",d:"M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"}),s.jsx(e.path,{id:"MJX-4-TEX-N-29",d:"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"})]}),s.jsx(e.g,{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",transform:"scale(1,-1)",children:s.jsxs(e.g,{"data-mml-node":"math",children:[s.jsx(e.g,{"data-mml-node":"mi",children:s.jsx(e.use,{"data-c":"1D442",xlinkHref:"#MJX-4-TEX-I-1D442"})}),s.jsx(e.g,{"data-mml-node":"mo",transform:"translate(763,0)",children:s.jsx(e.use,{"data-c":"28",xlinkHref:"#MJX-4-TEX-N-28"})}),s.jsx(e.g,{"data-mml-node":"mi",transform:"translate(1152,0)",children:s.jsx(e.use,{"data-c":"1D45B",xlinkHref:"#MJX-4-TEX-I-1D45B"})}),s.jsx(e.g,{"data-mml-node":"mo",transform:"translate(1752,0)",children:s.jsx(e.use,{"data-c":"29",xlinkHref:"#MJX-4-TEX-N-29"})})]})})]})})," complexity relative to the number of new pools."]}),`
`]}),`
`,s.jsx(e.p,{children:"Edges are bidirectional between token pairs:"}),`
`,s.jsx(l,{className:"MathJax",jax:"SVG",display:"true",children:s.jsxs(e.svg,{style:{verticalAlign:"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.933ex",height:"1.645ex",role:"img",focusable:"false",viewBox:"0 -716 3064.6 727",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[s.jsxs(e.defs,{children:[s.jsx(e.path,{id:"MJX-5-TEX-I-1D434",d:"M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"}),s.jsx(e.path,{id:"MJX-5-TEX-N-2194",d:"M263 479Q267 501 271 506T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H835Q729 349 696 475Q691 493 691 500Q691 511 711 511Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q144 292 194 349T263 479Z"}),s.jsx(e.path,{id:"MJX-5-TEX-I-1D435",d:"M231 637Q204 637 199 638T194 649Q194 676 205 682Q206 683 335 683Q594 683 608 681Q671 671 713 636T756 544Q756 480 698 429T565 360L555 357Q619 348 660 311T702 219Q702 146 630 78T453 1Q446 0 242 0Q42 0 39 2Q35 5 35 10Q35 17 37 24Q42 43 47 45Q51 46 62 46H68Q95 46 128 49Q142 52 147 61Q150 65 219 339T288 628Q288 635 231 637ZM649 544Q649 574 634 600T585 634Q578 636 493 637Q473 637 451 637T416 636H403Q388 635 384 626Q382 622 352 506Q352 503 351 500L320 374H401Q482 374 494 376Q554 386 601 434T649 544ZM595 229Q595 273 572 302T512 336Q506 337 429 337Q311 337 310 336Q310 334 293 263T258 122L240 52Q240 48 252 48T333 46Q422 46 429 47Q491 54 543 105T595 229Z"})]}),s.jsx(e.g,{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",transform:"scale(1,-1)",children:s.jsxs(e.g,{"data-mml-node":"math",children:[s.jsx(e.g,{"data-mml-node":"mi",children:s.jsx(e.use,{"data-c":"1D434",xlinkHref:"#MJX-5-TEX-I-1D434"})}),s.jsx(e.g,{"data-mml-node":"mo",transform:"translate(1027.8,0)",children:s.jsx(e.use,{"data-c":"2194",xlinkHref:"#MJX-5-TEX-N-2194"})}),s.jsx(e.g,{"data-mml-node":"mi",transform:"translate(2305.6,0)",children:s.jsx(e.use,{"data-c":"1D435",xlinkHref:"#MJX-5-TEX-I-1D435"})})]})})]})}),`
`,s.jsx(e.p,{children:"Each edge stores metadata including the pool identifier, output token, protocol, and fee basis points."}),`
`,s.jsxs(e.h4,{id:"modified-dfs-traversal",children:["Modified DFS Traversal",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#modified-dfs-traversal",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"Instead of a simple recursive DFS, the route manager iteratively explores each node while accounting for:"}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsx(e.li,{children:"Pool and token blacklists to prevent invalid routes"}),`
`,s.jsx(e.li,{children:"Multi-protocol support (Uniswap V2/V3/V4, Sushiswap, Pancakeswap, Ekubo, Balancer, Curve)"}),`
`,s.jsx(e.li,{children:"Flash loan constraints to avoid locking conflicts"}),`
`,s.jsx(e.li,{children:"Real-time V4 eligibility of tokens"}),`
`]}),`
`,s.jsx(e.p,{children:"The traversal maintains a stack of paths, extending each path by iterating over neighbor tokens. If a neighbor has already been visited in the current path, it is skipped to prevent cycles that do not start and end at the same token."}),`
`,s.jsxs(e.h4,{id:"graph-construction-overview",children:["Graph Construction Overview",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#graph-construction-overview",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsx(e.li,{children:"Assign unique identifiers for each pool and token"}),`
`,s.jsx(e.li,{children:"Create bidirectional edges connecting the token pair"}),`
`,s.jsx(e.li,{children:"Update adjacency structures for fast neighbor lookup"}),`
`,s.jsx(e.li,{children:"Persist edges to storage in both compact and legacy formats"}),`
`]}),`
`,s.jsxs(e.h4,{id:"dfs-context",children:["DFS Context",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#dfs-context",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"Depth-first search is an algorithm for traversing or searching tree or graph structures. Starting at a root node (or an arbitrary node in a general graph), DFS explores as far as possible along each branch before backtracking. A stack (explicit or via recursion) tracks the nodes visited along the current branch."}),`
`,s.jsx(e.p,{children:"In the arbitrage solver, DFS enumerates all candidate routes for evaluation by the Route Evaluator, ensuring that profitable multi-hop cycles are identified while respecting token and pool constraints."}),`
`,s.jsx(e.hr,{}),`
`,s.jsxs(e.h3,{id:"route-evaluator",children:["Route Evaluator",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#route-evaluator",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"The route evaluation process leverages the Bellman–Ford algorithm to detect negative-weight cycles that correspond to profitable arbitrage opportunities:"}),`
`,s.jsx(e.p,{children:s.jsx(e.code,{children:"d(v) = min_{(u,v) in E} [ d(u) + w(u,v) ]"})}),`
`,s.jsx(e.p,{children:"Negative-weight cycles represent opportunities where the sequence of swaps results in a net gain after accounting for fees."}),`
`,s.jsxs(e.blockquote,{children:[`
`,s.jsx(e.p,{children:"Token Evaluation is in progress this groups all the routes for the input token and selects the route with the highest profitability"}),`
`]}),`
`,s.jsx(e.hr,{}),`
`,s.jsxs(e.h3,{id:"optimal-amount-calculator",children:["Optimal Amount Calculator",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#optimal-amount-calculator",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.p,{children:["The function ",s.jsx(e.code,{children:"find_optimal_input_amount"})," computes the ",s.jsx(e.strong,{children:"capital-efficient input amount"})," for a given arbitrage or swap route to maximize profit.",s.jsx(e.br,{}),`
`,"Mathematically, it is an ",s.jsx(e.strong,{children:"iterative optimization problem"})," combining ",s.jsx(e.strong,{children:"exponential search"})," and ",s.jsx(e.strong,{children:"binary search"})," over discrete input amounts."]}),`
`,s.jsx(e.hr,{}),`
`,s.jsxs(e.h4,{id:"step-0-initialization",children:["Step 0: Initialization",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#step-0-initialization",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"Let:"}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsxs(e.li,{children:[s.jsx(e.code,{children:"A_min"})," = initial minimum input (e.g., 0.1 token)"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.code,{children:"A_max"})," = upper bound (initialized as ",s.jsx(e.code,{children:"A_min"}),")"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.code,{children:"P_best = 0"})," = best observed profit"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.code,{children:"A_best = A_min"})," = best input amount"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.code,{children:"ε"})," = minimum input resolution (based on token decimals, e.g., 0.001 token)"]}),`
`]}),`
`,s.jsx(e.p,{children:"Define:"}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsxs(e.li,{children:[s.jsx(e.code,{children:"profit(amount)"})," = evaluation function that returns absolute profit from using ",s.jsx(e.code,{children:"amount"})," on the route."]}),`
`]}),`
`,s.jsx(e.hr,{}),`
`,s.jsxs(e.h4,{id:"phase-1-doubling-search-exponential-growth",children:["Phase 1: Doubling Search (Exponential Growth)",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#phase-1-doubling-search-exponential-growth",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.p,{children:[s.jsx(e.strong,{children:"Goal:"})," Quickly find an ",s.jsx(e.strong,{children:"upper bound"})," for profitable input."]}),`
`,s.jsxs(e.ol,{children:[`
`,s.jsxs(e.li,{children:["Set ",s.jsx(e.code,{children:"A = A_min"})]}),`
`,s.jsxs(e.li,{children:["Repeat for a maximum number of iterations:",`
`,s.jsxs(e.ol,{children:[`
`,s.jsxs(e.li,{children:["Evaluate profit: ",s.jsx(e.code,{children:"P = profit(A)"})]}),`
`,s.jsxs(e.li,{children:["If ",s.jsx(e.code,{children:"P > P_best"}),", update:",`
`,s.jsx(s.Fragment,{children:s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsxs(e.code,{children:[s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"P_best = P"})}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"A_best = A"})})]})})}),`
`]}),`
`,s.jsx(e.li,{children:"If profit drops below threshold or declines significantly, stop doubling"}),`
`,s.jsxs(e.li,{children:["Else, double the input:",`
`,s.jsx(s.Fragment,{children:s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsx(e.code,{children:s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"A = 2 * A"})})})})}),`
`]}),`
`]}),`
`]}),`
`]}),`
`,s.jsx(e.strong,{children:"Result:"}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsxs(e.li,{children:[s.jsx(e.code,{children:"A_max = A"})," (approximate upper bound)"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.code,{children:"A_min"})," = last profitable input from doubling"]}),`
`]}),`
`,s.jsxs(e.blockquote,{children:[`
`,s.jsxs(e.p,{children:["This phase is equivalent to an ",s.jsx(e.strong,{children:"exponential search"})," to find the range where the optimal input lies."]}),`
`]}),`
`,s.jsx(e.hr,{}),`
`,s.jsxs(e.h4,{id:"phase-2-binary-search-refinement",children:["Phase 2: Binary Search (Refinement)",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#phase-2-binary-search-refinement",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.p,{children:[s.jsx(e.strong,{children:"Goal:"})," Refine the optimal input within ",s.jsx(e.code,{children:"[A_min, A_max]"}),"."]}),`
`,s.jsxs(e.ol,{children:[`
`,s.jsxs(e.li,{children:["While ",s.jsx(e.code,{children:"A_max - A_min > ε"})," and iterations < ",s.jsx(e.code,{children:"max_search_iterations"}),":",`
`,s.jsxs(e.ol,{children:[`
`,s.jsxs(e.li,{children:["Compute midpoint:",`
`,s.jsx(s.Fragment,{children:s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsx(e.code,{children:s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"A_mid = (A_min + A_max) / 2"})})})})}),`
`]}),`
`,s.jsxs(e.li,{children:["Evaluate profit at midpoint: ",s.jsx(e.code,{children:"P = profit(A_mid)"})]}),`
`,s.jsxs(e.li,{children:["Update best:",`
`,s.jsxs(e.ul,{children:[`
`,s.jsxs(e.li,{children:["If ",s.jsx(e.code,{children:"P > P_best"}),", then:",`
`,s.jsx(s.Fragment,{children:s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsxs(e.code,{children:[s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"A_best = A_mid"})}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"P_best = P"})})]})})}),`
`]}),`
`]}),`
`]}),`
`,s.jsxs(e.li,{children:["Update bounds for next iteration:",`
`,s.jsxs(e.ul,{children:[`
`,s.jsxs(e.li,{children:["If midpoint profit > previous profit → search higher: ",s.jsx(e.code,{children:"A_min = A_mid"})]}),`
`,s.jsxs(e.li,{children:["Else → search lower: ",s.jsx(e.code,{children:"A_max = A_mid"})]}),`
`]}),`
`]}),`
`]}),`
`]}),`
`]}),`
`,s.jsx(e.strong,{children:"Result:"}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsxs(e.li,{children:[s.jsx(e.code,{children:"A_best"})," approximates the ",s.jsx(e.strong,{children:"input amount that maximizes profit"})," within desired precision."]}),`
`]}),`
`,s.jsx(e.hr,{}),`
`,s.jsxs(e.h4,{id:"mathematical-summary",children:["Mathematical Summary",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#mathematical-summary",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Exponential search:"})," Quickly find search range ",s.jsx(e.code,{children:"[A_min, A_max]"})]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Binary search:"})," Efficiently refine the optimum within that range"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Profit metric:"})," Absolute profit (",s.jsx(e.code,{children:"output - input"}),") used to select best amount"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Dynamic adjustments:"})," Optional function to tweak inputs if routes behave non-linearly or have state-dependent constraints."]}),`
`]}),`
`,s.jsx(s.Fragment,{children:s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsxs(e.code,{children:[s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"maximize P(A) = profit from route given input A"})}),`
`,s.jsx(e.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"subject to:"})}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    A_min <= A <= A_max"})}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    P(A) >= profit_threshold"})}),`
`,s.jsx(e.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"where:"})}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    A_max is found via exponential doubling"})}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    A_best is refined via binary search"})})]})})}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Exponential search:"})," Quickly find search range ",s.jsx(e.code,{children:"[A_min, A_max]"})]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Binary search:"})," Efficiently refine the optimum within that range"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Profit metric:"})," Absolute profit (",s.jsx(e.code,{children:"output - input"}),") used to select best amount"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Dynamic adjustments:"})," Optional function to tweak inputs if routes behave non-linearly or have state-dependent constraints."]}),`
`]}),`
`,s.jsx(e.hr,{}),`
`,s.jsxs(e.h3,{id:"arbitrage-profit-calculation",children:["Arbitrage Profit Calculation",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#arbitrage-profit-calculation",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"Net profit percentage for a route:"}),`
`,s.jsx(s.Fragment,{children:s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsxs(e.code,{children:[s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"swap_profit_pct = (A_k - A_0) / A_0 * 100"})}),`
`,s.jsx(e.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"flash_fee_pct = fee_hundredths_bip / 10,000"})}),`
`,s.jsx(e.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"net_profit_pct = swap_profit_pct - flash_fee_pct"})}),`
`,s.jsx(e.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"net_profit_token = A_k - A_0 - floor( A_0 * fee_hundredths_bip / 1,000,000 )"})})]})})}),`
`,s.jsxs(e.h2,{id:"appendix-b-performance",children:["Appendix B: Performance",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#appendix-b-performance",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.h3,{id:"chain-breakdown",children:["Chain Breakdown",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#chain-breakdown",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.table,{children:[s.jsx(e.thead,{children:s.jsxs(e.tr,{children:[s.jsx(e.th,{children:"📊 Statistic"}),s.jsx(e.th,{children:"Base"}),s.jsx(e.th,{children:"Ethereum"}),s.jsx(e.th,{children:"Unichain"})]})}),s.jsxs(e.tbody,{children:[s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"Total Tokens"}),s.jsx(e.td,{children:"26,061"}),s.jsx(e.td,{children:"11,824"}),s.jsx(e.td,{children:"15,300"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"Graph Nodes (Tokens)"}),s.jsx(e.td,{children:"2,477"}),s.jsx(e.td,{children:"1,593"}),s.jsx(e.td,{children:"33"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"Graph Nodes (V4 Eligible)"}),s.jsx(e.td,{children:"838"}),s.jsx(e.td,{children:"826"}),s.jsx(e.td,{children:"33"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"Graph Nodes (V4 Ineligible)"}),s.jsx(e.td,{children:"1,639"}),s.jsx(e.td,{children:"767"}),s.jsx(e.td,{children:"0"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"Graph Edges (Pools)"}),s.jsx(e.td,{children:"5,338"}),s.jsx(e.td,{children:"4,276"}),s.jsx(e.td,{children:"114"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"Routes Total"}),s.jsx(e.td,{children:"85,986"}),s.jsx(e.td,{children:"33,226"}),s.jsx(e.td,{children:"24,600"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"Routes Flash V4"}),s.jsx(e.td,{children:"85,616"}),s.jsx(e.td,{children:"19,284"}),s.jsx(e.td,{children:"68"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"Routes Flash Other"}),s.jsx(e.td,{children:"2"}),s.jsx(e.td,{children:"11,762"}),s.jsx(e.td,{children:"19,162"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"Routes Flash Error"}),s.jsx(e.td,{children:"368"}),s.jsx(e.td,{children:"2,180"}),s.jsx(e.td,{children:"5,370"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:s.jsx(e.strong,{children:"TVL"})}),s.jsx(e.td,{children:"1"}),s.jsx(e.td,{children:"50"}),s.jsx(e.td,{children:"1"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:s.jsx(e.strong,{children:"HOPS"})}),s.jsx(e.td,{children:"4"}),s.jsx(e.td,{children:"3"}),s.jsx(e.td,{children:"5"})]})]})]}),`
`,s.jsxs(e.h3,{id:"performance-summary",children:["Performance Summary",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#performance-summary",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.table,{children:[s.jsx(e.thead,{children:s.jsxs(e.tr,{children:[s.jsx(e.th,{children:"📊 Statistic"}),s.jsx(e.th,{children:"Value"})]})}),s.jsxs(e.tbody,{children:[s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"Total Routes Evaluated"}),s.jsx(e.td,{children:"182,746"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"Peak Routes/sec"}),s.jsx(e.td,{children:"1,146"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"Current Routes/sec (last run)"}),s.jsx(e.td,{children:"1,069"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"Average Route Eval Time (µs)"}),s.jsx(e.td,{children:"424"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"DB Throughput (ops/sec)"}),s.jsx(e.td,{children:"0"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"Memory Usage (MB)"}),s.jsx(e.td,{children:"657"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"Batch Size (last run)"}),s.jsx(e.td,{children:"1"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"Execution Success Rate (%)"}),s.jsx(e.td,{children:"100"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"Metrics Capture Duration (s)"}),s.jsx(e.td,{children:"3,090"})]})]})]}),`
`,s.jsxs(e.h3,{id:"performance-detail",children:["Performance Detail",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#performance-detail",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.table,{children:[s.jsx(e.thead,{children:s.jsxs(e.tr,{children:[s.jsx(e.th,{children:"Timestamp"}),s.jsx(e.th,{children:"Total Routes"}),s.jsx(e.th,{children:"Avg Eval Time (µs)"}),s.jsx(e.th,{children:"Peak Routes/sec"}),s.jsx(e.th,{children:"Current Routes/sec"}),s.jsx(e.th,{children:"DB Throughput (ops/sec)"}),s.jsx(e.th,{children:"Memory (MB)"}),s.jsx(e.th,{children:"Batch Size"}),s.jsx(e.th,{children:"Success Rate (%)"}),s.jsx(e.th,{children:"Metrics Capture Duration (s)"})]})}),s.jsxs(e.tbody,{children:[s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"2025-09-26T18:02:16"}),s.jsx(e.td,{children:"9,248"}),s.jsx(e.td,{children:"57,020"}),s.jsx(e.td,{children:"0"}),s.jsx(e.td,{children:"0"}),s.jsx(e.td,{children:"0"}),s.jsx(e.td,{children:"190"}),s.jsx(e.td,{children:"3,122"}),s.jsx(e.td,{children:"0"}),s.jsx(e.td,{children:"0.10"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"2025-09-27T01:27:13"}),s.jsx(e.td,{children:"33,042"}),s.jsx(e.td,{children:"1,159"}),s.jsx(e.td,{children:"576"}),s.jsx(e.td,{children:"507"}),s.jsx(e.td,{children:"0"}),s.jsx(e.td,{children:"279"}),s.jsx(e.td,{children:"1"}),s.jsx(e.td,{children:"0"}),s.jsx(e.td,{children:"31.60"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"2025-09-27T01:28:31"}),s.jsx(e.td,{children:"0"}),s.jsx(e.td,{children:"0"}),s.jsx(e.td,{children:"0"}),s.jsx(e.td,{children:"0"}),s.jsx(e.td,{children:"0"}),s.jsx(e.td,{children:"142"}),s.jsx(e.td,{children:"0"}),s.jsx(e.td,{children:"0"}),s.jsx(e.td,{children:"0.10"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"2025-09-27T01:29:52"}),s.jsx(e.td,{children:"13,896"}),s.jsx(e.td,{children:"4,799"}),s.jsx(e.td,{children:"464"}),s.jsx(e.td,{children:"10"}),s.jsx(e.td,{children:"0"}),s.jsx(e.td,{children:"247"}),s.jsx(e.td,{children:"1"}),s.jsx(e.td,{children:"100"}),s.jsx(e.td,{children:"36.82"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"2025-09-27T02:28:52"}),s.jsx(e.td,{children:"8,508"}),s.jsx(e.td,{children:"3,188"}),s.jsx(e.td,{children:"483"}),s.jsx(e.td,{children:"334"}),s.jsx(e.td,{children:"0"}),s.jsx(e.td,{children:"243"}),s.jsx(e.td,{children:"1"}),s.jsx(e.td,{children:"100"}),s.jsx(e.td,{children:"36.02"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"2025-09-27T05:26:44"}),s.jsx(e.td,{children:"24,262"}),s.jsx(e.td,{children:"1,160"}),s.jsx(e.td,{children:"641"}),s.jsx(e.td,{children:"90"}),s.jsx(e.td,{children:"0"}),s.jsx(e.td,{children:"248"}),s.jsx(e.td,{children:"1"}),s.jsx(e.td,{children:"40"}),s.jsx(e.td,{children:"38.74"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"2025-09-27T06:10:32"}),s.jsx(e.td,{children:"57"}),s.jsx(e.td,{children:"1,456,807"}),s.jsx(e.td,{children:"0"}),s.jsx(e.td,{children:"0"}),s.jsx(e.td,{children:"0"}),s.jsx(e.td,{children:"207"}),s.jsx(e.td,{children:"57"}),s.jsx(e.td,{children:"0"}),s.jsx(e.td,{children:"0.24"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"2025-09-27T06:25:54"}),s.jsx(e.td,{children:"928"}),s.jsx(e.td,{children:"185,317"}),s.jsx(e.td,{children:"0"}),s.jsx(e.td,{children:"0"}),s.jsx(e.td,{children:"0"}),s.jsx(e.td,{children:"302"}),s.jsx(e.td,{children:"928"}),s.jsx(e.td,{children:"0"}),s.jsx(e.td,{children:"0.16"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"2025-09-27T06:39:39"}),s.jsx(e.td,{children:"2,138"}),s.jsx(e.td,{children:"289,502"}),s.jsx(e.td,{children:"0"}),s.jsx(e.td,{children:"0"}),s.jsx(e.td,{children:"0"}),s.jsx(e.td,{children:"418"}),s.jsx(e.td,{children:"2,138"}),s.jsx(e.td,{children:"0"}),s.jsx(e.td,{children:"0.25"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"2025-09-27T07:51:53"}),s.jsx(e.td,{children:"38,810"}),s.jsx(e.td,{children:"605"}),s.jsx(e.td,{children:"1,023"}),s.jsx(e.td,{children:"674"}),s.jsx(e.td,{children:"0"}),s.jsx(e.td,{children:"412"}),s.jsx(e.td,{children:"1"}),s.jsx(e.td,{children:"100"}),s.jsx(e.td,{children:"226.02"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"2025-09-27T10:36:00"}),s.jsx(e.td,{children:"3,135"}),s.jsx(e.td,{children:"2,514,005"}),s.jsx(e.td,{children:"0"}),s.jsx(e.td,{children:"0"}),s.jsx(e.td,{children:"0"}),s.jsx(e.td,{children:"450"}),s.jsx(e.td,{children:"3,135"}),s.jsx(e.td,{children:"0"}),s.jsx(e.td,{children:"7,885.70"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"2025-09-27T16:51:53"}),s.jsx(e.td,{children:"182,746"}),s.jsx(e.td,{children:"354"}),s.jsx(e.td,{children:"1,146"}),s.jsx(e.td,{children:"1,069"}),s.jsx(e.td,{children:"0"}),s.jsx(e.td,{children:"657"}),s.jsx(e.td,{children:"1"}),s.jsx(e.td,{children:"100"}),s.jsx(e.td,{children:"3,090.32"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"2025-09-27T17:08:56"}),s.jsx(e.td,{children:"60,618"}),s.jsx(e.td,{children:"424"}),s.jsx(e.td,{children:"1,033"}),s.jsx(e.td,{children:"968"}),s.jsx(e.td,{children:"0"}),s.jsx(e.td,{children:"494"}),s.jsx(e.td,{children:"1"}),s.jsx(e.td,{children:"87"}),s.jsx(e.td,{children:"416.48"})]})]})]}),`
`,s.jsxs(e.h2,{id:"appendix-c-reference-implementation",children:["Appendix C: Reference Implementation",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#appendix-c-reference-implementation",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.h3,{id:"architecture-overview",children:["Architecture Overview",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#architecture-overview",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.p,{children:["The Tycho solver system implements a sophisticated arbitrage bot capable of generating profit with ",s.jsx(e.strong,{children:"no upfront capital"})," through flash loan-based execution. The architecture follows a ",s.jsx(e.strong,{children:"streaming-first approach"})," that processes real-time blockchain data to identify and execute profitable arbitrage opportunities."]}),`
`,s.jsxs(e.h4,{id:"core-design-principles",children:["Core Design Principles",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#core-design-principles",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.ol,{children:[`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Collectors → Strategies → Execution"}),": Modular architecture with clear separation of concerns"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Real-time Processing"}),": Live blockchain data streaming via Tycho protocol streams"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Capital Efficiency"}),": Flash loan integration eliminates upfront capital requirements"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Multi-protocol Support"}),": Uniswap V2, V3, V4 with extensible protocol framework"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Performance Optimization"}),": Microsecond-level route evaluation and execution"]}),`
`]}),`
`,s.jsxs(e.h4,{id:"system-architecture",children:["System Architecture",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#system-architecture",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:s.jsxs(e.svg,{"aria-roledescription":"flowchart-v2",role:"graphics-document document",viewBox:"0 0 2272.484375 1435",style:{maxWidth:"100%",cursor:"zoom-in",height:"auto"},className:"flowchart mermaid-zoomable",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlns:"http://www.w3.org/2000/svg",width:"100%",id:"mermaid-0","data-zoomable":"true",children:[s.jsx(e.style,{children:"#mermaid-0{font-family:arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-0 .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-0 .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-0 .error-icon{fill:#552222;}#mermaid-0 .error-text{fill:#552222;stroke:#552222;}#mermaid-0 .edge-thickness-normal{stroke-width:1px;}#mermaid-0 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-0 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-0 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-0 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-0 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-0 .marker{fill:#333333;stroke:#333333;}#mermaid-0 .marker.cross{stroke:#333333;}#mermaid-0 svg{font-family:arial,sans-serif;font-size:16px;}#mermaid-0 p{margin:0;}#mermaid-0 .label{font-family:arial,sans-serif;color:#333;}#mermaid-0 .cluster-label text{fill:#333;}#mermaid-0 .cluster-label span{color:#333;}#mermaid-0 .cluster-label span p{background-color:transparent;}#mermaid-0 .label text,#mermaid-0 span{fill:#333;color:#333;}#mermaid-0 .node rect,#mermaid-0 .node circle,#mermaid-0 .node ellipse,#mermaid-0 .node polygon,#mermaid-0 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-0 .rough-node .label text,#mermaid-0 .node .label text,#mermaid-0 .image-shape .label,#mermaid-0 .icon-shape .label{text-anchor:middle;}#mermaid-0 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-0 .rough-node .label,#mermaid-0 .node .label,#mermaid-0 .image-shape .label,#mermaid-0 .icon-shape .label{text-align:center;}#mermaid-0 .node.clickable{cursor:pointer;}#mermaid-0 .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#mermaid-0 .arrowheadPath{fill:#333333;}#mermaid-0 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-0 .flowchart-link{stroke:#333333;fill:none;}#mermaid-0 .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-0 .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#mermaid-0 .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-0 .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#mermaid-0 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-0 .cluster text{fill:#333;}#mermaid-0 .cluster span{color:#333;}#mermaid-0 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-0 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-0 rect.text{fill:none;stroke-width:0;}#mermaid-0 .icon-shape,#mermaid-0 .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-0 .icon-shape p,#mermaid-0 .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#mermaid-0 .icon-shape rect,#mermaid-0 .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-0 .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#mermaid-0 .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#mermaid-0 :root{--mermaid-font-family:arial,sans-serif;}"}),s.jsxs(e.g,{children:[s.jsx(e.marker,{orient:"auto",markerHeight:"8",markerWidth:"8",markerUnits:"userSpaceOnUse",refY:"5",refX:"5",viewBox:"0 0 10 10",className:"marker flowchart-v2",id:"mermaid-0_flowchart-v2-pointEnd",children:s.jsx(e.path,{style:{strokeWidth:"1",strokeDasharray:"1, 0"},className:"arrowMarkerPath",d:"M 0 0 L 10 5 L 0 10 z"})}),s.jsx(e.marker,{orient:"auto",markerHeight:"8",markerWidth:"8",markerUnits:"userSpaceOnUse",refY:"5",refX:"4.5",viewBox:"0 0 10 10",className:"marker flowchart-v2",id:"mermaid-0_flowchart-v2-pointStart",children:s.jsx(e.path,{style:{strokeWidth:"1",strokeDasharray:"1, 0"},className:"arrowMarkerPath",d:"M 0 5 L 10 10 L 10 0 z"})}),s.jsx(e.marker,{orient:"auto",markerHeight:"11",markerWidth:"11",markerUnits:"userSpaceOnUse",refY:"5",refX:"11",viewBox:"0 0 10 10",className:"marker flowchart-v2",id:"mermaid-0_flowchart-v2-circleEnd",children:s.jsx(e.circle,{style:{strokeWidth:"1",strokeDasharray:"1, 0"},className:"arrowMarkerPath",r:"5",cy:"5",cx:"5"})}),s.jsx(e.marker,{orient:"auto",markerHeight:"11",markerWidth:"11",markerUnits:"userSpaceOnUse",refY:"5",refX:"-1",viewBox:"0 0 10 10",className:"marker flowchart-v2",id:"mermaid-0_flowchart-v2-circleStart",children:s.jsx(e.circle,{style:{strokeWidth:"1",strokeDasharray:"1, 0"},className:"arrowMarkerPath",r:"5",cy:"5",cx:"5"})}),s.jsx(e.marker,{orient:"auto",markerHeight:"11",markerWidth:"11",markerUnits:"userSpaceOnUse",refY:"5.2",refX:"12",viewBox:"0 0 11 11",className:"marker cross flowchart-v2",id:"mermaid-0_flowchart-v2-crossEnd",children:s.jsx(e.path,{style:{strokeWidth:"2",strokeDasharray:"1, 0"},className:"arrowMarkerPath",d:"M 1,1 l 9,9 M 10,1 l -9,9"})}),s.jsx(e.marker,{orient:"auto",markerHeight:"11",markerWidth:"11",markerUnits:"userSpaceOnUse",refY:"5.2",refX:"-1",viewBox:"0 0 11 11",className:"marker cross flowchart-v2",id:"mermaid-0_flowchart-v2-crossStart",children:s.jsx(e.path,{style:{strokeWidth:"2",strokeDasharray:"1, 0"},className:"arrowMarkerPath",d:"M 1,1 l 9,9 M 10,1 l -9,9"})}),s.jsxs(e.g,{className:"root",children:[s.jsxs(e.g,{className:"clusters",children:[s.jsxs(e.g,{"data-look":"classic",id:"subGraph8",className:"cluster",children:[s.jsx(e.rect,{height:"104",width:"602.5625",y:"8",x:"735.5",style:{}}),s.jsx(e.g,{transform:"translate(1003.578125, 8)",className:"cluster-label",children:s.jsx(e.foreignObject,{height:"24",width:"66.40625",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"nodeLabel",children:s.jsx(e.p,{children:"CLI Tools"})})})})})]}),s.jsxs(e.g,{"data-look":"classic",id:"subGraph7",className:"cluster",children:[s.jsx(e.rect,{height:"208",width:"236.71875",y:"1219",x:"1895.03125",style:{}}),s.jsx(e.g,{transform:"translate(1955.59375, 1219)",className:"cluster-label",children:s.jsx(e.foreignObject,{height:"24",width:"115.59375",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"nodeLabel",children:s.jsx(e.p,{children:"Smart Contracts"})})})})})]}),s.jsxs(e.g,{"data-look":"classic",id:"subGraph6",className:"cluster",children:[s.jsx(e.rect,{height:"1007",width:"2169.45703125",y:"162",x:"53.625",style:{}}),s.jsx(e.g,{transform:"translate(1055.220703125, 162)",className:"cluster-label",children:s.jsx(e.foreignObject,{height:"24",width:"166.265625",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"nodeLabel",children:s.jsx(e.p,{children:"solver_driver (Runtime)"})})})})})]}),s.jsxs(e.g,{"data-look":"classic",id:"subGraph1",className:"cluster",children:[s.jsx(e.rect,{height:"104",width:"906.421875",y:"8",x:"1358.0625",style:{}}),s.jsx(e.g,{transform:"translate(1724.125, 8)",className:"cluster-label",children:s.jsx(e.foreignObject,{height:"24",width:"174.296875",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"nodeLabel",children:s.jsx(e.p,{children:"solver_core (Pure Logic)"})})})})})]}),s.jsxs(e.g,{"data-look":"classic",id:"subGraph0",className:"cluster",children:[s.jsx(e.rect,{height:"104",width:"707.5",y:"8",x:"8",style:{}}),s.jsx(e.g,{transform:"translate(281.7109375, 8)",className:"cluster-label",children:s.jsx(e.foreignObject,{height:"24",width:"160.078125",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"nodeLabel",children:s.jsx(e.p,{children:"External Data Sources"})})})})})]}),s.jsxs(e.g,{"data-look":"classic",id:"Persistence",className:"cluster",children:[s.jsx(e.rect,{height:"104",width:"551.66015625",y:"678",x:"507.28125",style:{}}),s.jsx(e.g,{transform:"translate(741.314453125, 678)",className:"cluster-label",children:s.jsx(e.foreignObject,{height:"24",width:"83.59375",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"nodeLabel",children:s.jsx(e.p,{children:"Persistence"})})})})})]}),s.jsxs(e.g,{"data-look":"classic",id:"subGraph4",className:"cluster",children:[s.jsx(e.rect,{height:"312",width:"269.046875",y:"832",x:"1878.8671875",style:{}}),s.jsx(e.g,{transform:"translate(1947.5703125, 832)",className:"cluster-label",children:s.jsx(e.foreignObject,{height:"24",width:"131.640625",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"nodeLabel",children:s.jsx(e.p,{children:"Execution Pipeline"})})})})})]}),s.jsxs(e.g,{"data-look":"classic",id:"subGraph3",className:"cluster",children:[s.jsx(e.rect,{height:"337",width:"1116.5078125",y:"445",x:"1078.94140625",style:{}}),s.jsx(e.g,{transform:"translate(1566.9296875, 445)",className:"cluster-label",children:s.jsx(e.foreignObject,{height:"24",width:"140.53125",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"nodeLabel",children:s.jsx(e.p,{children:"Processing Pipeline"})})})})})]}),s.jsxs(e.g,{"data-look":"classic",id:"subGraph2",className:"cluster",children:[s.jsx(e.rect,{height:"208",width:"998.23046875",y:"187",x:"73.625",style:{}}),s.jsx(e.g,{transform:"translate(518.490234375, 187)",className:"cluster-label",children:s.jsx(e.foreignObject,{height:"24",width:"108.5",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"nodeLabel",children:s.jsx(e.p,{children:"Data Collection"})})})})})]})]}),s.jsxs(e.g,{className:"edgePaths",children:[s.jsx(e.path,{markerEnd:"url(#mermaid-0_flowchart-v2-pointEnd)",style:{},className:"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link",id:"L_TYCHO_STREAMING_0",d:"M157.922,87L157.922,91.167C157.922,95.333,157.922,103.667,157.922,112C157.922,120.333,157.922,128.667,157.922,137C157.922,145.333,157.922,153.667,157.922,162C157.922,170.333,157.922,178.667,193.939,188.805C229.957,198.943,301.992,210.886,338.009,216.857L374.027,222.829"}),s.jsx(e.path,{markerEnd:"url(#mermaid-0_flowchart-v2-pointEnd)",style:{},className:"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link",id:"L_RPC_COLLECTORS_0",d:"M410.648,87L410.648,91.167C410.648,95.333,410.648,103.667,436.146,112C461.643,120.333,512.638,128.667,538.135,137C563.633,145.333,563.633,153.667,563.633,162C563.633,170.333,563.633,178.667,583.214,187.775C602.796,196.883,641.959,206.766,661.54,211.708L681.122,216.649"}),s.jsx(e.path,{markerEnd:"url(#mermaid-0_flowchart-v2-pointEnd)",style:{},className:"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link",id:"L_API_COLLECTORS_0",d:"M614.477,87L614.477,91.167C614.477,95.333,614.477,103.667,640.345,112C666.214,120.333,717.951,128.667,743.819,137C769.688,145.333,769.688,153.667,769.688,162C769.688,170.333,769.688,178.667,769.688,186.333C769.688,194,769.688,201,769.688,204.5L769.688,208"}),s.jsx(e.path,{markerEnd:"url(#mermaid-0_flowchart-v2-pointEnd)",style:{},className:"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link",id:"L_STREAMING_STORE_0",d:"M471.566,266L471.566,270.167C471.566,274.333,471.566,282.667,525.254,293.929C578.941,305.191,686.316,319.382,740.003,326.478L793.691,333.573"}),s.jsx(e.path,{markerEnd:"url(#mermaid-0_flowchart-v2-pointEnd)",style:{},className:"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link",id:"L_STORE_GRAPH_0",d:"M919.265,370L927.637,374.167C936.009,378.333,952.752,386.667,1019.415,395C1086.077,403.333,1202.658,411.667,1260.948,420C1319.238,428.333,1319.238,436.667,1319.238,444.333C1319.238,452,1319.238,459,1319.238,462.5L1319.238,466"}),s.jsx(e.path,{markerEnd:"url(#mermaid-0_flowchart-v2-pointEnd)",style:{},className:"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link",id:"L_GRAPH_ROUTES_0",d:"M1256.854,524L1247.226,528.167C1237.599,532.333,1218.344,540.667,1208.717,548.333C1199.09,556,1199.09,563,1199.09,566.5L1199.09,570"}),s.jsx(e.path,{markerEnd:"url(#mermaid-0_flowchart-v2-pointEnd)",style:{},className:"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link",id:"L_ROUTES_ANALYZER_0",d:"M1271.859,628L1283.089,632.167C1294.319,636.333,1316.779,644.667,1328.008,653C1339.238,661.333,1339.238,669.667,1436.889,681.366C1534.54,693.064,1729.843,708.129,1827.494,715.661L1925.145,723.193"}),s.jsx(e.path,{markerEnd:"url(#mermaid-0_flowchart-v2-pointEnd)",style:{},className:"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link",id:"L_ANALYZER_ENCODER_0",d:"M2013.391,757L2013.391,761.167C2013.391,765.333,2013.391,773.667,2013.391,782C2013.391,790.333,2013.391,798.667,2013.391,807C2013.391,815.333,2013.391,823.667,2013.391,831.333C2013.391,839,2013.391,846,2013.391,849.5L2013.391,853"}),s.jsx(e.path,{markerEnd:"url(#mermaid-0_flowchart-v2-pointEnd)",style:{},className:"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link",id:"L_ENCODER_EXECUTOR_0",d:"M2013.391,911L2013.391,915.167C2013.391,919.333,2013.391,927.667,2013.391,935.333C2013.391,943,2013.391,950,2013.391,953.5L2013.391,957"}),s.jsx(e.path,{markerEnd:"url(#mermaid-0_flowchart-v2-pointEnd)",style:{},className:"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link",id:"L_EXECUTOR_SENDER_0",d:"M2013.391,1015L2013.391,1019.167C2013.391,1023.333,2013.391,1031.667,2013.391,1039.333C2013.391,1047,2013.391,1054,2013.391,1057.5L2013.391,1061"}),s.jsx(e.path,{markerEnd:"url(#mermaid-0_flowchart-v2-pointEnd)",style:{},className:"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link",id:"L_STORE_DB_0",d:"M797.656,354.024L755.927,360.853C714.198,367.683,630.74,381.341,589.01,392.337C547.281,403.333,547.281,411.667,547.281,420C547.281,428.333,547.281,436.667,547.281,449.5C547.281,462.333,547.281,479.667,547.281,497C547.281,514.333,547.281,531.667,547.281,549C547.281,566.333,547.281,583.667,547.281,601C547.281,618.333,547.281,635.667,547.281,648.5C547.281,661.333,547.281,669.667,568.552,679.51C589.822,689.354,632.364,700.708,653.634,706.385L674.905,712.062"}),s.jsx(e.path,{markerEnd:"url(#mermaid-0_flowchart-v2-pointEnd)",style:{},className:"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link",id:"L_ROUTES_DB_0",d:"M1199.09,628L1199.09,632.167C1199.09,636.333,1199.09,644.667,1199.09,653C1199.09,661.333,1199.09,669.667,1134.147,681.223C1069.204,692.78,939.318,707.56,874.374,714.95L809.431,722.34"}),s.jsx(e.path,{markerEnd:"url(#mermaid-0_flowchart-v2-pointEnd)",style:{},className:"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link",id:"L_GRAPH_DB_0",d:"M1319.238,524L1319.238,528.167C1319.238,532.333,1319.238,540.667,1319.238,553.5C1319.238,566.333,1319.238,583.667,1319.238,601C1319.238,618.333,1319.238,635.667,1319.238,648.5C1319.238,661.333,1319.238,669.667,1234.272,681.489C1149.306,693.311,979.373,708.622,894.407,716.278L809.441,723.934"}),s.jsx(e.path,{markerEnd:"url(#mermaid-0_flowchart-v2-pointEnd)",style:{},className:"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link",id:"L_SENDER_ROUTER_0",d:"M2013.391,1119L2013.391,1123.167C2013.391,1127.333,2013.391,1135.667,2013.391,1144C2013.391,1152.333,2013.391,1160.667,2013.391,1169C2013.391,1177.333,2013.391,1185.667,2013.391,1194C2013.391,1202.333,2013.391,1210.667,2013.391,1218.333C2013.391,1226,2013.391,1233,2013.391,1236.5L2013.391,1240"}),s.jsx(e.path,{markerEnd:"url(#mermaid-0_flowchart-v2-pointEnd)",style:{},className:"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link",id:"L_ROUTER_POOLS_0",d:"M2013.391,1298L2013.391,1302.167C2013.391,1306.333,2013.391,1314.667,2013.391,1322.333C2013.391,1330,2013.391,1337,2013.391,1340.5L2013.391,1344"}),s.jsx(e.path,{markerEnd:"url(#mermaid-0_flowchart-v2-pointEnd)",style:{},className:"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link",id:"L_ARBITRAGER_STREAMING_0",d:"M835.625,87L835.625,91.167C835.625,95.333,835.625,103.667,747.785,112C659.944,120.333,484.263,128.667,396.423,137C308.582,145.333,308.582,153.667,308.582,162C308.582,170.333,308.582,178.667,321.007,186.797C333.431,194.928,358.28,202.856,370.705,206.82L383.129,210.784"}),s.jsx(e.path,{markerEnd:"url(#mermaid-0_flowchart-v2-pointEnd)",style:{},className:"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link",id:"L_ROUTE_EXEC_ANALYZER_0",d:"M1217.922,87L1217.922,91.167C1217.922,95.333,1217.922,103.667,1271.854,112C1325.785,120.333,1433.648,128.667,1487.58,137C1541.512,145.333,1541.512,153.667,1541.512,162C1541.512,170.333,1541.512,178.667,1541.512,191.5C1541.512,204.333,1541.512,221.667,1541.512,239C1541.512,256.333,1541.512,273.667,1541.512,291C1541.512,308.333,1541.512,325.667,1541.512,343C1541.512,360.333,1541.512,377.667,1541.512,390.5C1541.512,403.333,1541.512,411.667,1541.512,420C1541.512,428.333,1541.512,436.667,1541.512,449.5C1541.512,462.333,1541.512,479.667,1541.512,497C1541.512,514.333,1541.512,531.667,1541.512,549C1541.512,566.333,1541.512,583.667,1541.512,601C1541.512,618.333,1541.512,635.667,1541.512,648.5C1541.512,661.333,1541.512,669.667,1605.453,680.879C1669.393,692.092,1797.275,706.185,1861.216,713.231L1925.157,720.277"}),s.jsx(e.path,{markerEnd:"url(#mermaid-0_flowchart-v2-pointEnd)",style:{},className:"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link",id:"L_TYCHO_CLI_DB_0",d:"M1016.766,87L1016.766,91.167C1016.766,95.333,1016.766,103.667,1029.281,112C1041.796,120.333,1066.826,128.667,1079.34,137C1091.855,145.333,1091.855,153.667,1091.855,162C1091.855,170.333,1091.855,178.667,1091.855,191.5C1091.855,204.333,1091.855,221.667,1091.855,239C1091.855,256.333,1091.855,273.667,1091.855,291C1091.855,308.333,1091.855,325.667,1091.855,343C1091.855,360.333,1091.855,377.667,1045.021,390.5C998.186,403.333,904.517,411.667,857.682,420C810.848,428.333,810.848,436.667,810.848,449.5C810.848,462.333,810.848,479.667,810.848,497C810.848,514.333,810.848,531.667,810.848,549C810.848,566.333,810.848,583.667,810.848,601C810.848,618.333,810.848,635.667,810.848,648.5C810.848,661.333,810.848,669.667,805.872,677.598C800.896,685.529,790.944,693.058,785.968,696.822L780.992,700.587"}),s.jsx(e.path,{markerEnd:"url(#mermaid-0_flowchart-v2-pointEnd)",style:{},className:"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link",id:"L_TYPES_STREAMING_0",d:"M1474.055,87L1474.055,91.167C1474.055,95.333,1474.055,103.667,1318.984,112C1163.914,120.333,853.773,128.667,698.703,137C543.633,145.333,543.633,153.667,543.633,162C543.633,170.333,543.633,178.667,538.399,186.61C533.165,194.553,522.697,202.106,517.463,205.883L512.229,209.659"}),s.jsx(e.path,{markerEnd:"url(#mermaid-0_flowchart-v2-pointEnd)",style:{},className:"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link",id:"L_TRAITS_ANALYZER_0",d:"M1916.82,87L1916.82,91.167C1916.82,95.333,1916.82,103.667,1916.82,112C1916.82,120.333,1916.82,128.667,1916.82,137C1916.82,145.333,1916.82,153.667,1916.82,162C1916.82,170.333,1916.82,178.667,1916.82,191.5C1916.82,204.333,1916.82,221.667,1916.82,239C1916.82,256.333,1916.82,273.667,1916.82,291C1916.82,308.333,1916.82,325.667,1916.82,343C1916.82,360.333,1916.82,377.667,1916.82,390.5C1916.82,403.333,1916.82,411.667,1916.82,420C1916.82,428.333,1916.82,436.667,1916.82,449.5C1916.82,462.333,1916.82,479.667,1916.82,497C1916.82,514.333,1916.82,531.667,1916.82,549C1916.82,566.333,1916.82,583.667,1916.82,601C1916.82,618.333,1916.82,635.667,1916.82,648.5C1916.82,661.333,1916.82,669.667,1923.971,677.684C1931.122,685.701,1945.424,693.402,1952.575,697.253L1959.726,701.104"}),s.jsx(e.path,{markerEnd:"url(#mermaid-0_flowchart-v2-pointEnd)",style:{},className:"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link",id:"L_MATH_ANALYZER_0",d:"M2141.68,87L2141.68,91.167C2141.68,95.333,2141.68,103.667,2141.68,112C2141.68,120.333,2141.68,128.667,2141.68,137C2141.68,145.333,2141.68,153.667,2141.68,162C2141.68,170.333,2141.68,178.667,2141.68,191.5C2141.68,204.333,2141.68,221.667,2141.68,239C2141.68,256.333,2141.68,273.667,2141.68,291C2141.68,308.333,2141.68,325.667,2141.68,343C2141.68,360.333,2141.68,377.667,2141.68,390.5C2141.68,403.333,2141.68,411.667,2141.68,420C2141.68,428.333,2141.68,436.667,2141.68,449.5C2141.68,462.333,2141.68,479.667,2141.68,497C2141.68,514.333,2141.68,531.667,2141.68,549C2141.68,566.333,2141.68,583.667,2141.68,601C2141.68,618.333,2141.68,635.667,2141.68,648.5C2141.68,661.333,2141.68,669.667,2132.018,677.75C2122.356,685.832,2103.033,693.665,2093.371,697.581L2083.709,701.497"}),s.jsx(e.path,{markerEnd:"url(#mermaid-0_flowchart-v2-pointEnd)",style:{},className:"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link",id:"L_PROTOCOL_STORE_0",d:"M1692.406,87L1692.406,91.167C1692.406,95.333,1692.406,103.667,1571.921,112C1451.436,120.333,1210.466,128.667,1089.981,137C969.496,145.333,969.496,153.667,969.496,162C969.496,170.333,969.496,178.667,969.496,191.5C969.496,204.333,969.496,221.667,969.496,239C969.496,256.333,969.496,273.667,961.721,286.203C953.946,298.739,938.396,306.478,930.621,310.348L922.846,314.218"})]}),s.jsxs(e.g,{className:"edgeLabels",children:[s.jsx(e.g,{className:"edgeLabel",children:s.jsx(e.g,{transform:"translate(0, 0)",className:"label",children:s.jsx(e.foreignObject,{height:"0",width:"0",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},className:"labelBkg",xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"edgeLabel"})})})})}),s.jsx(e.g,{className:"edgeLabel",children:s.jsx(e.g,{transform:"translate(0, 0)",className:"label",children:s.jsx(e.foreignObject,{height:"0",width:"0",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},className:"labelBkg",xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"edgeLabel"})})})})}),s.jsx(e.g,{className:"edgeLabel",children:s.jsx(e.g,{transform:"translate(0, 0)",className:"label",children:s.jsx(e.foreignObject,{height:"0",width:"0",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},className:"labelBkg",xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"edgeLabel"})})})})}),s.jsx(e.g,{className:"edgeLabel",children:s.jsx(e.g,{transform:"translate(0, 0)",className:"label",children:s.jsx(e.foreignObject,{height:"0",width:"0",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},className:"labelBkg",xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"edgeLabel"})})})})}),s.jsx(e.g,{className:"edgeLabel",children:s.jsx(e.g,{transform:"translate(0, 0)",className:"label",children:s.jsx(e.foreignObject,{height:"0",width:"0",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},className:"labelBkg",xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"edgeLabel"})})})})}),s.jsx(e.g,{className:"edgeLabel",children:s.jsx(e.g,{transform:"translate(0, 0)",className:"label",children:s.jsx(e.foreignObject,{height:"0",width:"0",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},className:"labelBkg",xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"edgeLabel"})})})})}),s.jsx(e.g,{className:"edgeLabel",children:s.jsx(e.g,{transform:"translate(0, 0)",className:"label",children:s.jsx(e.foreignObject,{height:"0",width:"0",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},className:"labelBkg",xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"edgeLabel"})})})})}),s.jsx(e.g,{className:"edgeLabel",children:s.jsx(e.g,{transform:"translate(0, 0)",className:"label",children:s.jsx(e.foreignObject,{height:"0",width:"0",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},className:"labelBkg",xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"edgeLabel"})})})})}),s.jsx(e.g,{className:"edgeLabel",children:s.jsx(e.g,{transform:"translate(0, 0)",className:"label",children:s.jsx(e.foreignObject,{height:"0",width:"0",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},className:"labelBkg",xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"edgeLabel"})})})})}),s.jsx(e.g,{className:"edgeLabel",children:s.jsx(e.g,{transform:"translate(0, 0)",className:"label",children:s.jsx(e.foreignObject,{height:"0",width:"0",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},className:"labelBkg",xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"edgeLabel"})})})})}),s.jsx(e.g,{className:"edgeLabel",children:s.jsx(e.g,{transform:"translate(0, 0)",className:"label",children:s.jsx(e.foreignObject,{height:"0",width:"0",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},className:"labelBkg",xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"edgeLabel"})})})})}),s.jsx(e.g,{className:"edgeLabel",children:s.jsx(e.g,{transform:"translate(0, 0)",className:"label",children:s.jsx(e.foreignObject,{height:"0",width:"0",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},className:"labelBkg",xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"edgeLabel"})})})})}),s.jsx(e.g,{className:"edgeLabel",children:s.jsx(e.g,{transform:"translate(0, 0)",className:"label",children:s.jsx(e.foreignObject,{height:"0",width:"0",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},className:"labelBkg",xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"edgeLabel"})})})})}),s.jsx(e.g,{className:"edgeLabel",children:s.jsx(e.g,{transform:"translate(0, 0)",className:"label",children:s.jsx(e.foreignObject,{height:"0",width:"0",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},className:"labelBkg",xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"edgeLabel"})})})})}),s.jsx(e.g,{className:"edgeLabel",children:s.jsx(e.g,{transform:"translate(0, 0)",className:"label",children:s.jsx(e.foreignObject,{height:"0",width:"0",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},className:"labelBkg",xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"edgeLabel"})})})})}),s.jsx(e.g,{className:"edgeLabel",children:s.jsx(e.g,{transform:"translate(0, 0)",className:"label",children:s.jsx(e.foreignObject,{height:"0",width:"0",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},className:"labelBkg",xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"edgeLabel"})})})})}),s.jsx(e.g,{className:"edgeLabel",children:s.jsx(e.g,{transform:"translate(0, 0)",className:"label",children:s.jsx(e.foreignObject,{height:"0",width:"0",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},className:"labelBkg",xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"edgeLabel"})})})})}),s.jsx(e.g,{className:"edgeLabel",children:s.jsx(e.g,{transform:"translate(0, 0)",className:"label",children:s.jsx(e.foreignObject,{height:"0",width:"0",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},className:"labelBkg",xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"edgeLabel"})})})})}),s.jsx(e.g,{className:"edgeLabel",children:s.jsx(e.g,{transform:"translate(0, 0)",className:"label",children:s.jsx(e.foreignObject,{height:"0",width:"0",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},className:"labelBkg",xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"edgeLabel"})})})})}),s.jsx(e.g,{className:"edgeLabel",children:s.jsx(e.g,{transform:"translate(0, 0)",className:"label",children:s.jsx(e.foreignObject,{height:"0",width:"0",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},className:"labelBkg",xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"edgeLabel"})})})})}),s.jsx(e.g,{className:"edgeLabel",children:s.jsx(e.g,{transform:"translate(0, 0)",className:"label",children:s.jsx(e.foreignObject,{height:"0",width:"0",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},className:"labelBkg",xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"edgeLabel"})})})})}),s.jsx(e.g,{className:"edgeLabel",children:s.jsx(e.g,{transform:"translate(0, 0)",className:"label",children:s.jsx(e.foreignObject,{height:"0",width:"0",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},className:"labelBkg",xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"edgeLabel"})})})})})]}),s.jsxs(e.g,{className:"nodes",children:[s.jsxs(e.g,{transform:"translate(157.921875, 60)",id:"flowchart-TYCHO-0",className:"node default",children:[s.jsx(e.rect,{height:"54",width:"229.84375",y:"-27",x:"-114.921875",style:{},className:"basic label-container"}),s.jsxs(e.g,{transform:"translate(-84.921875, -12)",style:{},className:"label",children:[s.jsx(e.rect,{}),s.jsx(e.foreignObject,{height:"24",width:"169.84375",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"nodeLabel",children:s.jsx(e.p,{children:"Tycho Protocol Streams"})})})})]})]}),s.jsxs(e.g,{transform:"translate(410.6484375, 60)",id:"flowchart-RPC-1",className:"node default",children:[s.jsx(e.rect,{height:"54",width:"175.609375",y:"-27",x:"-87.8046875",style:{},className:"basic label-container"}),s.jsxs(e.g,{transform:"translate(-57.8046875, -12)",style:{},className:"label",children:[s.jsx(e.rect,{}),s.jsx(e.foreignObject,{height:"24",width:"115.609375",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"nodeLabel",children:s.jsx(e.p,{children:"Blockchain RPC"})})})})]})]}),s.jsxs(e.g,{transform:"translate(614.4765625, 60)",id:"flowchart-API-2",className:"node default",children:[s.jsx(e.rect,{height:"54",width:"132.046875",y:"-27",x:"-66.0234375",style:{},className:"basic label-container"}),s.jsxs(e.g,{transform:"translate(-36.0234375, -12)",style:{},className:"label",children:[s.jsx(e.rect,{}),s.jsx(e.foreignObject,{height:"24",width:"72.046875",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"nodeLabel",children:s.jsx(e.p,{children:"Tycho API"})})})})]})]}),s.jsxs(e.g,{transform:"translate(1474.0546875, 60)",id:"flowchart-TYPES-3",className:"node default",children:[s.jsx(e.rect,{height:"54",width:"161.984375",y:"-27",x:"-80.9921875",style:{},className:"basic label-container"}),s.jsxs(e.g,{transform:"translate(-50.9921875, -12)",style:{},className:"label",children:[s.jsx(e.rect,{}),s.jsx(e.foreignObject,{height:"24",width:"101.984375",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"nodeLabel",children:s.jsx(e.p,{children:"Domain Types"})})})})]})]}),s.jsxs(e.g,{transform:"translate(1916.8203125, 60)",id:"flowchart-TRAITS-4",className:"node default",children:[s.jsx(e.rect,{height:"54",width:"174.109375",y:"-27",x:"-87.0546875",style:{},className:"basic label-container"}),s.jsxs(e.g,{transform:"translate(-57.0546875, -12)",style:{},className:"label",children:[s.jsx(e.rect,{}),s.jsx(e.foreignObject,{height:"24",width:"114.109375",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"nodeLabel",children:s.jsx(e.p,{children:"Interfaces/Traits"})})})})]})]}),s.jsxs(e.g,{transform:"translate(2141.6796875, 60)",id:"flowchart-MATH-5",className:"node default",children:[s.jsx(e.rect,{height:"54",width:"175.609375",y:"-27",x:"-87.8046875",style:{},className:"basic label-container"}),s.jsxs(e.g,{transform:"translate(-57.8046875, -12)",style:{},className:"label",children:[s.jsx(e.rect,{}),s.jsx(e.foreignObject,{height:"24",width:"115.609375",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"nodeLabel",children:s.jsx(e.p,{children:"FixedPoint Math"})})})})]})]}),s.jsxs(e.g,{transform:"translate(1692.40625, 60)",id:"flowchart-PROTOCOL-6",className:"node default",children:[s.jsx(e.rect,{height:"54",width:"174.71875",y:"-27",x:"-87.359375",style:{},className:"basic label-container"}),s.jsxs(e.g,{transform:"translate(-57.359375, -12)",style:{},className:"label",children:[s.jsx(e.rect,{}),s.jsx(e.foreignObject,{height:"24",width:"114.71875",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"nodeLabel",children:s.jsx(e.p,{children:"Protocol Models"})})})})]})]}),s.jsxs(e.g,{transform:"translate(471.56640625, 239)",id:"flowchart-STREAMING-7",className:"node default",children:[s.jsx(e.rect,{height:"54",width:"187.1875",y:"-27",x:"-93.59375",style:{},className:"basic label-container"}),s.jsxs(e.g,{transform:"translate(-63.59375, -12)",style:{},className:"label",children:[s.jsx(e.rect,{}),s.jsx(e.foreignObject,{height:"24",width:"127.1875",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"nodeLabel",children:s.jsx(e.p,{children:"Streaming Engine"})})})})]})]}),s.jsxs(e.g,{transform:"translate(769.6875, 239)",id:"flowchart-COLLECTORS-8",className:"node default",children:[s.jsx(e.rect,{height:"54",width:"169.375",y:"-27",x:"-84.6875",style:{},className:"basic label-container"}),s.jsxs(e.g,{transform:"translate(-54.6875, -12)",style:{},className:"label",children:[s.jsx(e.rect,{}),s.jsx(e.foreignObject,{height:"24",width:"109.375",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"nodeLabel",children:s.jsx(e.p,{children:"Data Collectors"})})})})]})]}),s.jsxs(e.g,{transform:"translate(865.015625, 343)",id:"flowchart-STORE-9",className:"node default",children:[s.jsx(e.rect,{height:"54",width:"134.71875",y:"-27",x:"-67.359375",style:{},className:"basic label-container"}),s.jsxs(e.g,{transform:"translate(-37.359375, -12)",style:{},className:"label",children:[s.jsx(e.rect,{}),s.jsx(e.foreignObject,{height:"24",width:"74.71875",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"nodeLabel",children:s.jsx(e.p,{children:"Pool Store"})})})})]})]}),s.jsxs(e.g,{transform:"translate(1319.23828125, 497)",id:"flowchart-GRAPH-10",className:"node default",children:[s.jsx(e.rect,{height:"54",width:"172.0625",y:"-27",x:"-86.03125",style:{},className:"basic label-container"}),s.jsxs(e.g,{transform:"translate(-56.03125, -12)",style:{},className:"label",children:[s.jsx(e.rect,{}),s.jsx(e.foreignObject,{height:"24",width:"112.0625",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"nodeLabel",children:s.jsx(e.p,{children:"Graph Manager"})})})})]})]}),s.jsxs(e.g,{transform:"translate(1199.08984375, 601)",id:"flowchart-ROUTES-11",className:"node default",children:[s.jsx(e.rect,{height:"54",width:"170.296875",y:"-27",x:"-85.1484375",style:{},className:"basic label-container"}),s.jsxs(e.g,{transform:"translate(-55.1484375, -12)",style:{},className:"label",children:[s.jsx(e.rect,{}),s.jsx(e.foreignObject,{height:"24",width:"110.296875",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"nodeLabel",children:s.jsx(e.p,{children:"Route Manager"})})})})]})]}),s.jsxs(e.g,{transform:"translate(2013.390625, 730)",id:"flowchart-ANALYZER-12",className:"node default",children:[s.jsx(e.rect,{height:"54",width:"168.515625",y:"-27",x:"-84.2578125",style:{},className:"basic label-container"}),s.jsxs(e.g,{transform:"translate(-54.2578125, -12)",style:{},className:"label",children:[s.jsx(e.rect,{}),s.jsx(e.foreignObject,{height:"24",width:"108.515625",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"nodeLabel",children:s.jsx(e.p,{children:"Route Analyzer"})})})})]})]}),s.jsxs(e.g,{transform:"translate(2013.390625, 884)",id:"flowchart-ENCODER-13",className:"node default",children:[s.jsx(e.rect,{height:"54",width:"181.859375",y:"-27",x:"-90.9296875",style:{},className:"basic label-container"}),s.jsxs(e.g,{transform:"translate(-60.9296875, -12)",style:{},className:"label",children:[s.jsx(e.rect,{}),s.jsx(e.foreignObject,{height:"24",width:"121.859375",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"nodeLabel",children:s.jsx(e.p,{children:"Solution Encoder"})})})})]})]}),s.jsxs(e.g,{transform:"translate(2013.390625, 988)",id:"flowchart-EXECUTOR-14",className:"node default",children:[s.jsx(e.rect,{height:"54",width:"184.53125",y:"-27",x:"-92.265625",style:{},className:"basic label-container"}),s.jsxs(e.g,{transform:"translate(-62.265625, -12)",style:{},className:"label",children:[s.jsx(e.rect,{}),s.jsx(e.foreignObject,{height:"24",width:"124.53125",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"nodeLabel",children:s.jsx(e.p,{children:"Execution Engine"})})})})]})]}),s.jsxs(e.g,{transform:"translate(2013.390625, 1092)",id:"flowchart-SENDER-15",className:"node default",children:[s.jsx(e.rect,{height:"54",width:"199.046875",y:"-27",x:"-99.5234375",style:{},className:"basic label-container"}),s.jsxs(e.g,{transform:"translate(-69.5234375, -12)",style:{},className:"label",children:[s.jsx(e.rect,{}),s.jsx(e.foreignObject,{height:"24",width:"139.046875",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"nodeLabel",children:s.jsx(e.p,{children:"Transaction Sender"})})})})]})]}),s.jsxs(e.g,{transform:"translate(742.11328125, 730)",id:"flowchart-DB-16",className:"node default",children:[s.jsx(e.rect,{height:"54",width:"126.6875",y:"-27",x:"-63.34375",style:{},className:"basic label-container"}),s.jsxs(e.g,{transform:"translate(-33.34375, -12)",style:{},className:"label",children:[s.jsx(e.rect,{}),s.jsx(e.foreignObject,{height:"24",width:"66.6875",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"nodeLabel",children:s.jsx(e.p,{children:"RocksDB"})})})})]})]}),s.jsxs(e.g,{transform:"translate(939.69921875, 730)",id:"flowchart-CACHE-17",className:"node default",children:[s.jsx(e.rect,{height:"54",width:"168.484375",y:"-27",x:"-84.2421875",style:{},className:"basic label-container"}),s.jsxs(e.g,{transform:"translate(-54.2421875, -12)",style:{},className:"label",children:[s.jsx(e.rect,{}),s.jsx(e.foreignObject,{height:"24",width:"108.484375",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"nodeLabel",children:s.jsx(e.p,{children:"Memory Cache"})})})})]})]}),s.jsxs(e.g,{transform:"translate(2013.390625, 1271)",id:"flowchart-ROUTER-18",className:"node default",children:[s.jsx(e.rect,{height:"54",width:"166.71875",y:"-27",x:"-83.359375",style:{},className:"basic label-container"}),s.jsxs(e.g,{transform:"translate(-53.359375, -12)",style:{},className:"label",children:[s.jsx(e.rect,{}),s.jsx(e.foreignObject,{height:"24",width:"106.71875",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"nodeLabel",children:s.jsx(e.p,{children:"FlashV3Router"})})})})]})]}),s.jsxs(e.g,{transform:"translate(2013.390625, 1375)",id:"flowchart-POOLS-19",className:"node default",children:[s.jsx(e.rect,{height:"54",width:"137.375",y:"-27",x:"-68.6875",style:{},className:"basic label-container"}),s.jsxs(e.g,{transform:"translate(-38.6875, -12)",style:{},className:"label",children:[s.jsx(e.rect,{}),s.jsx(e.foreignObject,{height:"24",width:"77.375",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"nodeLabel",children:s.jsx(e.p,{children:"DEX Pools"})})})})]})]}),s.jsxs(e.g,{transform:"translate(835.625, 60)",id:"flowchart-ARBITRAGER-20",className:"node default",children:[s.jsx(e.rect,{height:"54",width:"130.25",y:"-27",x:"-65.125",style:{},className:"basic label-container"}),s.jsxs(e.g,{transform:"translate(-35.125, -12)",style:{},className:"label",children:[s.jsx(e.rect,{}),s.jsx(e.foreignObject,{height:"24",width:"70.25",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"nodeLabel",children:s.jsx(e.p,{children:"Arbitrager"})})})})]})]}),s.jsxs(e.g,{transform:"translate(1217.921875, 60)",id:"flowchart-ROUTE_EXEC-21",className:"node default",children:[s.jsx(e.rect,{height:"54",width:"170.28125",y:"-27",x:"-85.140625",style:{},className:"basic label-container"}),s.jsxs(e.g,{transform:"translate(-55.140625, -12)",style:{},className:"label",children:[s.jsx(e.rect,{}),s.jsx(e.foreignObject,{height:"24",width:"110.28125",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"nodeLabel",children:s.jsx(e.p,{children:"Route Executor"})})})})]})]}),s.jsxs(e.g,{transform:"translate(1016.765625, 60)",id:"flowchart-TYCHO_CLI-22",className:"node default",children:[s.jsx(e.rect,{height:"54",width:"132.03125",y:"-27",x:"-66.015625",style:{},className:"basic label-container"}),s.jsxs(e.g,{transform:"translate(-36.015625, -12)",style:{},className:"label",children:[s.jsx(e.rect,{}),s.jsx(e.foreignObject,{height:"24",width:"72.03125",children:s.jsx(e.div,{style:{display:"table-cell",whiteSpace:"nowrap",lineHeight:"1.5",maxWidth:"200px",textAlign:"center"},xmlns:"http://www.w3.org/1999/xhtml",children:s.jsx(e.span,{className:"nodeLabel",children:s.jsx(e.p,{children:"Tycho CLI"})})})})]})]})]})]})]})]})}),`
`,s.jsxs(e.h3,{id:"liquidity-mapping-collector",children:["Liquidity Mapping Collector",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#liquidity-mapping-collector",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"The liquidity mapping collector system provides comprehensive chain indexing capabilities through integration with Tycho protocol streams, enabling real-time monitoring of blockchain state changes across multiple supported chains."}),`
`,s.jsxs(e.h4,{id:"persistence",children:["Persistence",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#persistence",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.p,{children:["The system uses ",s.jsx(e.strong,{children:"RocksDB"})," as its primary database engine with a column family architecture optimized for high-performance operations:"]}),`
`,s.jsxs(e.table,{children:[s.jsx(e.thead,{children:s.jsxs(e.tr,{children:[s.jsx(e.th,{children:"Column Family"}),s.jsx(e.th,{children:"Purpose"}),s.jsx(e.th,{children:"Key Format"}),s.jsx(e.th,{children:"Value Format"})]})}),s.jsxs(e.tbody,{children:[s.jsxs(e.tr,{children:[s.jsx(e.td,{children:s.jsx(e.code,{children:"tokens"})}),s.jsx(e.td,{children:"Token metadata"}),s.jsx(e.td,{children:s.jsx(e.code,{children:"token:<address>"})}),s.jsxs(e.td,{children:["Serialized ",s.jsx(e.code,{children:"Token"})," struct"]})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:s.jsx(e.code,{children:"graph"})}),s.jsx(e.td,{children:"Graph edges"}),s.jsx(e.td,{children:s.jsx(e.code,{children:"graph:<token_address>"})}),s.jsxs(e.td,{children:["Serialized ",s.jsx(e.code,{children:"Vec<CompactEdge>"})]})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:s.jsx(e.code,{children:"routes"})}),s.jsx(e.td,{children:"Calculated routes"}),s.jsx(e.td,{children:s.jsx(e.code,{children:"route:<route_id>"})}),s.jsxs(e.td,{children:["Serialized ",s.jsx(e.code,{children:"Route"})," struct"]})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:s.jsx(e.code,{children:"signals"})}),s.jsx(e.td,{children:"Route signals"}),s.jsx(e.td,{children:s.jsx(e.code,{children:"signal:<signal_id>"})}),s.jsxs(e.td,{children:["Serialized ",s.jsx(e.code,{children:"RouteSignal"})," struct"]})]})]})]}),`
`,s.jsxs(e.p,{children:[s.jsx(e.strong,{children:"Performance Optimizations"}),":"]}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Write Batching"}),": 100 operations per batch with 100ms flush interval"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Asynchronous Writes"}),": Non-blocking write operations via dedicated writer thread"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Memory Caching"}),": In-memory route storage with O(1) pool index lookup"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Incremental Updates"}),": Only recalculates affected routes on state changes"]}),`
`]}),`
`,s.jsxs(e.h4,{id:"graph-manager",children:["Graph Manager",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#graph-manager",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"The Graph Manager constructs and maintains trading graphs using tokens as nodes and pools as edges in a multi-graph structure:"}),`
`,s.jsx(s.Fragment,{children:s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsxs(e.code,{children:[s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"pub"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" struct"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" GraphManager"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    token_to_id"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" HashMap"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Bytes"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"u32"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:">,"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    id_to_token"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" HashMap"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"u32"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Bytes"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:">,"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    pool_to_id"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" HashMap"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"String"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"u32"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:">,"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    id_to_pool"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" HashMap"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"u32"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"String"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:">,"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    next_token_id"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" u32"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    next_pool_id"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" u32"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})}),`
`,s.jsx(e.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"#[derive("}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Debug"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Clone"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Serialize"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Deserialize"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:")]"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"pub"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" struct"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" CompactEdge"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    pub"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" pool_id"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" u32"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    pub"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" token_out"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" u32"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    pub"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" protocol"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" u8"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"// 0=UniV2, 1=UniV3, 2=UniV4, etc."})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    pub"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" fee_bps"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" u32"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})})]})})}),`
`,s.jsxs(e.p,{children:[s.jsx(e.strong,{children:"Key Features"}),":"]}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Dynamic Graph Building"}),": Real-time graph construction with generic ",s.jsx(e.code,{children:"build_or_update_graph()"})," function"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Edge Management"}),": Pool rate edges with metadata"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Node Management"}),": Token nodes with properties"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Graph Traversal"}),": Efficient path finding algorithms using Depth-First Search (DFS)"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Cycle Detection"}),": Arbitrage cycle identification"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Incremental Updates"}),": Optimized for streaming performance with every-block updates"]}),`
`]}),`
`,s.jsxs(e.p,{children:[s.jsx(e.strong,{children:"Graph Building Performance"}),":"]}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"193µs"})," for 37 pools"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"33µs"})," for 2 pools"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"O(deg)"})," updates for efficient streaming"]}),`
`]}),`
`,s.jsxs(e.h4,{id:"flash-loan-manager",children:["Flash Loan Manager",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#flash-loan-manager",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"The Flash Loan Manager selects optimal flash loan pools based on fee structure and compatibility rules:"}),`
`,s.jsx(s.Fragment,{children:s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsxs(e.code,{children:[s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"#[derive("}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Debug"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Clone"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"PartialEq"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:")]"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"pub"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" enum"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" FlashLoanProvider"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"    /// Uniswap V3 flash loans - always available for all routes"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"    UniswapV3"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"    /// Uniswap V4 flash loans - conditionally available"})}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"    ///"})}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"    /// **IMPORTANT ELIGIBILITY RULE**:"})}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"    /// V4 flash loans are only allowed when the route does NOT contain Uniswap V4 pools."})}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"    /// This prevents recursive dependencies and potential locking issues."})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"    UniswapV4"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})}),`
`,s.jsx(e.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"#[derive("}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Debug"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Clone"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:")]"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"pub"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" struct"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" FlashLoanCriteria"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    pub"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" min_liquidity_eth"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" f64"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    pub"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" max_fee_bps"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" u32"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    pub"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" preferred_providers"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Vec"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"FlashLoanProvider"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:">,"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})})]})})}),`
`,s.jsxs(e.p,{children:[s.jsx(e.strong,{children:"Flash Loan Selection Logic"}),":"]}),`
`,s.jsxs(e.ol,{children:[`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"V3 Flash Loans"}),": Always compatible with any route (30 bps fee)"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"V4 Flash Loans"}),": Only compatible with routes that do NOT contain V4 pools (0 bps fee)"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Priority Order"}),": V3 (priority 1), V4 (priority 2)"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Liquidity Requirements"}),": Minimum 0.1 ETH liquidity for testing"]}),`
`]}),`
`,s.jsxs(e.p,{children:[s.jsx(e.strong,{children:"Compatibility Rules"}),":"]}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsx(e.li,{children:"✅ Route [USDC → WETH → WBTC] (V2/V3 only) → V4 flash loans allowed"}),`
`,s.jsx(e.li,{children:"❌ Route [USDC → WETH (V4) → DAI] → V4 flash loans blocked, fallback to V3"}),`
`]}),`
`,s.jsxs(e.h4,{id:"route-manager-1",children:["Route Manager",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#route-manager-1",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"The Route Manager discovers and manages arbitrage routes using sophisticated algorithms:"}),`
`,s.jsx(s.Fragment,{children:s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsxs(e.code,{children:[s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"pub"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" struct"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" EnhancedRouteManager"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    cache"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" AHashMap"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"String"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"RouteCacheEntry"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:">, "}),s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"// route_id -> cache entry"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    token_routes"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" AHashMap"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Bytes"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"AHashSet"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"String"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:">>, "}),s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"// token -> route_ids"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    route_deps"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" AHashMap"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"String"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"AHashSet"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"String"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:">>, "}),s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"// pool_id -> route_ids"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    max_hops"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" usize"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    config"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" RouteManagerConfig"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})})]})})}),`
`,s.jsxs(e.p,{children:[s.jsx(e.strong,{children:"Route Discovery Process"}),":"]}),`
`,s.jsxs(e.ol,{children:[`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"BFS-based Discovery"}),": Uses Breadth-First Search for efficient route generation"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Incremental Updates"}),": Only processes affected routes when pools change"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Pruning Heuristics"}),": Applies smart filtering to prevent route explosion"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Cycle Detection"}),": Identifies profitable arbitrage cycles"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Flash Loan Integration"}),": Automatically selects compatible flash loans"]}),`
`]}),`
`,s.jsxs(e.p,{children:[s.jsx(e.strong,{children:"Route Performance"}),":"]}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"2.42µs"})," for 3-hop routes"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"833ns"})," for 4-hop routes"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"791ns"})," for 5-hop routes"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"1,983,160 routes"})," (3-hop) generated in ~222 seconds"]}),`
`]}),`
`,s.jsxs(e.p,{children:[s.jsx(e.strong,{children:"Pruning Heuristics"}),":"]}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsx(e.li,{children:"Avoid cycles (unless for cycle arbitrage)"}),`
`,s.jsx(e.li,{children:"Check for duplicate pools in route"}),`
`,s.jsx(e.li,{children:"Limit routes per token to prevent explosion"}),`
`,s.jsx(e.li,{children:"Protocol-specific pruning (V4 overflow protection)"}),`
`]}),`
`,s.jsxs(e.h3,{id:"streaming-engine-collector",children:["Streaming Engine Collector",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#streaming-engine-collector",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"The MinimalStreamingEngine serves as the central orchestrator for the entire arbitrage system, coordinating real-time data ingestion, route discovery, profitability evaluation, and transaction execution."}),`
`,s.jsxs(e.h4,{id:"core-components",children:["Core Components",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#core-components",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(s.Fragment,{children:s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsxs(e.code,{children:[s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"pub"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" struct"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" MinimalStreamingEngine"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    streamed_pools"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Arc"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Mutex"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"HashMap"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"String"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"ProtocolComponent"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:">>>,"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    streamed_states"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Arc"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"dyn"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" PoolStore"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:">,"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    routes_in_memory"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Arc"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Mutex"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"HashMap"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"String"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"MinimalRoute"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:">>>,"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    route_pool_index"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Arc"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Mutex"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"HashMap"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"String"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"HashSet"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"String"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:">>>>,"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    evaluation_sender"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Option"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"UnboundedSender"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"MinimalRoute"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:">>,"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    execution_queue"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Arc"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Mutex"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Vec"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<("}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"MinimalRoute"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"RouteEvaluation"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:")>>>,"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})})]})})}),`
`,s.jsxs(e.p,{children:[s.jsx(e.strong,{children:"Key Features"}),":"]}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"WebSocket Integration"}),": Direct connection to Tycho protocol streams"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Real-time State Processing"}),": Live protocol state updates from blockchain"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Incremental Graph Building"}),": Dynamic graph construction with new pools"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Route Discovery"}),": Automatic route calculation for new trading pairs"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Performance Optimization"}),": Microsecond-level processing with memory caching"]}),`
`]}),`
`,s.jsxs(e.p,{children:[s.jsx(e.strong,{children:"Initialization Process"}),":"]}),`
`,s.jsxs(e.ol,{children:[`
`,s.jsx(e.li,{children:"Initialize token store from RPC"}),`
`,s.jsx(e.li,{children:"Start Tycho streaming connection"}),`
`,s.jsx(e.li,{children:"Build initial graph from pool data"}),`
`,s.jsx(e.li,{children:"Find routes with flash loans"}),`
`,s.jsx(e.li,{children:"Start route evaluation loop"}),`
`]}),`
`,s.jsxs(e.h3,{id:"stream-and-state-updates",children:["Stream and State Updates",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#stream-and-state-updates",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"The streaming system processes real-time blockchain data through a sophisticated pipeline:"}),`
`,s.jsxs(e.h4,{id:"stream-message-processing",children:["Stream Message Processing",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#stream-message-processing",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(s.Fragment,{children:s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsxs(e.code,{children:[s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"async"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" fn"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" process_stream_message"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"&mut"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" self"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", message"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" StreamMessage"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"->"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Result"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<()> {"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"    // Update pool states"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"    self"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"update_pool_states"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"&"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"message)"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:".await?"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:";"})]}),`
`,s.jsx(e.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"    // Check for new trading pairs"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    if"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" self"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"has_new_pairs"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"&"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"message) {"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"        self"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"process_new_pools"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"&"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"message)"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:".await?"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:";"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    }"})}),`
`,s.jsx(e.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"    // Re-evaluate existing routes if state changed"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    if"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" self"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"has_state_updates"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"&"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"message) {"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"        self"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"re_evaluate_routes"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"()"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:".await?"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:";"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    }"})}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})})]})})}),`
`,s.jsxs(e.h4,{id:"state-update-flow",children:["State Update Flow",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#state-update-flow",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:s.jsxs(e.svg,{"aria-roledescription":"sequence",role:"graphics-document document",viewBox:"-50 -10 1568 479",style:{maxWidth:"100%",cursor:"zoom-in",height:"auto"},xmlnsXlink:"http://www.w3.org/1999/xlink",xmlns:"http://www.w3.org/2000/svg",width:"100%",id:"mermaid-1","data-zoomable":"true",className:"mermaid-zoomable",children:[s.jsxs(e.g,{children:[s.jsx(e.rect,{className:"actor actor-bottom",ry:"3",rx:"3",name:"EE",height:"65",width:"150",stroke:"#666",fill:"#eaeaea",y:"393",x:"1318"}),s.jsx(e.text,{style:{textAnchor:"middle",fontSize:"16px",fontWeight:"400",fontFamily:"arial, sans-serif"},className:"actor actor-box",alignmentBaseline:"central",dominantBaseline:"central",y:"425.5",x:"1393",children:s.jsx(e.tspan,{dy:"0",x:"1393",children:"Execution Engine"})})]}),s.jsxs(e.g,{children:[s.jsx(e.rect,{className:"actor actor-bottom",ry:"3",rx:"3",name:"RA",height:"65",width:"150",stroke:"#666",fill:"#eaeaea",y:"393",x:"1063"}),s.jsx(e.text,{style:{textAnchor:"middle",fontSize:"16px",fontWeight:"400",fontFamily:"arial, sans-serif"},className:"actor actor-box",alignmentBaseline:"central",dominantBaseline:"central",y:"425.5",x:"1138",children:s.jsx(e.tspan,{dy:"0",x:"1138",children:"Route Analyzer"})})]}),s.jsxs(e.g,{children:[s.jsx(e.rect,{className:"actor actor-bottom",ry:"3",rx:"3",name:"RM",height:"65",width:"150",stroke:"#666",fill:"#eaeaea",y:"393",x:"863"}),s.jsx(e.text,{style:{textAnchor:"middle",fontSize:"16px",fontWeight:"400",fontFamily:"arial, sans-serif"},className:"actor actor-box",alignmentBaseline:"central",dominantBaseline:"central",y:"425.5",x:"938",children:s.jsx(e.tspan,{dy:"0",x:"938",children:"Route Manager"})})]}),s.jsxs(e.g,{children:[s.jsx(e.rect,{className:"actor actor-bottom",ry:"3",rx:"3",name:"GM",height:"65",width:"150",stroke:"#666",fill:"#eaeaea",y:"393",x:"635"}),s.jsx(e.text,{style:{textAnchor:"middle",fontSize:"16px",fontWeight:"400",fontFamily:"arial, sans-serif"},className:"actor actor-box",alignmentBaseline:"central",dominantBaseline:"central",y:"425.5",x:"710",children:s.jsx(e.tspan,{dy:"0",x:"710",children:"Graph Manager"})})]}),s.jsxs(e.g,{children:[s.jsx(e.rect,{className:"actor actor-bottom",ry:"3",rx:"3",name:"PS",height:"65",width:"150",stroke:"#666",fill:"#eaeaea",y:"393",x:"435"}),s.jsx(e.text,{style:{textAnchor:"middle",fontSize:"16px",fontWeight:"400",fontFamily:"arial, sans-serif"},className:"actor actor-box",alignmentBaseline:"central",dominantBaseline:"central",y:"425.5",x:"510",children:s.jsx(e.tspan,{dy:"0",x:"510",children:"Pool Store"})})]}),s.jsxs(e.g,{children:[s.jsx(e.rect,{className:"actor actor-bottom",ry:"3",rx:"3",name:"SE",height:"65",width:"150",stroke:"#666",fill:"#eaeaea",y:"393",x:"235"}),s.jsx(e.text,{style:{textAnchor:"middle",fontSize:"16px",fontWeight:"400",fontFamily:"arial, sans-serif"},className:"actor actor-box",alignmentBaseline:"central",dominantBaseline:"central",y:"425.5",x:"310",children:s.jsx(e.tspan,{dy:"0",x:"310",children:"Streaming Engine"})})]}),s.jsxs(e.g,{children:[s.jsx(e.rect,{className:"actor actor-bottom",ry:"3",rx:"3",name:"T",height:"65",width:"150",stroke:"#666",fill:"#eaeaea",y:"393",x:"0"}),s.jsx(e.text,{style:{textAnchor:"middle",fontSize:"16px",fontWeight:"400",fontFamily:"arial, sans-serif"},className:"actor actor-box",alignmentBaseline:"central",dominantBaseline:"central",y:"425.5",x:"75",children:s.jsx(e.tspan,{dy:"0",x:"75",children:"Tycho Stream"})})]}),s.jsxs(e.g,{children:[s.jsx(e.line,{name:"EE",stroke:"#999",strokeWidth:"0.5px",className:"actor-line 200",y2:"393",x2:"1393",y1:"65",x1:"1393",id:"actor6"}),s.jsxs(e.g,{id:"root-6",children:[s.jsx(e.rect,{className:"actor actor-top",ry:"3",rx:"3",name:"EE",height:"65",width:"150",stroke:"#666",fill:"#eaeaea",y:"0",x:"1318"}),s.jsx(e.text,{style:{textAnchor:"middle",fontSize:"16px",fontWeight:"400",fontFamily:"arial, sans-serif"},className:"actor actor-box",alignmentBaseline:"central",dominantBaseline:"central",y:"32.5",x:"1393",children:s.jsx(e.tspan,{dy:"0",x:"1393",children:"Execution Engine"})})]})]}),s.jsxs(e.g,{children:[s.jsx(e.line,{name:"RA",stroke:"#999",strokeWidth:"0.5px",className:"actor-line 200",y2:"393",x2:"1138",y1:"65",x1:"1138",id:"actor5"}),s.jsxs(e.g,{id:"root-5",children:[s.jsx(e.rect,{className:"actor actor-top",ry:"3",rx:"3",name:"RA",height:"65",width:"150",stroke:"#666",fill:"#eaeaea",y:"0",x:"1063"}),s.jsx(e.text,{style:{textAnchor:"middle",fontSize:"16px",fontWeight:"400",fontFamily:"arial, sans-serif"},className:"actor actor-box",alignmentBaseline:"central",dominantBaseline:"central",y:"32.5",x:"1138",children:s.jsx(e.tspan,{dy:"0",x:"1138",children:"Route Analyzer"})})]})]}),s.jsxs(e.g,{children:[s.jsx(e.line,{name:"RM",stroke:"#999",strokeWidth:"0.5px",className:"actor-line 200",y2:"393",x2:"938",y1:"65",x1:"938",id:"actor4"}),s.jsxs(e.g,{id:"root-4",children:[s.jsx(e.rect,{className:"actor actor-top",ry:"3",rx:"3",name:"RM",height:"65",width:"150",stroke:"#666",fill:"#eaeaea",y:"0",x:"863"}),s.jsx(e.text,{style:{textAnchor:"middle",fontSize:"16px",fontWeight:"400",fontFamily:"arial, sans-serif"},className:"actor actor-box",alignmentBaseline:"central",dominantBaseline:"central",y:"32.5",x:"938",children:s.jsx(e.tspan,{dy:"0",x:"938",children:"Route Manager"})})]})]}),s.jsxs(e.g,{children:[s.jsx(e.line,{name:"GM",stroke:"#999",strokeWidth:"0.5px",className:"actor-line 200",y2:"393",x2:"710",y1:"65",x1:"710",id:"actor3"}),s.jsxs(e.g,{id:"root-3",children:[s.jsx(e.rect,{className:"actor actor-top",ry:"3",rx:"3",name:"GM",height:"65",width:"150",stroke:"#666",fill:"#eaeaea",y:"0",x:"635"}),s.jsx(e.text,{style:{textAnchor:"middle",fontSize:"16px",fontWeight:"400",fontFamily:"arial, sans-serif"},className:"actor actor-box",alignmentBaseline:"central",dominantBaseline:"central",y:"32.5",x:"710",children:s.jsx(e.tspan,{dy:"0",x:"710",children:"Graph Manager"})})]})]}),s.jsxs(e.g,{children:[s.jsx(e.line,{name:"PS",stroke:"#999",strokeWidth:"0.5px",className:"actor-line 200",y2:"393",x2:"510",y1:"65",x1:"510",id:"actor2"}),s.jsxs(e.g,{id:"root-2",children:[s.jsx(e.rect,{className:"actor actor-top",ry:"3",rx:"3",name:"PS",height:"65",width:"150",stroke:"#666",fill:"#eaeaea",y:"0",x:"435"}),s.jsx(e.text,{style:{textAnchor:"middle",fontSize:"16px",fontWeight:"400",fontFamily:"arial, sans-serif"},className:"actor actor-box",alignmentBaseline:"central",dominantBaseline:"central",y:"32.5",x:"510",children:s.jsx(e.tspan,{dy:"0",x:"510",children:"Pool Store"})})]})]}),s.jsxs(e.g,{children:[s.jsx(e.line,{name:"SE",stroke:"#999",strokeWidth:"0.5px",className:"actor-line 200",y2:"393",x2:"310",y1:"65",x1:"310",id:"actor1"}),s.jsxs(e.g,{id:"root-1",children:[s.jsx(e.rect,{className:"actor actor-top",ry:"3",rx:"3",name:"SE",height:"65",width:"150",stroke:"#666",fill:"#eaeaea",y:"0",x:"235"}),s.jsx(e.text,{style:{textAnchor:"middle",fontSize:"16px",fontWeight:"400",fontFamily:"arial, sans-serif"},className:"actor actor-box",alignmentBaseline:"central",dominantBaseline:"central",y:"32.5",x:"310",children:s.jsx(e.tspan,{dy:"0",x:"310",children:"Streaming Engine"})})]})]}),s.jsxs(e.g,{children:[s.jsx(e.line,{name:"T",stroke:"#999",strokeWidth:"0.5px",className:"actor-line 200",y2:"393",x2:"75",y1:"65",x1:"75",id:"actor0"}),s.jsxs(e.g,{id:"root-0",children:[s.jsx(e.rect,{className:"actor actor-top",ry:"3",rx:"3",name:"T",height:"65",width:"150",stroke:"#666",fill:"#eaeaea",y:"0",x:"0"}),s.jsx(e.text,{style:{textAnchor:"middle",fontSize:"16px",fontWeight:"400",fontFamily:"arial, sans-serif"},className:"actor actor-box",alignmentBaseline:"central",dominantBaseline:"central",y:"32.5",x:"75",children:s.jsx(e.tspan,{dy:"0",x:"75",children:"Tycho Stream"})})]})]}),s.jsx(e.style,{children:"#mermaid-1{font-family:arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-1 .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-1 .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-1 .error-icon{fill:#552222;}#mermaid-1 .error-text{fill:#552222;stroke:#552222;}#mermaid-1 .edge-thickness-normal{stroke-width:1px;}#mermaid-1 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-1 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1 .marker{fill:#333333;stroke:#333333;}#mermaid-1 .marker.cross{stroke:#333333;}#mermaid-1 svg{font-family:arial,sans-serif;font-size:16px;}#mermaid-1 p{margin:0;}#mermaid-1 .actor{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#mermaid-1 text.actor>tspan{fill:black;stroke:none;}#mermaid-1 .actor-line{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);}#mermaid-1 .messageLine0{stroke-width:1.5;stroke-dasharray:none;stroke:#333;}#mermaid-1 .messageLine1{stroke-width:1.5;stroke-dasharray:2,2;stroke:#333;}#mermaid-1 #arrowhead path{fill:#333;stroke:#333;}#mermaid-1 .sequenceNumber{fill:white;}#mermaid-1 #sequencenumber{fill:#333;}#mermaid-1 #crosshead path{fill:#333;stroke:#333;}#mermaid-1 .messageText{fill:#333;stroke:none;}#mermaid-1 .labelBox{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#mermaid-1 .labelText,#mermaid-1 .labelText>tspan{fill:black;stroke:none;}#mermaid-1 .loopText,#mermaid-1 .loopText>tspan{fill:black;stroke:none;}#mermaid-1 .loopLine{stroke-width:2px;stroke-dasharray:2,2;stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);}#mermaid-1 .note{stroke:#aaaa33;fill:#fff5ad;}#mermaid-1 .noteText,#mermaid-1 .noteText>tspan{fill:black;stroke:none;}#mermaid-1 .activation0{fill:#f4f4f4;stroke:#666;}#mermaid-1 .activation1{fill:#f4f4f4;stroke:#666;}#mermaid-1 .activation2{fill:#f4f4f4;stroke:#666;}#mermaid-1 .actorPopupMenu{position:absolute;}#mermaid-1 .actorPopupMenuPanel{position:absolute;fill:#ECECFF;box-shadow:0px 8px 16px 0px rgba(0,0,0,0.2);filter:drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));}#mermaid-1 .actor-man line{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#mermaid-1 .actor-man circle,#mermaid-1 line{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;stroke-width:2px;}#mermaid-1 :root{--mermaid-font-family:arial,sans-serif;}"}),s.jsx(e.g,{}),s.jsx(e.defs,{children:s.jsx(e.symbol,{height:"24",width:"24",id:"computer",children:s.jsx(e.path,{d:"M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z",transform:"scale(.5)"})})}),s.jsx(e.defs,{children:s.jsx(e.symbol,{clipRule:"evenodd",fillRule:"evenodd",id:"database",children:s.jsx(e.path,{d:"M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z",transform:"scale(.5)"})})}),s.jsx(e.defs,{children:s.jsx(e.symbol,{height:"24",width:"24",id:"clock",children:s.jsx(e.path,{d:"M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z",transform:"scale(.5)"})})}),s.jsx(e.defs,{children:s.jsx(e.marker,{orient:"auto-start-reverse",markerHeight:"12",markerWidth:"12",markerUnits:"userSpaceOnUse",refY:"5",refX:"7.9",id:"arrowhead",children:s.jsx(e.path,{d:"M -1 0 L 10 5 L 0 10 z"})})}),s.jsx(e.defs,{children:s.jsx(e.marker,{refY:"4.5",refX:"4",orient:"auto",markerHeight:"8",markerWidth:"15",id:"crosshead",children:s.jsx(e.path,{style:{strokeDasharray:"0, 0"},d:"M 1,2 L 6,7 M 6,2 L 1,7",strokeWidth:"1pt",stroke:"#000000",fill:"none"})})}),s.jsx(e.defs,{children:s.jsx(e.marker,{orient:"auto",markerHeight:"28",markerWidth:"20",refY:"7",refX:"15.5",id:"filled-head",children:s.jsx(e.path,{d:"M 18,7 L9,13 L14,7 L9,1 Z"})})}),s.jsx(e.defs,{children:s.jsx(e.marker,{orient:"auto",markerHeight:"40",markerWidth:"60",refY:"15",refX:"15",id:"sequencenumber",children:s.jsx(e.circle,{r:"6",cy:"15",cx:"15"})})}),s.jsx(e.text,{style:{fontFamily:"arial, sans-serif",fontSize:"16px",fontWeight:"400"},dy:"1em",className:"messageText",alignmentBaseline:"middle",dominantBaseline:"middle",textAnchor:"middle",y:"80",x:"191",children:"Protocol State Updates"}),s.jsx(e.line,{style:{fill:"none"},markerEnd:"url(#arrowhead)",stroke:"none",strokeWidth:"2",className:"messageLine0",y2:"109",x2:"306",y1:"109",x1:"76"}),s.jsx(e.text,{style:{fontFamily:"arial, sans-serif",fontSize:"16px",fontWeight:"400"},dy:"1em",className:"messageText",alignmentBaseline:"middle",dominantBaseline:"middle",textAnchor:"middle",y:"124",x:"409",children:"Store Pool States"}),s.jsx(e.line,{style:{fill:"none"},markerEnd:"url(#arrowhead)",stroke:"none",strokeWidth:"2",className:"messageLine0",y2:"153",x2:"506",y1:"153",x1:"311"}),s.jsx(e.text,{style:{fontFamily:"arial, sans-serif",fontSize:"16px",fontWeight:"400"},dy:"1em",className:"messageText",alignmentBaseline:"middle",dominantBaseline:"middle",textAnchor:"middle",y:"168",x:"509",children:"Update Graph"}),s.jsx(e.line,{style:{fill:"none"},markerEnd:"url(#arrowhead)",stroke:"none",strokeWidth:"2",className:"messageLine0",y2:"197",x2:"706",y1:"197",x1:"311"}),s.jsx(e.text,{style:{fontFamily:"arial, sans-serif",fontSize:"16px",fontWeight:"400"},dy:"1em",className:"messageText",alignmentBaseline:"middle",dominantBaseline:"middle",textAnchor:"middle",y:"212",x:"823",children:"Calculate New Routes"}),s.jsx(e.line,{style:{fill:"none"},markerEnd:"url(#arrowhead)",stroke:"none",strokeWidth:"2",className:"messageLine0",y2:"241",x2:"934",y1:"241",x1:"711"}),s.jsx(e.text,{style:{fontFamily:"arial, sans-serif",fontSize:"16px",fontWeight:"400"},dy:"1em",className:"messageText",alignmentBaseline:"middle",dominantBaseline:"middle",textAnchor:"middle",y:"256",x:"1037",children:"Evaluate Routes"}),s.jsx(e.line,{style:{fill:"none"},markerEnd:"url(#arrowhead)",stroke:"none",strokeWidth:"2",className:"messageLine0",y2:"285",x2:"1134",y1:"285",x1:"939"}),s.jsx(e.text,{style:{fontFamily:"arial, sans-serif",fontSize:"16px",fontWeight:"400"},dy:"1em",className:"messageText",alignmentBaseline:"middle",dominantBaseline:"middle",textAnchor:"middle",y:"300",x:"1264",children:"Execute Profitable Routes"}),s.jsx(e.line,{style:{fill:"none"},markerEnd:"url(#arrowhead)",stroke:"none",strokeWidth:"2",className:"messageLine0",y2:"329",x2:"1389",y1:"329",x1:"1139"}),s.jsx(e.text,{style:{fontFamily:"arial, sans-serif",fontSize:"16px",fontWeight:"400"},dy:"1em",className:"messageText",alignmentBaseline:"middle",dominantBaseline:"middle",textAnchor:"middle",y:"344",x:"736",children:"Transaction Results"}),s.jsx(e.line,{style:{fill:"none"},markerEnd:"url(#arrowhead)",stroke:"none",strokeWidth:"2",className:"messageLine0",y2:"373",x2:"79",y1:"373",x1:"1392"})]})}),`
`,s.jsxs(e.p,{children:[s.jsx(e.strong,{children:"Processing Stages"}),":"]}),`
`,s.jsxs(e.ol,{children:[`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"State Updates"}),": Pool states updated in real-time"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Graph Updates"}),": Trading graph rebuilt incrementally"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Route Calculation"}),": New routes calculated for affected pools"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Route Evaluation"}),": Routes evaluated for profitability"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Execution"}),": Profitable routes executed automatically"]}),`
`]}),`
`,s.jsxs(e.h3,{id:"route-evaluation-triggering",children:["Route Evaluation Triggering",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#route-evaluation-triggering",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"Route evaluation is triggered by state changes in the streaming system:"}),`
`,s.jsxs(e.h4,{id:"evaluation-conditions",children:["Evaluation Conditions",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#evaluation-conditions",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"Routes are evaluated when:"}),`
`,s.jsxs(e.ol,{children:[`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"New Pools Detected"}),": New trading pairs added to the system"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Pool State Changes"}),": Liquidity or rate changes in existing pools"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Periodic Re-evaluation"}),": Scheduled evaluation of all routes"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Manual Triggers"}),": CLI-triggered evaluation for testing"]}),`
`]}),`
`,s.jsxs(e.h4,{id:"evaluation-pipeline",children:["Evaluation Pipeline",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#evaluation-pipeline",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(s.Fragment,{children:s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsxs(e.code,{children:[s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"async"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" fn"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" evaluate_routes_continuously"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"&mut"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" self"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"->"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Result"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<()> {"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    loop"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"        // Get routes from queue"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        if"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" let"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Some"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(route) "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"="}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" self"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"route_evaluation_queue"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"pop"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"()"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:".await"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"            // Evaluate route"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"            let"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" evaluation "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"="}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" self"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"route_analyzer"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"evaluate_route"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"&"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"route)"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:".await?"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:";"})]}),`
`,s.jsx(e.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"            // Check if profitable"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"            if"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" evaluation"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"execution_viable {"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"                // Queue for execution"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"                self"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"execution_queue"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"push"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"((route, evaluation))"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:".await?"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:";"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"            }"})}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        }"})}),`
`,s.jsx(e.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"        // Process execution queue"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"        self"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"process_execution_queue"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"()"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:".await?"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:";"})]}),`
`,s.jsx(e.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"        // Small delay to prevent busy waiting"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"        tokio"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"::"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"time"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"::"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"sleep"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Duration"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"::"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"from_millis"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"10"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"))"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:".await"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:";"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    }"})}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})})]})})}),`
`,s.jsxs(e.h3,{id:"cyclical-arbitrage-strategy",children:["Cyclical Arbitrage Strategy",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#cyclical-arbitrage-strategy",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"The cyclical arbitrage strategy implements sophisticated route evaluation algorithms that analyze potential arbitrage opportunities across multiple DEX protocols."}),`
`,s.jsxs(e.h4,{id:"route-evaluation-for-profitability",children:["Route Evaluation for Profitability",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#route-evaluation-for-profitability",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"The RouteAnalyzer component uses real-time protocol states to calculate accurate swap amounts and profitability metrics:"}),`
`,s.jsx(s.Fragment,{children:s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsxs(e.code,{children:[s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"impl"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" RouteAnalyzer"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    pub"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" async"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" fn"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" evaluate_route"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        &"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"self"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        route"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" &"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Route"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        pool_store"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" &dyn"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" PoolStore"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    ) "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"->"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Result"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"RouteEvaluation"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"> {"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"        // Get current pool states"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        let"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" pool_states "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"="}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" pool_store"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"get_pool_states"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"&"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"route"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"pools)"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:".await?"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:";"})]}),`
`,s.jsx(e.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"        // Calculate optimal input amount"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        let"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" optimal_amount "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"="}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" self"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"find_optimal_input_amount"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(route, "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"&"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"pool_states)"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:".await?"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:";"})]}),`
`,s.jsx(e.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"        // Calculate swap amounts using ProtocolSim"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        let"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" swap_result "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"="}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" self"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"protocol_sim"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"calculate_swap"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"            route,"})}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"            optimal_amount,"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"            &"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"pool_states,"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        )"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:".await?"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:";"})]}),`
`,s.jsx(e.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"        // Apply V4 overflow protection"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        let"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" protected_amounts "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"="}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" self"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"apply_v4_overflow_protection"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"            route,"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"            &"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"swap_result,"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        )"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:".await?"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:";"})]}),`
`,s.jsx(e.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"        // Calculate profitability"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        let"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" profit "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"="}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" self"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"calculate_profitability"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"            route,"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"            &"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"protected_amounts,"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        )"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:".await?"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:";"})]}),`
`,s.jsx(e.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"        Ok"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"RouteEvaluation"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"            route_id"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" route"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"id"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"clone"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(),"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"            input_amount"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" optimal_amount,"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"            output_amount"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" protected_amounts"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"final_output,"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"            profit"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" profit"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"net_profit,"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"            roi_percentage"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" profit"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"roi_percentage,"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"            gas_cost"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" profit"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"estimated_gas_cost,"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"            flash_loan_fee"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" profit"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"flash_loan_fee,"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"            execution_viable"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" profit"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"net_profit "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:">"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" 0.0"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        })"})}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    }"})}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})})]})})}),`
`,s.jsxs(e.h4,{id:"optimal-amount-calculation",children:["Optimal Amount Calculation",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#optimal-amount-calculation",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.p,{children:["The system uses a sophisticated ",s.jsx(e.strong,{children:"exponential search + binary search"})," algorithm to find the optimal input amount:"]}),`
`,s.jsxs(e.h5,{id:"phase-1-doubling-search-exponential-growth-1",children:["Phase 1: Doubling Search (Exponential Growth)",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#phase-1-doubling-search-exponential-growth-1",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.p,{children:[s.jsx(e.strong,{children:"Goal"}),": Quickly find an upper bound for profitable input."]}),`
`,s.jsxs(e.ol,{children:[`
`,s.jsxs(e.li,{children:["Set ",s.jsx(e.code,{children:"A = A_min"})]}),`
`,s.jsxs(e.li,{children:["Repeat for maximum iterations:",`
`,s.jsxs(e.ul,{children:[`
`,s.jsxs(e.li,{children:["Evaluate profit: ",s.jsx(e.code,{children:"P = profit(A)"})]}),`
`,s.jsxs(e.li,{children:["If ",s.jsx(e.code,{children:"P > P_best"}),", update best values"]}),`
`,s.jsx(e.li,{children:"If profit drops below threshold, stop doubling"}),`
`,s.jsxs(e.li,{children:["Else, double the input: ",s.jsx(e.code,{children:"A = 2 * A"})]}),`
`]}),`
`]}),`
`]}),`
`,s.jsxs(e.h5,{id:"phase-2-binary-search-refinement-1",children:["Phase 2: Binary Search (Refinement)",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#phase-2-binary-search-refinement-1",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.p,{children:[s.jsx(e.strong,{children:"Goal"}),": Refine the optimal input within ",s.jsx(e.code,{children:"[A_min, A_max]"}),"."]}),`
`,s.jsxs(e.ol,{children:[`
`,s.jsxs(e.li,{children:["While ",s.jsx(e.code,{children:"A_max - A_min > ε"})," and iterations < max:",`
`,s.jsxs(e.ul,{children:[`
`,s.jsxs(e.li,{children:["Compute midpoint: ",s.jsx(e.code,{children:"A_mid = (A_min + A_max) / 2"})]}),`
`,s.jsx(e.li,{children:"Evaluate profit at midpoint"}),`
`,s.jsx(e.li,{children:"Update best if midpoint is better"}),`
`,s.jsx(e.li,{children:"Update bounds based on profit comparison"}),`
`]}),`
`]}),`
`]}),`
`,s.jsxs(e.p,{children:[s.jsx(e.strong,{children:"Mathematical Summary"}),":"]}),`
`,s.jsx(s.Fragment,{children:s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsxs(e.code,{children:[s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"maximize P(A) = profit from route given input A"})}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"subject to A_min ≤ A ≤ A_max, P(A) ≥ profit_threshold"})}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"where A_max found via exponential doubling and A_best refined via binary search."})})]})})}),`
`,s.jsxs(e.h4,{id:"solution-creation",children:["Solution Creation",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#solution-creation",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"Solution encoding transforms route evaluations into executable smart contract calldata:"}),`
`,s.jsx(s.Fragment,{children:s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsxs(e.code,{children:[s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"pub"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" fn"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" encode_solution"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(solution"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Solution"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", chain"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Chain"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"->"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" anyhow"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"::"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Result"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"EncodedSolution"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"> {"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    let"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" encoder "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"="}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" TychoRouterEncoderBuilder"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"::"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"new"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"()"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        ."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"chain"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(chain)"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        ."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"user_transfer_type"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"UserTransferType"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"::"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"TransferFrom"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:")"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        ."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"build"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"()"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"?"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:";"})]}),`
`,s.jsx(e.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    let"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" encoded_vec "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"="}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" encoder"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"encode_solutions"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"vec!"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"[solution])"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"?"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:";"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"    Ok"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(encoded_vec"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"into_iter"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"()"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"next"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"()"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"expect"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:'"Expected at least one encoded solution"'}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"))"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})})]})})}),`
`,s.jsxs(e.p,{children:[s.jsx(e.strong,{children:"Key Features"}),":"]}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"TychoRouterEncoderBuilder"}),": Uses Tycho's encoder for ABI-compliant calldata"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Flash Loan Integration"}),": Encodes flash loan parameters and sequential swaps"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Gas Optimization"}),": Optimizes transaction parameters for execution"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Multi-protocol Support"}),": Handles V2, V3, V4 protocol differences"]}),`
`]}),`
`,s.jsxs(e.h4,{id:"signal-generation",children:["Signal Generation",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#signal-generation",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"The system generates execution signals for profitable routes:"}),`
`,s.jsx(s.Fragment,{children:s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsxs(e.code,{children:[s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"#[derive("}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Debug"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Clone"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Serialize"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Deserialize"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:")]"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"pub"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" struct"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" RouteSignal"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    pub"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" route_id"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" String"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    pub"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" route"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" MinimalRoute"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    pub"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" evaluation"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" RouteEvaluation"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    pub"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" timestamp"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" SystemTime"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    pub"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" execution_attempts"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" u32"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    pub"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" priority_score"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" f64"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    pub"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" status"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" SignalStatus"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})}),`
`,s.jsx(e.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"#[derive("}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Debug"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Clone"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Serialize"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Deserialize"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:")]"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"pub"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" enum"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" SignalStatus"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"    Pending"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"    Evaluating"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"    ReadyForExecution"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"    Executing"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"    Executed"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"    Failed"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"    Expired"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})})]})})}),`
`,s.jsxs(e.p,{children:[s.jsx(e.strong,{children:"Signal Flow"}),":"]}),`
`,s.jsxs(e.ol,{children:[`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Route Discovery"})," → Create RouteSignal"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Evaluation Phase"})," → Check profitability"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Execution Phase"})," → Execute if profitable"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Result Processing"})," → Update signal status"]}),`
`]}),`
`,s.jsxs(e.h3,{id:"execution-engine",children:["Execution Engine",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#execution-engine",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"The Execution Engine handles the actual transaction execution with comprehensive error handling and retry logic:"}),`
`,s.jsx(s.Fragment,{children:s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsxs(e.code,{children:[s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"impl"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" ExecutionEngine"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    pub"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" async"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" fn"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" execute_signal"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"&mut"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" self"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", signal"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" &"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"RouteSignal"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"->"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Result"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"EvaluationResult"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"> {"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"        // Pre-flight simulation"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        let"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" simulation_result "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"="}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" self"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"preflight_simulation"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(signal)"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:".await?"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:";"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        if"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" !"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"simulation_result"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"success {"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"            return"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Err"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"anyhow"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"::"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"anyhow!"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:'"Pre-flight simulation failed"'}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"));"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        }"})}),`
`,s.jsx(e.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"        // Check account balance"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        let"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" balance_check "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"="}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" self"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"check_account_balance"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(signal)"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:".await?"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:";"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        if"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" !"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"balance_check"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"sufficient {"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"            return"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Err"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"anyhow"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"::"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"anyhow!"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:'"Insufficient balance"'}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"));"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        }"})}),`
`,s.jsx(e.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"        // Encode solution"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        let"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" encoded_solution "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"="}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" self"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"encode_solution"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(signal)"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:".await?"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:";"})]}),`
`,s.jsx(e.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"        // Send transaction"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        let"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" tx_hash "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"="}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" self"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"send_flash_transaction"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(signal, "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"&"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"encoded_solution)"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:".await?"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:";"})]}),`
`,s.jsx(e.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"        // Wait for confirmation"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        let"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" receipt "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"="}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" self"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"wait_for_confirmation"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(tx_hash)"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:".await?"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:";"})]}),`
`,s.jsx(e.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"        // Parse execution result"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        let"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" result "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"="}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" self"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"parse_execution_result"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"&"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"receipt, signal)"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:".await?"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:";"})]}),`
`,s.jsx(e.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"        Ok"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(result)"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    }"})}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})})]})})}),`
`,s.jsxs(e.p,{children:[s.jsx(e.strong,{children:"Key Features"}),":"]}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"EIP-1559 Support"}),": Modern transaction format with dynamic gas pricing"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Balance Validation"}),": Pre-execution balance checks"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Retry Logic"}),": Automatic retry with nonce synchronization"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Gas Optimization"}),": Optimized gas parameters for cost efficiency"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Transaction Monitoring"}),": Real-time transaction status tracking"]}),`
`]}),`
`,s.jsxs(e.h3,{id:"flash-loan-and-sequential-swap-mappings",children:["Flash Loan and Sequential Swap Mappings",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#flash-loan-and-sequential-swap-mappings",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"The system implements sophisticated flash loan integration with sequential swap execution:"}),`
`,s.jsxs(e.h4,{id:"flash-loan-selection",children:["Flash Loan Selection",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#flash-loan-selection",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(s.Fragment,{children:s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsxs(e.code,{children:[s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"async"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" fn"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" find_best_flash_loan_pool_with_v4_eligibility"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    &"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"self"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    token"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" &"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Bytes"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    _amount_needed"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" u128"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    streamed_states"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" &dyn"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" PoolStore"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    excluded_pool_ids"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Option"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"&"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"["}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"String"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"]>,"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    route_info"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Option"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"&"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"str"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:">,"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    route_tokens"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Option"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"&"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"["}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Bytes"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"]>,"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    route_has_v4_pools"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" bool"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    input_token_is_v4_eligible"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" bool"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"->"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Result"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Option"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"FlashLoanCandidate"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:">> {"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    let"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" mut"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" flash_loan_candidates "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"="}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Vec"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"::"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"new"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"();"})]}),`
`,s.jsx(e.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"    // V4 Addition: If input token is v4 eligible and route has no V4 pools"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    if"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" input_token_is_v4_eligible "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"&&"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" !"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"route_has_v4_pools {"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        let"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" synthetic_pool "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"="}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" self"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"create_v4_pool_manager_synthetic_pool"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(token);"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        let"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" candidate "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"="}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" FlashLoanCandidate"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"::"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"new"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"            synthetic_pool,"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"            FlashLoanProvider"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"::"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"UniswapV4"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"            1000000.0"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"// Assume very high liquidity for PoolManager"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        );"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        flash_loan_candidates"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"push"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(candidate);"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    }"})}),`
`,s.jsx(e.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"    // V3 Additions: Find all V3 pools containing the token"})}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"    // ... V3 pool selection logic"})}),`
`,s.jsx(e.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"    // Return best candidate based on score"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    flash_loan_candidates"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"sort_by"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"|"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"a, b"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"|"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" b"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"score"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"partial_cmp"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"&"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"a"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"score)"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"unwrap"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"());"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"    Ok"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(flash_loan_candidates"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"first"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"()"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"cloned"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"())"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})})]})})}),`
`,s.jsxs(e.h4,{id:"sequential-swap-execution",children:["Sequential Swap Execution",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#sequential-swap-execution",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"The system executes multi-hop swaps atomically through flash loans:"}),`
`,s.jsxs(e.ol,{children:[`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Flash Loan Borrow"}),": Borrow required tokens from selected pool"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Sequential Swaps"}),": Execute swaps in sequence through route"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Flash Loan Repay"}),": Repay borrowed tokens with profit"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Profit Capture"}),": Keep remaining profit after repayment"]}),`
`]}),`
`,s.jsxs(e.p,{children:[s.jsx(e.strong,{children:"Example Execution Flow"}),":"]}),`
`,s.jsx(s.Fragment,{children:s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsxs(e.code,{children:[s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"Route: [USDC → WETH → MOJO → USDC]"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"1."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" Borrow 1000 USDC via flash loan"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"2."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" Swap 1000 USDC → 0.4 WETH (Uniswap V3)"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"3."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" Swap 0.4 WETH → 1000 MOJO (Uniswap V2)"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"4."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" Swap 1000 MOJO → 1000.96 USDC (Uniswap V2)"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"5."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" Repay 1000 USDC + 0.9 USDC fee = 1000.9 USDC"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"6."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" Keep 0.06 USDC profit"})]})]})})}),`
`,s.jsxs(e.h3,{id:"encoding",children:["Encoding",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#encoding",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"The encoding system converts route evaluations into executable smart contract calldata:"}),`
`,s.jsxs(e.h4,{id:"tychorouterencoderbuilder-integration",children:["TychoRouterEncoderBuilder Integration",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#tychorouterencoderbuilder-integration",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(s.Fragment,{children:s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsxs(e.code,{children:[s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"pub"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" fn"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" encode_solution"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(solution"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Solution"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", chain"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Chain"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"->"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" anyhow"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"::"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Result"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"EncodedSolution"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"> {"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    let"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" encoder "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"="}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" TychoRouterEncoderBuilder"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"::"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"new"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"()"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        ."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"chain"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(chain)"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        ."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"user_transfer_type"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"UserTransferType"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"::"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"TransferFrom"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:")"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        ."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"build"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"()"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"?"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:";"})]}),`
`,s.jsx(e.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    let"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" encoded_vec "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"="}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" encoder"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"encode_solutions"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"vec!"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"[solution])"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"?"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:";"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"    Ok"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(encoded_vec"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"into_iter"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"()"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"next"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"()"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"expect"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:'"Expected at least one encoded solution"'}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"))"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})})]})})}),`
`,s.jsxs(e.p,{children:[s.jsx(e.strong,{children:"Encoding Features"}),":"]}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"ABI Compliance"}),": Standardized function call encoding"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Multi-protocol Support"}),": Handles V2, V3, V4 protocol differences"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Gas Optimization"}),": Minimizes calldata size"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Error Handling"}),": Comprehensive validation and error reporting"]}),`
`]}),`
`,s.jsxs(e.h4,{id:"calldata-structure",children:["Calldata Structure",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#calldata-structure",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"The encoded calldata includes:"}),`
`,s.jsxs(e.ol,{children:[`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Flash Loan Parameters"}),": Pool address, token, amount, fee"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Swap Parameters"}),": Route, amounts, protocols"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Execution Metadata"}),": Gas limits, deadlines, slippage"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Callback Data"}),": Post-swap execution parameters"]}),`
`]}),`
`,s.jsxs(e.h3,{id:"execution",children:["Execution",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#execution",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"The execution system manages transaction lifecycle from creation to confirmation:"}),`
`,s.jsxs(e.h4,{id:"transaction-building",children:["Transaction Building",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#transaction-building",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(s.Fragment,{children:s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsxs(e.code,{children:[s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"async"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" fn"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" build_transaction"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"&"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"self"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", signal"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" &"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"RouteSignal"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"->"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Result"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"TransactionRequest"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"> {"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    let"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" encoded_solution "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"="}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" self"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"encode_solution"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(signal)"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:".await?"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:";"})]}),`
`,s.jsx(e.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"    Ok"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"TransactionRequest"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        to"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Some"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"self"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"config"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"router_address"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"into"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"()),"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        data"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Some"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(encoded_solution"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"calldata"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"into"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"()),"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        gas"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Some"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"U256"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"::"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"from"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"self"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"estimate_gas"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(signal)"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:".await?"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:")),"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        gas_price"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Some"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"self"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"get_current_gas_price"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"()"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:".await?"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"),"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        value"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Some"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"U256"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"::"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"ZERO"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"),"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        from"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Some"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"self"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"signer"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"address"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"()),"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        .."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Default"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"::"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"default"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"()"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    })"})}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})})]})})}),`
`,s.jsxs(e.h4,{id:"execution-flow",children:["Execution Flow",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#execution-flow",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.ol,{children:[`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Pre-flight Validation"}),": Simulate transaction before sending"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Gas Estimation"}),": Calculate optimal gas parameters"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Transaction Submission"}),": Send to network"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Confirmation Waiting"}),": Monitor transaction status"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Result Parsing"}),": Extract execution results"]}),`
`]}),`
`,s.jsxs(e.h3,{id:"preflight-evaluation",children:["PreFlight Evaluation",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#preflight-evaluation",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"Pre-flight evaluation simulates transactions before execution to validate profitability:"}),`
`,s.jsx(s.Fragment,{children:s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsxs(e.code,{children:[s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"async"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" fn"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" preflight_simulation"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"&"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"self"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", signal"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" &"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"RouteSignal"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"->"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Result"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"SimulationResult"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"> {"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    let"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" encoded_solution "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"="}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" self"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"encode_solution"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(signal)"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:".await?"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:";"})]}),`
`,s.jsx(e.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"    // Create simulation transaction"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    let"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" simulation_tx "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"="}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" TransactionRequest"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        to"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Some"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"self"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"config"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"router_address"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"into"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"()),"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        data"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Some"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(encoded_solution"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"calldata"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"into"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"()),"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        gas"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Some"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"U256"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"::"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"from"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"self"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"config"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"preflight_gas_limit)),"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        gas_price"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Some"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"self"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"get_current_gas_price"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"()"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:".await?"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"),"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        value"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Some"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"U256"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"::"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"ZERO"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"),"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        from"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Some"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"self"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"signer"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"address"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"()),"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        .."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Default"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"::"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"default"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"()"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    };"})}),`
`,s.jsx(e.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"    // Execute simulation"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    match"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" self"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"client"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"call"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"&"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"simulation_tx, "}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"None"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:")"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:".await"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"        Ok"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(_) "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"=>"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Ok"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"SimulationResult"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"            success"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" true"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"            error_message"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" String"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"::"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"new"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(),"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"            gas_used"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" 0"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        }),"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"        Err"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(e) "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"=>"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"            // Log the failure but don't stop execution"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"            tracing"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"::"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"warn!"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:'                "Pre-flight simulation failed for route {}: {}"'}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"                signal"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"route_id,"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"                e"})}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"            );"})}),`
`,s.jsx(e.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"            Ok"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"SimulationResult"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"                success"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" false"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"                error_message"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" e"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"to_string"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(),"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"                gas_used"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" 0"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"            })"})}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        }"})}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    }"})}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})})]})})}),`
`,s.jsxs(e.p,{children:[s.jsx(e.strong,{children:"Critical Issue"}),": There is a ",s.jsx(e.strong,{children:"critical issue"})," in the current preflight simulation implementation where ",s.jsx(e.code,{children:"eth_call"})," failures are logged but ",s.jsx(e.strong,{children:"not used to stop execution"}),". This can lead to failed transactions being sent to the network."]}),`
`,s.jsxs(e.p,{children:[s.jsx(e.strong,{children:"Recommended Fix"}),":"]}),`
`,s.jsx(s.Fragment,{children:s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsxs(e.code,{children:[s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"async"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" fn"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" execute_signal"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"&mut"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" self"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", signal"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" &"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"RouteSignal"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"->"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Result"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"EvaluationResult"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"> {"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"    // Pre-flight simulation"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    let"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" simulation_result "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"="}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" self"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"preflight_simulation"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(signal)"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:".await?"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:";"})]}),`
`,s.jsx(e.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"    // CRITICAL FIX: Actually check simulation result"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    if"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" !"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"simulation_result"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"success {"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        return"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Err"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"anyhow"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"::"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"anyhow!"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:'            "Pre-flight simulation failed: {}"'}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"            simulation_result"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"error_message"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        ));"})}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    }"})}),`
`,s.jsx(e.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"    // Continue with execution..."})}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})})]})})}),`
`,s.jsxs(e.h3,{id:"profitability-logging",children:["Profitability Logging",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#profitability-logging",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"The system provides comprehensive profitability logging and analysis:"}),`
`,s.jsxs(e.h4,{id:"profitability-calculation-1",children:["Profitability Calculation",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#profitability-calculation-1",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"The mathematical formulas for profitability calculation:"}),`
`,s.jsxs(e.h5,{id:"1-swap-profit-percentage",children:["1. Swap Profit Percentage",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#1-swap-profit-percentage",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(s.Fragment,{children:s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsx(e.code,{children:s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"swap_profit_percentage = ((amount_out - amount_in) / amount_in) * 100"})})})})}),`
`,s.jsxs(e.h5,{id:"2-flash-fee-percentage",children:["2. Flash Fee Percentage",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#2-flash-fee-percentage",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(s.Fragment,{children:s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsx(e.code,{children:s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"flash_fee_pct = (flash_loan_fee / amount_in) * 100"})})})})}),`
`,s.jsxs(e.h5,{id:"3-net-profit-percentage",children:["3. Net Profit Percentage",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#3-net-profit-percentage",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(s.Fragment,{children:s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsx(e.code,{children:s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"net_profit_percentage = swap_profit_percentage - flash_fee_pct - gas_cost_pct"})})})})}),`
`,s.jsxs(e.h5,{id:"4-net-profit-in-token-units",children:["4. Net Profit in Token Units",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#4-net-profit-in-token-units",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(s.Fragment,{children:s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsx(e.code,{children:s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"net_profit_token = amount_out - amount_in - flash_loan_fee - gas_cost_token"})})})})}),`
`,s.jsxs(e.h3,{id:"persistence-mechanism",children:["Persistence Mechanism",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#persistence-mechanism",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"The persistence system uses RocksDB with optimized column families for different data types:"}),`
`,s.jsxs(e.p,{children:[s.jsx(e.strong,{children:"Database Configuration"}),":"]}),`
`,s.jsx(s.Fragment,{children:s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsxs(e.code,{children:[s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"let"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" cf_names "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"="}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" vec!"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"["}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:'"tokens"'}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:'"graph"'}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:'"routes"'}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:'"signals"'}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"];"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"let"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" db "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"="}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" Arc"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"::"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"new"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"DB"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"::"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"open_cf"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"&"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"opts, db_path, "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"&"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"cf_names)"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"?"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:");"})]})]})})}),`
`,s.jsxs(e.p,{children:[s.jsx(e.strong,{children:"Write Optimization"}),":"]}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Batch Writes"}),": 100 operations per batch"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Async Flushing"}),": 100ms flush interval"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Memory Buffering"}),": In-memory caching before persistence"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Incremental Updates"}),": Only persist changed data"]}),`
`]}),`
`,s.jsxs(e.h3,{id:"queuing-configuration",children:["Queuing Configuration",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#queuing-configuration",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"The system uses multiple queues for different processing stages:"}),`
`,s.jsxs(e.p,{children:[s.jsx(e.strong,{children:"Queue Types"}),":"]}),`
`,s.jsxs(e.ol,{children:[`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Streaming Queue"}),": Raw blockchain data processing"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Evaluation Queue"}),": Route profitability evaluation"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Execution Queue"}),": Transaction execution"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"Signal Queue"}),": Arbitrage opportunity signals"]}),`
`]}),`
`,s.jsxs(e.p,{children:[s.jsx(e.strong,{children:"Queue Management"}),":"]}),`
`,s.jsx(s.Fragment,{children:s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsxs(e.code,{children:[s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"pub"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" struct"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" ExecutionQueue"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    queue"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" VecDeque"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<("}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"MinimalRoute"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"RouteEvaluation"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:")>,"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    max_queue_size"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" usize"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    priority_scores"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" HashMap"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"<"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"String"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"f64"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:">,"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})})]})})}),`
`,s.jsxs(e.p,{children:[s.jsx(e.strong,{children:"Priority Calculation"}),":"]}),`
`,s.jsx(s.Fragment,{children:s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsxs(e.code,{children:[s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"fn"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" calculate_priority"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"&"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"self"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", route"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" &"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"MinimalRoute"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", evaluation"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" &"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"RouteEvaluation"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"->"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" f64"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"    // Higher profit = higher priority"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    let"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" profit_score "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"="}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" evaluation"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"net_profit_percentage;"})]}),`
`,s.jsx(e.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"    // Shorter routes = higher priority (less gas)"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    let"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" gas_score "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"="}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" 1.0"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" /"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" (route"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"hops "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"as"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" f64"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" +"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" 1.0"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:");"})]}),`
`,s.jsx(e.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"    // Combine scores"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    profit_score "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"*"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" 0.7"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" +"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" gas_score "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"*"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" 0.3"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})})]})})}),`
`,s.jsxs(e.h2,{id:"references",children:["References",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#references",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsx(e.li,{children:s.jsx(e.a,{href:"https://en.wikipedia.org/wiki/Bellman%E2%80%93Ford_algorithm",children:"Bellman-Ford Alogorithm"})}),`
`,s.jsx(e.li,{children:s.jsx(e.a,{href:"https://en.wikipedia.org/wiki/Depth-first_search",children:"Depth First Search Algorithm"})}),`
`]}),s.jsx(e.style,{children:`
mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
  min-height: 1px;
  min-width: 1px;
}

mjx-container[jax="SVG"] > svg a {
  fill: blue;
  stroke: blue;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][display="true"][width="full"] {
  display: flex;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line], svg[data-table] > g > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame], svg[data-table] > g > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed, svg[data-table] > g > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted, svg[data-table] > g > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > g > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

mjx-container[jax="SVG"] path[data-c], mjx-container[jax="SVG"] use[data-c] {
  stroke-width: 3;
}
`})]})}function d(i={}){const{wrapper:e}={...n(),...i.components};return e?s.jsx(e,{...i,children:s.jsx(r,{...i})}):r(i)}export{d as default,t as frontmatter};
